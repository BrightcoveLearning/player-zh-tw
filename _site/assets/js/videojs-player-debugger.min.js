/**
 * videojs-player-debugger
 * @version 0.0.0
 * @copyright 2017 Kevin Reynolds
 * @license MIT
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],t):e.videojsPlayerDebugger=t(e.videojs)}(this,function(e){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var S={myBlackbird:"myBlackbird",filters:"bbFilters",controls:"bbControls",sendEmail:"sendEmail",copyLog:"copyLog",slider:"slider",buttonBar:"buttonBar",log:"myBlackbird",btnToggleLog:"btnToggleLog",btnToggleSlider:"btnToggleSlider",btnTogglePlayerSettings:"btnTogglePlayerSettings",btnToggleAdSettings:"btnToggleAdSettings",btnTogglePlaybackInfo:"btnTogglePlaybackInfo",btnToggleDebuggerSettings:"btnToggleDebuggerSettings",classesList:"classesList",playerSettings:"playerSettings",playbackInfo:"playbackInfo",debuggerSettings:"debuggerSettings",btnToggleClassList:"btnToggleClassList",logTable:"logTable",logList:"logList",logJSON:"logJSON",mediaSettings:"mediaSettings",adSettings:"adSettings"},C=(e="default"in e?e.default:e).dom||e,P=function(e){function n(s,i){var r;t(this,n);var o=a(this,e.call(this,s,i));return o.el_=C.createEl("div",{id:o.options_.id}),o.headerEl_=C.createEl("div",{className:"header"}),o.headerEl_.innerHTML="<h2>"+o.options_.name+"</h2>",o.el_.appendChild(o.headerEl_),o.contentEl_=C.createEl("div",{className:"main"}),o.contentEl_.innerHTML=o.options_.content,o.el_.appendChild(o.contentEl_),o.footerEl_=C.createEl("div",{className:"footer"}),o.el_.appendChild(o.footerEl_),r=o,a(o,r)}return s(n,e),n.prototype.content=function(e){return void 0!==e&&(this.contentEl_.innerHTML=e),this.contentEl_.innerHTML},n}(e.getComponent("Component"));e.registerComponent("DebuggerPane",P);var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k=void 0,j=[],L=[],I=[],D=void 0,B=void 0,x=void 0,O=void 0,F=void 0,N={player:!0,loading:!0,ads:!0,console:!0,other:!0},H=void 0,R=function(){var e=new Date;return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+(k.logMilliseconds?":"+e.getMilliseconds():"")},q=function(e){e||(e=window.event),e.target?e.target:e.srcElement,window.open("mailto:email@example.com?subject=Brightcove Player Debugger Log&body="+encodeURIComponent(I.join("\n")))},W=function(e){var t=document.createElement("input");if(t.value=document.getElementsByClassName("main")[0].innerHTML,t.value+=document.getElementsByClassName("main")[1].innerHTML,t.value+=document.getElementsByClassName("main")[2].innerHTML,document.getElementsByClassName("main")[3]&&(t.value+=document.getElementsByClassName("main")[3].innerHTML),t){document.getElementById("myBlackbird").appendChild(t),t.select();try{document.execCommand("copy"),inp.blur()}catch(e){alert("please press Ctrl/Cmd+C to copy")}t.remove()}},V=function(){var e=document.getElementById("myBlackbird");document.getElementById(S.btnToggleLog).classList.toggle("active"),e.classList.toggle("activePane")},U=function(){F.scrollTop=F.scrollHeight},z=function(e){var t=void 0,a=void 0,s=void 0,n=void 0,i=void 0,r=void 0,o=void 0,l=void 0,d=void 0;if(e||(e=window.event),(a=e.target?e.target:e.srcElement)&&"SPAN"==a.tagName){if(s=a.getAttributeNode("type").nodeValue,e.altKey){n=document.getElementById(S.filters).getElementsByTagName("SPAN"),i=0;for(t in N)N[t]&&i++;for(r=1==i&&N[s],o=0;n[o];o++)l=n[o].getAttributeNode("type").nodeValue,n[o].className="fa "+l+(r||l==s?"":" disabled"),N[l]=r||l==s}else N[s]=!N[s],a.className="fa "+s+(N[s]?"":" disabled");d=[];for(s in N)N[s]||d.push(s);d.push(""),F.className=d.join("Hidden "),U()}},Q=function(){var e=window.console,t="";if(e)for(var a=["log","warn","error"],s=0;s<a.length;s++)!function(a){var s=e[a];e[a]=function(){var a=R();if(s.apply){if("object"==(void 0===arguments?"undefined":E(arguments))){Array.prototype.slice.apply(arguments).join(" "),t="";for(var n=0;n<arguments.length;n++)"string"==typeof arguments[n]&&(t+=arguments[n]+" ");D=t}else t=message;J("debug",a,"console",t,"",""),s.apply(e,arguments)}else{var i=Array.prototype.slice.apply(arguments).join(" ");s(i),J("debug",a,"console",i,"","")}}}(a[s])},J=function(e,t,a,s,n,i){var r=void 0,o=document.createDocumentFragment();switch(j.push([e,t,a,n]),n=n.constructor==Array?n.join(""):n,k.logType){case"table":var l=void 0,d=void 0,c=void 0,u=void 0,p=void 0;(l=document.createElement("tr")).setAttribute("class",a),o.appendChild(l),(d=document.createElement("td")).setAttribute("title",e),d.innerText=e,l.appendChild(d),(c=document.createElement("td")).setAttribute("class","timestamp"),c.innerText=t,l.appendChild(c),(u=document.createElement("td")).setAttribute("class","messageType"),u.innerText=a,l.appendChild(u),(p=document.createElement("td")).setAttribute("class","eventType"),p.innerText=s,l.appendChild(p),col5=document.createElement("td"),col5.setAttribute("class","message"),col5.innerHTML=n,l.appendChild(col5),k.logClasses&&(col6=document.createElement("td"),col6.setAttribute("class","playerclasses"),col6.innerText=i,l.appendChild(col6));break;case"list":var g=document.createElement("li"),m=void 0,h=void 0;g.setAttribute("class",a),o.appendChild(g),(h=document.createElement("span")).setAttribute("class","fa "+a),h.setAttribute("title",e),g.appendChild(h),m="["+e+"] "+t+" "+a+" "+s,n&&(m+="<br>"+n),"player"===a&&k.logClasses&&""!=i&&(m+="<br>[CLASSES] "+i),g.innerHTML+=m}r=o.innerHTML,F?(F.appendChild(o),U()):L.push(r),I.push([t," ",a,": ",n].join(""))},X=function(e){var t=void 0,a=[];for(t in N)a.push(['<span class="fa ',t,'" type="',t,'" title="Hide ',t,' messages"></span>'].join(""));return['<div class="left">','<div id="',S.filters,'" class="filters">',a.join(""),"</div>","</div>","<h2>Brightcove Player Debug Log</h2>",'<div class="right">','<div id="',S.controls,'" class="controls">','<span class="fa fa-clipboard" id="',S.copyLog,'" title="Copy log to Clipboard" op="copy"></span>','<span class="fa email" id="',S.sendEmail,'" title="Send log via email" op="email"></span>','<span id="',S.size,'" title="contract" op="resize"></span>','<span class="fa clear" title="Clear Log Messages" op="clear"></span>','<span class="fa close" title="Hide Log" op="close"></span>',"</div>","</div>"].join("")},G=function(e){var t="";switch(e){case"table":var a="";x="tbody",k.logClasses&&(a="<th>Player Classes</th>"),t=['<table id="',S.logTable,'">',"<caption>Brightcove Player Debug Log</caption>","<thead><tr>",'<th class="hdrLevel">Level</th><th class="hdrTime">TimeStamp</th><th class="hdrType">Type</th><th class="hdrEvent">Event</th><th class="hdrMsg">Message</th>',a,"</tr></thead>","<tbody>",L.join(""),"</tbody>","</table>"].join("");break;case"list":x="ol",t=['<ol id="',S.logList,'">',L.join(""),"</ol>"].join("");break;case"json":x="json",t=["<ol>",L.join(""),"</ol>"].join("")}return t+="</div>"},K=function(e){if("object"==(void 0===e?"undefined":E(e)))return Array.prototype.slice.apply(e).join(" ")},Y=function(e,t,a,s){var n="",i=R(),r=void 0;switch(t){case"playerMsg":r="player";break;case"adMsg":r="ads";break;case"techFlash":case"techHTML":case"techOther":r="loading";break;case"sysMsg":r="console";break;default:r="other"}if("{level:"+e+", timestamp:"+i+", type:"+r+", message:"+s+"}",s&&(n+=s),k.logClasses&&"console"!==r){var o=K(H.el_.classList);J(e,i,r,a,s,o)}else J(e,i,r,a,s,"")},Z=function(){document.getElementById(S.logList).innerHTML=""},$=function(e){var t=void 0;if(e||(e=window.event),"SPAN"==(t=e.target?e.target:e.srcElement).tagName)switch(t.getAttributeNode("op").nodeValue){case"clear":Z();break;case"close":V()}},ee=function(e,t){H=e,k=t,(B=new P(e,{id:S.log})).el_.className="activePane",B.headerEl_.innerHTML=X();var a=G(k.logType);return B.content(a),O=B.el_,F=O.getElementsByTagName(x)[0],B},te=videojs.dom||videojs,ae=void 0,se=["ima3-loading-spinner","not-hover","vjs-ad-controls","vjs-ad-loading","vjs-ad-playing","vjs-audio","vjs-controls-disabled","vjs-controls-enabled","vjs-ended","vjs-errors","vjs-fluid","vjs-fullscreen","vjs-has-started","vjs-ima3-flash","vjs-ima3-html5","vjs-live","vjs-mouse","vjs-no-flex","vjs-paused","vjs-playing","vjs-plugins-ready","vjs-scrubbing","vjs-seeking","vjs-touch-enabled","vjs-user-active","vjs-user-inactive","vjs-using-native-controls","vjs-waiting","vjs-workinghover"],ne=void 0,ie=function(e){var t=ne.el_.classList,a=document.getElementById(e);t.toggle(e),t.contains(e)?a.setAttribute("class","active"):a.removeAttribute("class")},re=function(e){var t=void 0,a=void 0;se.forEach(function(s,n){t=e.el_.classList.contains(s)?te.createEl("li",{className:"active",id:s,title:s+" active"}):te.createEl("li",{id:s,title:s}),(a=te.createEl("a",{href:"#"})).onclick=function(){ie(s)},a.innerHTML=s,t.appendChild(a),ae.appendChild(t)})},oe=function(e){if((ae=document.getElementById("all-classes-list")).hasChildNodes())for(;ae.firstChild;)ae.removeChild(ae.firstChild);re(e)},le=function(e){var t=void 0,a=void 0,s=void 0;return ne=e,t=te.createEl("div",{id:S.classesList}),a=te.createEl("div",{className:"classListHeader"}),a.innerHTML='<h2>Player Classes</h2><span class="active">active</span><span class="inactive">inactive</span>',t.appendChild(a),(ae=document.createElement("ul")).setAttribute("id","all-classes-list"),re(e),t.appendChild(ae),t.appendChild(document.createElement("br")),s=document.createElement("span"),s.innerHTML="Click on a class to toggle its state",t.appendChild(s),t},de=[],ce=new Date,ue=void 0,pe=void 0,ge=void 0,me=void 0,he=void 0,fe=void 0,ye=["ima3-ready","ima3-ad-break-ready","ima3-ad-error","ima3-ad-metadata","ima3-ads-manager-loaded","ima3-all-ads-completed","ima3-click","ima3-complete","ima3-completed","ima3-content-pause-requested","ima3-content-resume-requested","ima3-error","ima3-first-quartile","ima3-impression","ima3-linearChanged","ima3-loaded","ima3-log","ima3-midpoint","ima3-paused","ima3-resumed","ima3-skippable-state-changed","ima3-skipped","ima3-started","ima3-third-quartile","ima3-user-close","ima3-volume-changed","ima3-volume-muted","ima3-start"],be=["ima3-adbreakready","ima3-adMetadata","ima3-allAdsCompleted","ima3-clicked","ima3-completed","ima3-contentPauseRequested","ima3-contentResumeRequested","ima3-durationChanged","ima3-adError","ima3-exitFullscreen","ima3-expandedChanged","ima3-firstQuartile","ima3-fullScreen","ima3-impression","ima3-interaction","ima3-linearChanged","ima3-loaded","ima3-log","ima3-midpoint","ima3-paused","ima3-resumed","ima3-sizeChanged","ima3-skippableStateChanged","ima3-skipped","ima3-started","ima3-stopped","ima3-thirdQuartile","ima3-userAcceptedInvitation","ima3-userClosed","ima3-userMinimized","ima3-volumeChanged","ima3-volumeMuted"],ve=["readyforpreroll","adcanplay","addurationchange","adplay","adstart","adend","adtimeout","adserror","adscanceled","adsready","ads-ready","preroll?","ad-playback","content-playback","content-resuming","ads-adstart","ads-ad-started","ads-adplay","ads-adend","ads-ad-ended","ads-click","ads-first-quartile","ads-midpoint","ads-third-quartile","ads-complete","ads-volume-change","ads-pause","ads-play","ads-allpods-completed","ads-request","ads-load","ads-pod-ended","ads-pod-started"],Me=function(e,t){var a=e.getTime();return{startTime:e,endTime:t,elapsedTime:(t.getTime()-a)/1e3}},Te=function(e){var t="",a="",s=["<h3>IMA3 Settings</h3>",'<span class="adMsg">IMA3 Plugin Version:</span> '+e.ima3.version,'<span class="adMsg">sdkurl:</span> '+e.ima3.settings.sdkurl,'<span class="adMsg">adSwf:</span> '+e.ima3.settings.adSwf,'<span class="adMsg">adTechOrder:</span> '+e.ima3.settings.adTechOrder.toString().split(" "),'<span class="adMsg">debug:</span> '+e.ima3.settings.debug,'<span class="adMsg">loadingSpinner:</span> '+e.ima3.settings.loadingSpinner,'<span class="adMsg">prerollTimeout:</span> '+e.ima3.settings.prerollTimeout,'<span class="adMsg">timeout:</span> '+e.ima3.settings.timeout,'<span class="adMsg">requestMode:</span> '+e.ima3.settings.requestMode,'<span class="adMsg">serverUrl:</span> '+e.ima3.settings.serverUrl].join("<br>");a='<span class="adMsg">Ad state:</span> <span id="adstate">'+e.ads.state+"</span><br>",a+='<span class="adMsg">Previous Ad state(s): ';for(var n=0;n<de.length;n++)t+=de[n]+" -&gt; ";return a+=t+"</span><br>",a+=s},we=function(e){var t=void 0,a=void 0,s=void 0;return"Hls"===(s=e.hasClass("vjs-ima3-flash")?"Flash":e.hasClass("vjs-ima3-html5")?"Html5":void 0)||"Flash"===s?(t="<h3>Current Ad:</h3>",t+=['<span class="adMsg">Ad System:</span> '+e.ima3.currentAd.adSystem,'<span class="adMsg">Media Url:</span> '+e.ima3.currentAd.mediaUrl,'<span class="adMsg">Ad Title:</span> '+e.ima3.currentAd.title,'<span class="adMsg">Description:</span> '+e.ima3.currentAd.description,'<span class="adMsg">Content type:</span> '+e.ima3.currentAd.contentType,'<span class="adMsg">Duration:</span> '+e.ima3.currentAd.duration,'<span class="adMsg">Ad ID:</span> '+e.ima3.currentAd.id].join("<br"),void 0!=(a=e.ima3.currentAd.adPodInfo)&&(t+="<h3>Ad Pod Information:</h3>",t+=['<span class="adMsg">Position:</span>'+a.adPosition,'<span class="adMsg">Max Duration:</span>'+a.getMaxDuration,'<span class="adMsg">Pod Index:</span>'+a.podIndex,'<span class="adMsg">Time offset:</span>'+a.timeOffset,'<span class="adMsg">Total Ads:</span>'+a.totalAds].join("<br>"))):"Html5"===s&&(t="<h3>Current Ad:</h3>",t+=['<span class="adMsg">Ad System:</span> '+e.ima3.currentAd.getAdSystem(),'<span class="adMsg">Ad Title:</span> '+e.ima3.currentAd.getTitle(),'<span class="adMsg">Description:</span> '+e.ima3.currentAd.getDescription(),'<span class="adMsg">Content type:</span> '+e.ima3.currentAd.getContentType(),'<span class="adMsg">Duration:</span> '+e.ima3.currentAd.getDuration(),'<span class="adMsg">Ad ID:</span> '+e.ima3.currentAd.getAdId()].join("<br>"),void 0!=(a=e.ima3.currentAd.getAdPodInfo())&&(t+="<h3>Ad Pod Information:</h3>",t+=['<span class="adMsg">Position:</span>'+a.getAdPosition(),'<span class="adMsg">Max Duration:</span>'+a.getMaxDuration(),'<span class="adMsg">Pod Index:</span>'+a.getPodIndex(),'<span class="adMsg">Time offset:</span>'+a.getTimeOffset(),'<span class="adMsg">Total Ads:</span>'+a.getTotalAds()].join("<br>"))),t},Ae=function(e){var t="",a="",s=void 0;e.ima3.settings&&(t=Te(e)),void 0!==e.ima3.currentAd&&(a=we(e)),s=t+a,he.content(s)},_e=(Object.freeze||Object)({showAdInfo:Ae,listenForAdEvents:function(e){if(console.log("player.techName_:"+e.techName_),"Html5"===e.techName_)!function(){for(var t="",a=void 0,s=0;s<ye.length;s++)e.on(ye[s],function(s){switch(s.type){case"ima3-ready":ue=new Date;var n=Me(ce,ue).elapsedTime;t=["IMA3 Plugin Version: "+this.ima3.version,"sdkurl: "+this.ima3.settings.sdkurl,"adSwf: "+this.ima3.settings.adSwf,"adTechOrder: "+this.ima3.settings.adTechOrder.toString().split(" "),"debug: "+this.ima3.settings.debug,"loadingSpinner: "+this.ima3.settings.loadingSpinner,"prerollTimeout: "+this.ima3.settings.prerollTimeout,"timeout: "+this.ima3.settings.timeout,"requestMode "+this.ima3.settings.requestMode,"serverUrl: "+this.ima3.settings.serverUrl,"Time to ready: "+n].join("<br>");break;case"ads-request":ge=new Date;break;case"ima3-loaded":var i=Me(ge,new Date).elapsedTime;t="Time to ima3-loaded: "+i;break;case"ima3-content-pause-requested":case"ima3-impression":case"ima3-started":case"ima3-first-quartile":case"ima3-midpoint":case"ima3-third-quartile":break;case"ima3-completed":case"ima3-complete":case"ima3-all-ads-completed":case"ima3-content-resume-requested":break;default:t=s.type,a="debug"}oe(e),fe.verbose?Y("debug","adMsg",s.type,"IMA3_HTML5_AD_EVENT:"+t):Y("debug","adMsg",s.type,""),de.push("event:"+s.type),de.push("state:"+e.ads.state),Ae(e),"IMA3-AD-ERROR"==s.type&&Y("error","adMsg",s.type,s)})}();else if("Hls"==e.techName_||"Flash"==e.techName_)for(var t=0;t<be.length;t++)e.on(be[t],function(t){switch(t.type){case"ima3-ready":msgStr=["IMA3 Plugin Version: "+this.ima.version,"sdkurl: "+this.ima3.settings.sdkurl,"adSwf: "+this.ima3.settings.adSwf,"adTechOrder: "+this.ima3.settings.adTechOrder.toString().split(" "),"debug: "+this.ima3.settings.debug,"loadingSpinner: "+this.ima3.settings.loadingSpinner,"prerollTimeout: "+this.ima3.settings.prerollTimeout,"timeout: "+this.ima3.settings.timeout,"requestMode: "+this.ima3.settings.requestMode,"serverUrl: "+this.ima3.settings.serverUrl].join("<br>");break;case"ads-request":ge=new Date;break;default:msgStr="",levelStr="debug"}fe.verbose?Y("debug","adMsg",t.type,"IMA3_FLASH_AD_EVENT:"+msgStr):Y("error","adMsg",t.type,t),de.push("event:"+t.type),de.push("state:"+e.ads.state),oe(e),Ae(e)});for(var a=0;a<ve.length;a++)!function(t){var a="";e.on(ve[t],function(t){switch(t.type){case"readyforpreroll":pe=new Date,void 0===ge&&(ge=new Date);var s=Me(ge,pe).elapsedTime;a="Time to readyforpreroll: "+s;break;case"ads-request":ge=new Date;break;case"adstart":me=new Date,Ae(e);var n=Me(ge,me).elapsedTime;a="Time to ad start: "+n,oe(e)}fe.verbose?Y("debug","adMsg",t.type,a):Y("debug","adMsg",t.type,""),de.push("event:"+t.type),de.push("state:"+e.ads.state),Ae(e),oe(e)})}(a)},buildAdSettingsPane:function(e,t){return fe=t,he=new P(e,{id:S.adSettings,name:"Ad Settings"})}}),Se=[],Ce=void 0,Pe=void 0,Ee=void 0,ke=void 0,je=void 0,Le=["onceux-linearad-start","onceux-linearad-impression","onceux-linearad-firstQuartile","onceux-linearad-midpoint","onceux-linearad-thirdQuartile","onceux-linearad-complete","onceux-adroll-start","onceux-adroll-complete","onceux-ads-complete","onceux-linearad-skipped","onceux-linearad-mute","onceux-linearad-unmute","onceux-linearad-pause","onceux-linearad-resume","onceux-companionad-creativeView"],Ie=["readyforpreroll","adcanplay","addurationchange","adplay","adstart","adend","adtimeout","adserror","adscanceled","adsready","ads-ready","preroll?","ad-playback","content-playback","content-resuming","ads-adstart","ads-ad-started","ads-adplay","ads-adend","ads-ad-ended","ads-click","ads-first-quartile","ads-midpoint","ads-third-quartile","ads-complete","ads-volume-change","ads-pause","ads-play","ads-allpods-completed","ads-request","ads-load","ads-pod-ended","ads-pod-started"],De=function(e){return(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number";return/^"/.test(e)?t=/:$/.test(e)?"key":"string":/true|false/.test(e)?t="boolean":/null/.test(e)&&(t="null"),'<span class="'+t+'">'+e+"</span>"})},Be=function(e,t){var a=e.getTime();return{startTime:e,endTime:t,elapsedTime:(t.getTime()-a)/1e3}},xe=function(e){var t="",a=void 0,s="";e.onceux.timeline&&(a=["<h3>Once UX Settings</h3>","<span>Timeline</span>",'<span class="adMsg">contenturi:</span> '+e.onceux.timeline.contenturi,'<span class="adMsg">absoluteDuration:</span> '+e.onceux.timeline.absoluteDuration,'<span class="adMsg">contentDuration:</span> '+e.onceux.timeline.contentDuration].join("<br>")),s='<span class="adMsg">Ad state:</span> <span id="adstate">'+e.ads.state+"</span><br>",s+='<span class="adMsg">Previous Ad state(s): ';for(var n=0;n<Se.length;n++)t+=Se[n]+" -&gt; ";return s+=t+"</span><br>",s+=a},Oe=function(e){var t=void 0,a=void 0;return void 0!==e.onceux.currentTime()&&e.onceux.timeline&&(a=e.onceux.timeline.pathAtAbsoluteTime(e.onceux.currentTime())),a&&(t="<h3>Current TimeLine Snapshot (path):</h3>",t+=['<br/><span class="adMsg">absoluteTime:</span>'+a.absoluteTime,'<span class="adMsg">contentTime:</span>'+a.contentTime].join("<br>"),a.adRoll&&(t+=['<br/><h3 class="adMsg">adRoll:</h3>','<span class="adMsg">adRolls:</span> '+De(JSON.stringify(e.onceux.timeline.adRolls,void 0,4)),'<span class="adMsg">adRoll.absoluteBeginTime:</span>'+a.adRoll.absoluteBeginTime,'<span class="adMsg">adRoll.absoluteEndTime:</span>'+a.adRoll.absoluteEndTime,'<span class="adMsg">adRoll.index:</span>'+a.adRoll.index,'<span class="adMsg">adRoll.linearAdCount:</span>'+a.adRoll.linearAdCount,'<span class="adMsg">adRoll.playCount:</span>'+a.adRoll.playCount].join("<br>")),a.linearAd&&(t+=['<br/><h3 class="adMsg">linearAd:</h3>','<span class="adMsg">linearAd.AdSource:</span>'+De(JSON.stringify(a.linearAd.AdSource,void 0,4)),'<span class="adMsg">linearAd.absoluteBeginTime:</span>'+a.linearAd.absoluteBeginTime,'<span class="adMsg">linearAd.absoluteEndTime:</span>'+a.linearAd.absoluteEndTime,'<span class="adMsg">linearAd.breakId:</span>'+a.linearAd.breakId,'<span class="adMsg">linearAd.breakType:</span>'+a.linearAd.breakType,'<span class="adMsg">linearAd.index:</span>'+a.linearAd.index,'<span class="adMsg">linearAd.playCount:</span>'+a.linearAd.playCount,'<span class="adMsg">linearAd.skipoffset:</span>'+a.linearAd.skipoffset,'<span class="adMsg">linearAd.timeOffset:</span>'+a.linearAd.timeOffset,'<h3 class="adMsg">linearAd.companionAd:</h3>'+De(JSON.stringify(a.linearAd.companionAd,void 0,4))].join("<br>"))),t},Fe=function(e){var t="",a="",s=void 0;e.onceux&&(t=xe(e),a=Oe(e)),s=t+a,ke.content(s)},Ne=(Object.freeze||Object)({showAdInfo:Fe,listenForAdEvents:function(e){console.log("player.techName_:"+e.techName_);for(var t="",a=void 0,s=0;s<Le.length;s++)e.on(Le[s],function(s){switch(s.type){case"onceux-linearad-start":case"onceux-linearad-impression":case"onceux-linearad-firstQuartile":case"onceux-linearad-midpoint":case"onceux-linearad-thirdQuartile":case"onceux-linearad-complete":case"ima3-first-quartile":case"ima3-midpoint":case"ima3-third-quartile":case"onceux-adroll-start":case"onceux-adroll-complete":case"onceux-ads-complete":case"onceux-linearad-skipped":case"onceux-linearad-mute":case"onceux-linearad-unmute":case"onceux-linearad-pause":case"onceux-linearad-resume":case"onceux-companionad-creativeView":break;default:t=s.type,a="debug"}oe(e),je.verbose?Y("debug","adMsg",s.type,"OnceUX_AD_EVENT:"+t):Y("debug","adMsg",s.type,""),Se.push("event:"+s.type),Se.push("state:"+e.ads.state),Fe(e)});for(var n=0;n<Ie.length;n++)!function(t){var a="";e.on(Ie[t],function(t){switch(t.type){case"readyforpreroll":Ce=new Date,void 0===Pe&&(Pe=new Date);var s=Be(Pe,Ce).elapsedTime;a="Time to readyforpreroll: "+s;break;case"ads-request":Pe=new Date;break;case"adstart":Ee=new Date,Fe(e);var n=Be(Pe,Ee).elapsedTime;a="Time to ad start: "+n,oe(e)}je.verbose?Y("debug","adMsg",t.type,a):Y("debug","adMsg",t.type,""),Se.push("event:"+t.type),Se.push("state:"+e.ads.state),Fe(e),oe(e)})}(n)},buildAdSettingsPane:function(e,t){return je=t,ke=new P(e,{id:S.adSettings,name:"Ad Settings"})}}),He=[],Re=new Date,qe=void 0,We=void 0,Ve=void 0,Ue=void 0,ze=void 0,Qe=void 0,Je=["fw-ads-manager-loaded","fw-before-ad-request","fw_slotCurrentTime","quartile","first-quartile","ads-midpoint","thirdQuartile","complete","_pause","_play","_mute","_un-mute","_collapse","_expand","_resume","_rewind","_close","_minimize","adEvent","IMPRESSION","contentVideoPauseRequest","contentVideoResumeRequest"],Xe=["readyforpreroll","adcanplay","addurationchange","adplay","adpause","admuted","adstart","adend","adtimeout","advolumechange","adserror","adscanceled","adsready","ads-ready","preroll?","ad-playback","nopreroll","nopostroll","content-playback","content-resuming","ads-adstart","ads-ad-started","ads-adplay","ads-adend","ads-ad-ended","ads-click","ads-first-quartile","ads-midpoint","ads-third-quartile","ads-complete","ads-volume-change","ads-pause","ads-play","ads-allpods-completed","ads-request","ads-load","ads-pod-ended","ads-pod-started"],Ge=function(e,t){var a=e.getTime();return{startTime:e,endTime:t,elapsedTime:(t.getTime()-a)/1e3}},Ke=function(e){var t="",a="",s=["<h3>Freewheel Settings</h3>",'<span class="adMsg">Freewheel Plugin Version:</span> '+e.FreeWheelPlugin.getVersion(),'<span class="adMsg">sdkurl:</span> '+e.FreeWheelPlugin.settings.Flash.sdkurl,'<span class="adMsg">adSwf:</span> '+e.FreeWheelPlugin.settings.Flash.swfurl,'<span class="adMsg">adTechOrder:</span> '+e.FreeWheelPlugin.settings.adTechOrder.toString().split(" ")[0],'<span class="adMsg">debug:</span> '+e.FreeWheelPlugin.settings.debug,'<span class="adMsg">prerollTimeout:</span> '+e.FreeWheelPlugin.settings.prerollTimeout,'<span class="adMsg">timeout:</span> '+e.FreeWheelPlugin.settings.timeout,'<span class="adMsg">requestMode:</span> '+e.FreeWheelPlugin.settings.requestAdsMode,'<span class="adMsg">serverUrl:</span> '+e.FreeWheelPlugin.settings.Html5.serverUrl,'<span class="adMsg">networkId:</span> '+e.FreeWheelPlugin.settings.Html5.networkId,'<span class="adMsg">siteSectionCustomId:</span> '+e.FreeWheelPlugin.settings.Html5.siteSectionCustomId,'<span class="adMsg">serverUrl:</span> '+e.FreeWheelPlugin.settings.Html5.serverUrl,'<span class="adMsg">keyValues:</span> '+e.FreeWheelPlugin.settings.Html5.keyValues.toString().split(" "),'<span class="adMsg">temporalSlots:</span> '+e.FreeWheelPlugin.settings.Html5.temporalSlots.toString().split(" ")[0],'<span class="adMsg">videoAssetCustomId:</span> '+e.FreeWheelPlugin.settings.Html5.videoAssetCustomId,'<span class="adMsg">videoAssetDuration:</span> '+e.FreeWheelPlugin.settings.Html5.videoAssetDuration].join("<br>");a='<span class="adMsg">Ad state:</span> <span id="adstate">'+e.ads.state+"</span><br>",a+='<span class="adMsg">Previous Ad state(s): ';for(var n=0;n<He.length;n++)t+=He[n]+" -&gt; ";return a+=t+"</span><br>",a+=s},Ye=function(e){var t=void 0;if("Html5"===(e.hasClass("vjs-fw-flash")?"Flash":e.hasClass("vjs-fw-html5")?"Html5":void 0)){var a=e.FreeWheelPlugin.Html5._currentSlot.getCurrentAdInstance(),s=a._adId,n=a._creativeId,i=(a._creativeRenditions,a._slotCustomId),r=a._primaryCreativeRendition,o=r.getPrimaryCreativeRenditionAsset(),l=r.getDuration(),d=r.getWidth(),c=r.getHeight();t="<h3>Current Ad:</h3>",t+=['<span class="adMsg">Ad ID:</span> '+s,'<span class="adMsg">Current Rendition Id:</span> '+n,'<span class="adMsg">Media Url:</span> '+o.getUrl(),'<span class="adMsg">Ad Name:</span> '+o.getName(),'<span class="adMsg">Content type:</span> '+o.getContentType(),'<span class="adMsg">Slot Custom Id:</span> '+i,'<span class="adMsg">Duration:</span> '+l,'<span class="adMsg">Height:</span> '+c,'<span class="adMsg">Width:</span> '+d].join("<br>")}return t},Ze=function(e){var t="",a="",s="";e.FreeWheelPlugin.settings&&(t=Ke(e)),void 0!==e.FreeWheelPlugin.Html5&&e.FreeWheelPlugin.Html5._currentSlot&&e.FreeWheelPlugin.Html5._currentSlot.getCurrentAdInstance()&&(a=Ye(e)),s=t+a,ze.content(s)},$e=(Object.freeze||Object)({showAdInfo:Ze,listenForAdEvents:function(e){console.log("player.techName_:"+e.techName_);for(var t="",a=void 0,s=0;s<Je.length;s++)e.on(Je[s],function(s){switch(s.type){case"fw-ads-manager-loaded":qe=new Date;var n=Ge(Re,qe).elapsedTime;t=["Freewheel Plugin Version: "+this.FreeWheelPlugin.getVersion(),"sdkurl: "+this.FreeWheelPlugin.settings.Flash.sdkurl,"adSwf: "+this.FreeWheelPlugin.settings.Flash.swfurl,"adTechOrder: "+this.FreeWheelPlugin.settings.adTechOrder.toString().split(" "),"debug: "+this.FreeWheelPlugin.settings.debug,"prerollTimeout: "+this.FreeWheelPlugin.settings.prerollTimeout,"timeout: "+this.FreeWheelPlugin.settings.timeout,"requestMode "+this.FreeWheelPlugin.settings.requestAdsMode,"serverUrl: "+this.FreeWheelPlugin.settings.Html5.serverUrl,"keyValues: "+this.FreeWheelPlugin.settings.Html5.keyValues.toString().split(" "),"temporalSlots: "+this.FreeWheelPlugin.settings.Html5.temporalSlots.toString().split(" "),"videoAssetCustomId: "+this.FreeWheelPlugin.settings.Html5.videoAssetCustomId,"videoAssetDuration: "+this.FreeWheelPlugin.settings.Html5.videoAssetDuration,"Time to ready: "+n].join("<br>");break;case"fw-before-ad-request":Ve=new Date;break;case"ima3-loaded":var i=Ge(Ve,new Date).elapsedTime;t="Time to ima3-loaded: "+i;break;case"fw_slotCurrentTime":case"quartile":case"IMPRESSION":case"first-quartile":case"midPoint":case"third-quartile":break;case"completed":case"complete":case"contentVideoResumeRequest":case"contentVideoPauseRequest":break;default:t=s.type,a="debug"}oe(e),Qe.verbose?Y("debug","adMsg",s.type,"FW_HTML5_AD_EVENT:"+t):Y("debug","adMsg",s.type,""),He.push("event:"+s.type),He.push("state:"+e.ads.state),Ze(e),"FW-AD-ERROR"==s.type&&Y("error","adMsg",s.type,s)});for(var n=0;n<Xe.length;n++)!function(t){var a="";e.on(Xe[t],function(t){switch(t.type){case"readyforpreroll":We=new Date,void 0===Ve&&(Ve=new Date);var s=Ge(Ve,We).elapsedTime;a="Time to readyforpreroll: "+s;break;case"ads-request":Ve=new Date;break;case"adstart":Ue=new Date,Ze(e);var n=Ge(Ve,Ue).elapsedTime;a="Time to ad start: "+n,oe(e)}Qe.verbose?Y("debug","adMsg",t.type,a):Y("debug","adMsg",t.type,""),He.push("event:"+t.type),He.push("state:"+e.ads.state),Ze(e),oe(e)})}(n)},buildAdSettingsPane:function(e,t){return Qe=t,ze=new P(e,{id:S.adSettings,name:"Ad Settings"})}}),et=void 0,tt=function(e){var t=void 0,a=void 0,s=void 0,n=e.el_.getAttribute("data-player"),i=e.el_.getAttribute("data-account");return t="<h3>Player Information:</h3>",null!==n&&(t+='<span class="playerMsg">Player ID:</span> '+n+"<br>"),null!==i&&(t+='<span class="playerMsg">Account ID:</span> '+i+"<br>",a="http://players.brightcove.net/"+i+"/"+n+"_default/config.json"),t+='<span class="playerMsg">Player Tech:</span> '+e.techName_+"<br>",t+='<span class="playerMsg">Playback Rate:</span>'+e.playbackRate()+"<br>",t+='<span class="playerMsg">preload: </span>'+e.preload()+"<br>",t+='<span class="playerMsg">autoplay: </span>'+e.autoplay()+"<br>",t+='<span class="playerMsg">loop: </span>'+e.loop()+"<br>",t+='<span class="playerMsg">paused: </span>'+e.paused()+"<br>",t+='<span class="playerMsg">volume: </span>'+e.volume()+"<br>",t+='<span class="playerMsg">muted: </span>'+e.muted()+"<br>",t+='<span class="playerMsg">height: </span>'+e.height()+"<br>",t+='<span class="playerMsg">width: </span>'+e.width()+"<br>",t+='<span class="playerMsg">videoHeight: </span>'+e.videoHeight()+"<br>",t+='<span class="playerMsg">videoWidth: </span>'+e.videoWidth()+"<br>",null===n&&null===i||(t+='<span class="playerMsg">Standalone player:</span> <a style="color: white;" href="'+(s="http://players.brightcove.net/"+i+"/"+n+"_default/index.html")+'" target="_blank">'+s+"</a><br>",t+='<span class="playerMsg">Player config.json:</span> <a style="color: white;" href="'+a+'" target="_blank">'+a+"</a><br>"),{playerStr:t,configUrl:a,plyrUrl:s}},at=function(e,t){var a="";if(void 0!=t)if(a="<h3>Mediainfo</h3>",a+=['<span class="playerMsg">Account ID:</span> '+t.account_id,'<span class="playerMsg">Video ID:</span> '+t.id,'<span class="playerMsg">Title:</span> '+t.name,'<span class="playerMsg">Duration:</span> '+t.duration,'<span class="playerMsg">Description:</span> '+t.description,'<span class="playerMsg">Long Description:</span> '+t.long_description,'<span class="playerMsg">Poster:</span> '+t.poster,'<span class="playerMsg">Thumbnail:</span> '+t.thumbnail].join("<br>"),t.sources){var s=st(t.sources);a+='<br><span class="playerMsg">Current Source:</span> '+e.currentSrc(),e.tech_.hls&&(a+='<br><span class="playerMsg">Master:</span>'+e.tech_.hls.source_.src),a+='<br><span class="playerMsg">Sources:</span> <br>'+s}else a='<span class="playerMsg">Current Source:</span> '+e.src()+"<br>";return a},st=function(e){for(var t="",a=0;a<e.length;a++){var s=e[a].src;if(void 0!=s)t+="["+a+"] "+s+"<br>";else{var n=e[a].app_name+e[a].stream_name;void 0!=n&&(t+="["+a+"] "+n+"<br>")}}return t},nt=function(e){var t="",a="",s=tt(e).playerStr;return t=e.mediainfo,a=at(e,t),et=new P(e,{id:S.playerSettings,name:"Brightcove Player Settings",content:s+a||""})},it=function(e){var t=void 0,a=void 0;a=tt(e).playerStr,t=e.mediainfo,a+=at(e,t),et.content(a)},rt=void 0,ot=void 0,lt=0,dt=0,ct=0,ut=0,pt=null,gt=null,mt=null,ht=null,ft=null,yt=null,bt=function(e){for(var t=[],a=0;a<e.length;a++)t.push("["+e.start(a).toFixed(2)+", "+e.end(a).toFixed(2)+"]");return t},vt=function(e){var t=0;if(e&&e.attributes&&e.attributes.BANDWIDTH)return t=(e.attributes.BANDWIDTH/1024).toFixed(3),(parseFloat(t)>=ct||0===ct)&&(ct=t),(parseFloat(t)<=ut||0===ut)&&(ut=t),t+" kbps"},Mt=function(e){var t;if(e.bandwidth)return t=(e.bandwidth/1024).toFixed(3),(parseFloat(t)>=lt||0===lt)&&(lt=t),(parseFloat(t)<=dt||0===dt)&&(dt=t),t+" kbps"},Tt=function(e){var t;if(e.segments.length>0)for(var a,s,n=ot.currentTime(),i=e.segments,r=0;r<i.length-1;r++)if(a=void 0!==i[r].end?i[r].end-i[r].duration:0,void 0===(s=i[r].end)&&(s=i[r].duration),n>=a&&n<=s){if(t=i[r].uri,pt!==t){ht=pt,yt=mt,ft=gt,pt=t,gt=i[r].end,mt=i[r].duration;var o="Previous segment: "+ht+"<br>Previous segment start: "+(ft-yt)+" Previous segment end: "+ft+" Previous segment duration: "+yt;Y("debug","playerMsg","SEGMENT-CHANGE-RECORDED",o+="<br>Current segment: "+pt+"<br>Current segment start: "+(gt-mt)+" Current segment end: "+gt+" Current segment duration: "+mt)}return t}},wt=function(e){var t=[];if(e.segments.length>0){for(var a=0;a<e.segments.length;a++)t.push("["+a+"] "+e.segments[a].uri+" end: "+e.segments[a].end+"<br>");return t}},At=function(e){var t=void 0,a=void 0;e.el_.getAttribute("data-player"),e.el_.getAttribute("data-account");e.tech_.hls&&(a=e.tech_.hls.playlists.media_),t="<h3>Video Playback Information:</h3>",t+='<span class="playerMsg">TechName: </span> '+e.techName_,t+='<br><span class="playerMsg">Current Source: </span> '+e.currentSrc(),e.tech_.hls&&e.tech_.hls.playlists.media_&&(t+='<br><span class="playerMsg">Master: </span>'+e.tech_.hls.playlists.media_.resolvedUri,t+='<br><span class="playerMsg">Current Segment: </span> '+Tt(a),t+='<br><span class="playerMsg">Previous Segment: </span> '+ht),t+='<br><span class="playerMsg">duration: </span>'+e.duration(),t+='<br><span class="playerMsg">currentTime: </span>'+e.currentTime().toFixed(2);var s=e.buffered();s.length>0&&(t+='<br><span class="playerMsg">buffered: </span>'+bt(s)),t+='<br><span class="playerMsg">bufferedEnd: </span>'+e.bufferedEnd();var n=e.seekable();return n.length>0&&(t+='<br><span class="playerMsg">seekable: </span>'+bt(n)),t+='<br><span class="playerMsg">playbackRate: </span>'+e.playbackRate(),void 0!==a&&(t+='<br><span class="playerMsg">current videoBitrate: </span>'+vt(a)+'<span class="playerMsg"> highest: </span>'+ct+' kbps<span class="playerMsg"> lowest: </span>'+ut+"kbps"),e.tech_.hls&&(t+='<br><span class="playerMsg">current measuredBitrate: </span>'+Mt(e.tech_.hls)+'<span class="playerMsg"> highest: </span>'+lt+'<span class="playerMsg"> lowest: </span>'+dt),e.tech_.hls&&e.tech_.hls.playlists.media_&&(t+='<br><span class="playerMsg">Total Segments:</span>'+e.tech_.hls.playlists.media_.segments.length,t+='<br><span class="playerMsg">Current Segments:</span><br>'+wt(a).join("")),t},_t=function(e){ot=e;var t=At(e);return rt=new P(e,{id:S.playbackInfo,name:"Playback Information",content:t})},St=function(e){var t=At(e);rt.content(t)},Ct=function(e){function t(a,s){n(this,t);var r=i(this,e.call(this,a,s));return r.el_.id=r.options_.id,r.el_.className=r.options_.className,r.el_.innerHTML=r.options_.content,r}return r(t,e),t.prototype.content=function(e){return void 0!==e&&(this.contentEl_.innerHTML=e),this.contentEl_.innerHTML},t.prototype.handleClick=function(e){},t}(e.getComponent("Button"));e.registerComponent("ButtonBarButton",Ct);var Pt=function(e){function t(a,s){return o(this,t),l(this,e.call(this,a,s))}return d(t,e),t.prototype.handleClick=function(){this.el_.classList.toggle("active"),slider.classList.toggle("closed"),slider.classList.contains("closed")?this.handleOpen():this.handleClose();var e=document.getElementById(S.btnToggleLog),t=document.getElementById(S.btnToggleClassList),a=document.getElementById(S.btnToggleAdSettings),s=document.getElementById(S.btnTogglePlayerSettings);document.getElementById(S.btnTogglePlaybackInfo);e.classList.toggle("hide"),btnTogglePlaybackInfo.classList.toggle("hide"),t.classList.toggle("hide"),a&&a.classList.toggle("hide"),s.classList.toggle("hide")},t.prototype.handleOpen=function(){this.el_.innerHTML="Show Debugger"},t.prototype.handleClose=function(){this.el_.innerHTML="Hide Debugger"},t}(Ct);e.registerComponent("SliderToggle",Pt);var Et=function(e){function t(a,s){return c(this,t),u(this,e.call(this,a,s))}return p(t,e),t.prototype.handleClick=function(e){var t=document.getElementById("classesList"),a=document.getElementById("playerSettings"),s=document.getElementById("adSettings"),n=document.getElementById("myBlackbird"),i=document.getElementById("playbackInfo");this.el_.classList.toggle("active"),t.classList.toggle("activePane"),a.classList.toggle("classListVisible"),i.classList.toggle("classListVisible"),s&&s.classList.toggle("classListVisible"),n.classList.toggle("classListVisible")},t}(Ct);e.registerComponent("ClassListToggle",Et);var kt=function(e){function t(a,s){return g(this,t),m(this,e.call(this,a,s))}return h(t,e),t.prototype.handleClick=function(){var e=document.getElementById("myBlackbird"),t=document.getElementById("playerSettings");this.el_.classList.toggle("active"),t.classList.toggle("activePane"),e.classList.toggle("playerSettingsVisible")},t}(Ct);e.registerComponent("PlayerSettingsToggle",kt);var jt=function(e){function t(a,s){return f(this,t),y(this,e.call(this,a,s))}return b(t,e),t.prototype.handleClick=function(){var e=document.getElementById("myBlackbird"),t=document.getElementById("playbackInfo");this.el_.classList.toggle("active"),t.classList.toggle("activePane"),e.classList.toggle("playbackInfoVisible")},t}(Ct);e.registerComponent("PlaybackInfoToggle",jt);var Lt=function(e){function t(a,s){return v(this,t),M(this,e.call(this,a,s))}return T(t,e),t.prototype.handleClick=function(){var e=document.getElementById("myBlackbird"),t=document.getElementById("adSettings");this.el_.classList.toggle("active"),t.classList.toggle("activePane"),e.classList.toggle("adSettingsVisible")},t}(Ct);e.registerComponent("AdSettingsToggle",Lt);var It=function(e){function t(a,s){return w(this,t),A(this,e.call(this,a,s))}return _(t,e),t.prototype.handleClick=function(){var e=document.getElementById("myBlackbird");this.el_.classList.toggle("active"),e.classList.toggle("activePane")},t}(Ct);e.registerComponent("DebugLogToggle",It);var Dt={},Bt=e.registerPlugin||e.plugin,xt=e.dom||e,Ot=void 0,Ft=void 0,Nt=void 0,Ht=void 0,Rt=void 0,qt=void 0,Wt=void 0,Vt=0,Ut=0,zt="",Qt="",Jt=void 0,Xt=void 0,Gt=void 0,Kt=void 0,Yt=void 0,Zt=void 0,$t=void 0,ea=void 0,ta=void 0,aa={array:"array",table:"table",list:"list",json:"json"},sa=["ready","durationchange","ended","error","firstplay","fullscreenchange","loadedalldata","loadeddata","loadedmetadata","loadstart","pause","play","player_load","contentupdate","seeking","seeked","progress","catalog_request","catalog_response","playing","waiting","video_view","video_impression","video_engagement","play_request","canplay","canplaythrough","timeupdate"],na=function(){Ot.classList.toggle("closed"),Ht.classList.toggle("active"),Nt.classList.toggle("hide"),Zt.classList.toggle("hide"),Yt.classList.toggle("hide"),ea.classList.toggle("hide"),!0===_options.debugAds&&$t.classList.toggle("hide"),Ot.classList.contains("closed")?Ht.innerHTML="Show Debugger":Ht.innerHTML="Hide Debugger"},ia=function(e,t){e.one("durationchange",function(t){var a="currentDuration: "+(Jt=e.duration())+"<br>previousDuration: "+Ut;Y("media","playerMsg","one: "+t.type,a)});for(var a=0,s=void 0,n=void 0,i=void 0,r="debug",o=0;o<sa.length;o++)e.on(sa[o],function(o){switch(o.type){case"error":s=[e.error().type,"-",e.error().message,console.trace()].join(" ");break;case"firstplay":Vt=e.duration(),Jt=Vt,zt=e.currentSrc(),Qt=zt,n=e.currentTime(),s=["Initial source:"+zt,"Current time: "+n].join("<br>");break;case"play":s=["Plays: "+ ++a,"Current source: "+e.currentSrc(),"Playing from: "+e.currentTime()].join("<br>");break;case"loadedmetadata":if(t.showMediaInfo){var l="";void 0!=(l=e.mediainfo)&&(s=["Account ID: "+l.account_id,"Video ID: "+l.id,"Title: "+l.name,"Duration: "+l.duration].join("<br>")),it(e),St(e)}r="media";break;case"pause":n=e.currentTime(),s="Paused at: "+n;break;case"progress":n=e.currentTime(),s=["currentTime:",n].join(" "),i=n;break;case"contentupdate":s=["oldValue: "+o.oldValue,"newValue:"+o.newValue].join("<br>"),r="media";break;case"seeking":n=e.currentTime(),s=["seeking from:"+i,"to:"+n].join("<br>"),i=n,St(e);break;case"canplaythrough":s="currentTime: "+e.currentTime();break;case"timeupdate":St(e),it(e);break;case"seeked":s="currentTime: "+e.currentTime();break;case"catalog_response":s="url: "+o.url,r="media";break;case"durationchange":Jt=e.duration(),Xt=e.currentSrc(),Jt!==Ut?(s="currentDuration: "+Jt+",<br>previousDuration: "+Ut,Ut=Jt):s="Duration remained the same - currentDuration: "+Jt;break;default:s="",r="debug"}"progress"==o.type||t.showProgress||"timeupdate"==o.type||(t.verbose?Y(r,"playerMsg",o.type,s):Y(r,"playerMsg",o.type,""),s=""),!0===t.debugAds&&Rt.showAdInfo(e),oe(e)})},ra=function(e,t,a){var s=e.constructor===String?document.getElementById(e):e;s.attachEvent?(s["e"+t+a]=a,s[t+a]=function(){s["e"+t+a](window.event)},s.attachEvent("on"+t,s[t+a])):s.addEventListener(t,a,!1)},oa=function(e,t){Ot=xt.createEl("div",{id:S.slider}),document.body.appendChild(Ot),Ft=la(Ot,e,t),ta=ee(e,t),t.captureConsole&&Q(),Ot.appendChild(ta.el_),ra(S.sendEmail,"click",q),ra(S.copyLog,"click",W),ra(S.filters,"click",z),ra(S.controls,"click",$),Wt=le(e),Ot.insertBefore(Wt,ta.el_),Gt=_t(e),Ot.insertBefore(Gt.el_,ta.el_),Kt=nt(e),Ot.insertBefore(Kt.el_,ta.el_),1==t.debugAds&&(e.ima3?(console.log("Using IMA3 Ad Plugin"),Rt=_e):e.FreeWheelPlugin?(console.log("Using Freewheel Ad Plugin"),Rt=$e):e.onceux&&(console.log("Using OnceUX Ad Plugin"),Rt=Ne),qt=Rt.buildAdSettingsPane(e,t),Ot.insertBefore(qt.el_,Kt.el_))},la=function(e,t,a){Ft=xt.createEl("div",{id:S.buttonBar}),e.appendChild(Ft);var s={id:S.btnToggleSlider,className:"myButton active",content:"Hide Debugger"};return Ht=new Pt(t,s),s={id:S.btnToggleLog,className:"myButton active",content:"Log"},Nt=new It(t,s),s={id:S.btnTogglePlaybackInfo,className:"myButton",content:"Playback Info"},Zt=new jt(t,s),s={id:S.btnToggleClassList,className:"myButton",content:"Classes"},Yt=new Et(t,s),s=!0===a.debugAds?{id:S.btnTogglePlayerSettings,className:"myButton",content:"Player Settings",debugAds:!0}:{id:S.btnTogglePlayerSettings,className:"myButton",content:"Player Settings"},ea=new kt(t,s),1==a.debugAds&&($t=new Lt(t,s={id:S.btnToggleAdSettings,className:"myButton",content:"Ad Settings"})),Ft.appendChild(Ht.el_),Ft.appendChild(Nt.el_),Ft.appendChild(Zt.el_),Ft.appendChild(Yt.el_),Ft.appendChild(ea.el_),!0===a.debugAds&&Ft.appendChild($t.el_),Ft},da=function(e,t,a){var s={};if(void 0===e.verbose?s.verbose=!1:s.verbose=e.verbose,void 0===e.useLineNums?s.useLineNums=!0:s.useLineNums=e.useLineNums,void 0===e.logClasses?s.logClasses=!1:s.logClasses=e.logClasses,void 0===e.logType&&(s.logType=aa.list),void 0===e.logMilliseconds?s.logMilliseconds=!1:s.logMilliseconds=e.logMilliseconds,void 0===e.showProgress?s.showProgress=!1:s.showProgress=e.showProgress,void 0===e.showMediaInfo?s.showMediaInfo=!0:s.showMediaInfo=e.showMediaInfo,void 0===e.debugAds?(t.FreeWheelPlugin||t.ima3||t.onceux)&&(s.debugAds=!0):s.debugAds=e.debugAds,void 0===e.showPosterStyles?s.showPosterStyles=!1:s.showPosterStyles=e.showPosterStyles,void 0===e.showBigPlayButtonStyles?s.showBigPlayButtonStyles=!1:s.showBigPlayButtonStyles=e.showBigPlayButtonStyles,void 0===e.captureConsole?s.captureConsole=!0:e.captureConsole=e.captureConsole,void 0===e.startMinimized?s.startMinimized=!1:s.startMinimized=e.startMinimized,!0===e.showBigPlayButtonStyles){var n=document.createElement("div");n.setAttribute("id",S.bigPlayButtonStyles),ta.appendChild(n)}if(!0===s.showPosterStyles){var i=document.createElement("div");i.setAttribute("id",S.posterStyles),ta.appendChild(i)}s.startMinimized&&na(),a(s)},ca=function(e,t){e.addClass("vjs-player-debugger"),console.log("Brightcove Player Debugger loaded");var a=document.createElement("link");a.rel="stylesheet",a.href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css",document.body.appendChild(a),da(t,e,function(t){var a=t;oa(e,a),ia(e,a),a.debugAds&&Rt.listenForAdEvents(e)})},ua=function(t){var a=this;this.ready(function(){ca(a,e.mergeOptions(Dt,t))})};return Bt("playerDebugger",ua),ua.VERSION="0.0.0",ua});
