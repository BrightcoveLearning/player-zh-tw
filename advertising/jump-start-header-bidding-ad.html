---
title: '跳躍開始：標頭競價廣告
parent: Advertising
description: Enter values for the two form fields below to see header bidding in action using your player and video. (If you choose not to input your data, demo data is supplied.) The sample uses the AppNexus header bidding 功能。</p>
  <p>播放程式下方會顯示播放程式實作的程式碼，讓您可以複製和使用。---
<article class="bcls-article">
<h1>快速開始：標頭競價廣告</h1>
<summary>{{ page.description }}</summary>
<script async src="//acdn.adnxs.com/prebid/not-for-prod/1/prebid.js">
</script>
<style type="text/css">
.視訊-js { width: 640px; height: 360px; }  .bcl-代碼{ color: #111; font-family: 'Source Code Pro', monospace; padding: 1em; width: 90%; min-height: 5em; background-color: #cfcfcf; font-size: 1rem; }  .bcl-按鈕{ padding: .5em; background-color: #64AAB2; border: 1px black solid; border-radius: .5em; color: black; cursor: pointer; }字段集{ color: #64AAB2; border: 1px #64AAB2 solid; border-radius: .5em; }代碼{ color: #E4B842; font-family: 'Source Code Pro', monospace; } 
</style>
<link href="//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet" />
<div id="inputFields" class="input-fields">
  <h3>帳戶信息</h3>
  <div id="accountInfo">
    <table class="bcls-table">
      <tbody class="bcls-table__body">
        <tr>
          <td>視頻雲帳戶ID：</td>
          <td><input id="accountID" type="text" size="60" value="1507807800001" /></td>
        </tr>
        <tr>
          <td>影片ID：</td>
          <td><input id="videoID" type="text" size="60" value="5622718636001" /></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<p>
  <button id="buildPlayer" class="bcls-button" onclick="addPlayer()">建立玩家</button>
</p>
<h3>播放器</h3>
<div style="width: 640px;height: 360px;">
  <div id="placeHolder" style="width: 640px;height: 360px;background-color: #cfcfcf;">&nbsp;</div>
</div>
<h3>發布代碼</h3>
<p>
  <button id="copyCode" class="bcls-button" onclick="copyCode()">將代碼複製到剪貼板</button>
</p>
<div>
  <textarea id="publishingCode" class="bcls-code" style="width: 100%;height: 420px" onclick="this.select()"></textarea>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.7.5/beautify.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.7.5/beautify-css.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.7.5/beautify-html.min.js"></script><!-- custom script --><script type="text/JavaScript">
  var myPlayer, playerHTML, displayPlayerHTML, playerScript, publishingCode = document.getElementById('publishingCode'), accountID = document.getElementById('accountID'), videoID = document.getElementById('videoID'), configOptions = {} ; var pbjs = pbjs || {} ; pbjs.que = pbjs.que || []; ios設備= !! navigator.platform.match(/iPhone|iPod|iPad/); // 構建播放器並放入 HTML DOM function addPlayer() { configOptions.accountID = accountID.value; configOptions.videoID = videoID.value; console.log('configOptions', configOptions); // 動態構建播放器視頻元素，但只是部分構建，因此它不會實例化 playerHTML = '<video-js id=\"myPlayerID\" data-embed=\"default\" class=\"video-js\" controls></video-js>'; // 將播放器代碼注入 DOM document.getElementById('placeHolder').innerHTML = playerHTML; // 添加並執行播放器腳本標籤 playerScript = document.createElement('script'); playerScript.src = "//players.brightcove.net/" + configOptions.accountID + "/default_default/index.min.js"; document.body.appendChild(playerScript); playerScript.onload = loadIMA;函數 loadIMA() { ima = document.createElement('script'); ima.src = '//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js'; document.head.appendChild(ima); ima.onload = headerBidding; }函數 headerBidding() { // Instantiate player and immediately after call ima3 method myPlayerID.setAttribute('data-account', configOptions.accountID); myPlayerID.setAttribute('data-player', 'default'); myPlayerID.setAttribute('data-video-id', configOptions.videoID); myPlayer = bc(document.getElementById("myPlayerID")); console.log('**********calling IMA3 plugin next'); myPlayer.ima3({ serverUrl: getServerUrl, debug: true, timeout: 5000, ima3SdkSettings: { "disableCustomPlaybackForIOS10Plus": true } }); //FROM HEADER BIDDING CODE function getServerUrl(callback) { var videoAdUnit = { code: 'video1', mediaTypes: { video: { playerSize: [640, 480], context: 'instream' } }，出價：[ { bidder: 'appnexus', params: { placementId: iosDevice ? 13239390 : 13232361, video: { skipppable: true, playback_method: ['auto_play_sound_off'] } } }] }; pbjs.que.push(函數() { pbjs.addAdUnits(videoAdUnit); pbjs.setConfig({ debug: true, cache: { url: 'https://prebid.adnxs.com/pbc/v1/cache' } }); pbjs.requestBids( { bidsBackHandler: function (bids) { var videoUrl = pbjs.adServers.dfp.buildVideoUrl({ adUnit: videoAdUnit, params: { iu: '/19968336/prebid_cache_video_adunit', cust_params: { section: 'blog', anotherKey: 'anotherValue' } , 輸出: '廣闊} });回調（視頻網址）； } }); }); }; myPlayer.ready(函數() { console.log('**********in player ready'); myPlayer.on("ima3error", function () { console.log("There was an ima3 error."); } ); });構建HTML(); } function buildHTML() { var htmlText1, htmlText2, jsText, allFormattedCode; htmlText1 = '<!DOCTYPE html> <html> <head> <meta charset="UTF-8"> <title>出價前視頻 -- Brightcove Player</title> <script async src="//acdn.adnxs.com/prebid/not-for-prod/1/prebid.js">\\&lt; /腳本\\&gt; <link href="//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet"> \\n </head> <body> <h1>出價前視頻 -- Brightcove Player</h1> \\n';顯示播放器HTML = '<video-js id="myPlayerID" data-account="' + configOptions.accountID + '" data-player="default" data-video-id="' + configOptions.videoID + '" data-embed="default" data-application-id class="video-js" playsinline controls width="640" height="480"></video-js>'; htmlText1 += displayPlayerHTML; htmlText1 += playerScript.outerHTML; htmlText1 += '<script src="//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js">\  &lt;  /指令碼\ &gt;'；<script>'; jsText = var pbjs = pbjs || {} ; pbjs.que = pbjs.que || []; ios設備= !! navigator.platform.match(/iPhone|iPod|iPad/);函數 getServerUrl（回調）{ var videoAdUnit = { code: "video1", mediaTypes: { video: { playerSize: [640, 480], context: "instream" } }，出價：[ { bidder: "appnexus", params: { placementId: iosDevice ? 13239390 : 13232361, video: { skipppable: true, playback_method: ["auto_play_sound_off"] } } }] }; pbjs.que.push(函數() { pbjs.addAdUnits(videoAdUnit); pbjs.setConfig({ debug: true, cache: { url: "https://prebid.adnxs.com/pbc/v1/cache" } }); pbjs.requestBids( { bidsBackHandler: function (bids) { var videoUrl = pbjs.adServers.dfp.buildVideoUrl({ adUnit: videoAdUnit, params: { iu: "/19968336/prebid_cache_video_adunit", cust_params: { section: "blog", anotherKey: "anotherValue" } , 輸出: "廣闊" } });回調（視頻網址）； } }); }); }; bc("myPlayerID").ima3( { serverUrl: getServerUrl, debug: true, timeout: 5000, ima3SdkSettings: { "disableCustomPlaybackForIOS10Plus": true } }); var myPlayer = videojs.getPlayer("myPlayerID"); myPlayer.ready(function() { myPlayer.on("ima3error", function () { console.log("There was an ima3 error."); } ); });'; htmlText2 = '\\&lt; /腳本\\&gt; </body> </html>」；所有{ "indent_size": 2 }格式的程式碼 = 美化 ( { "indent_size": 2, "indent_level": 10 }{ "indent_size": 2 }' '  + HTML 文本 2; 發布代碼. 文本內容 = 所有格式代碼;} 函數複製代碼（）{ publishingCode.select(); document.execCommand('copy'); } 
</script>
    </article>