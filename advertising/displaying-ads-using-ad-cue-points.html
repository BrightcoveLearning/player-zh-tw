---
title:使用廣告提示點顯示廣告
parent: Advertising
description: In this document, you will learn how to use the IMA3 plugin and ad cue points to display ads.
---

<article class="bcls-article">
  <h1>使用廣告提示點顯示廣告</h1>
  <summary>{{ page.description }}</summary>
  <section id="Example_player" class="bcls-section">
    <h2>範例播放器</h2>
    <p>以下演示了一個播放器，該播放器在視頻的第二秒標記處創建的提示點處顯示廣告。</p>
    <iframe src="https://players.brightcove.net/1752604059001/rkptuIjul_default/index.html?videoId=5318598744001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" width="640" height="360"></iframe>
  </section>
  <section id="Instructional_video" class="bcls-section">
    <h2>教學視頻</h2>
    <p>以下是一個指導性視頻，可指導您完成在視頻播放期間使用廣告提示點播放廣告的過程。</p>
    <iframe src="https://players.brightcove.net/20318290001/E16-WGGOe_default/index.html?videoId=5353307007001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" width="800" height="450"></iframe>
  </section>
  <section id="Playing_a_video_non-fullscreen" class="bcls-section">
    <h2>實施概述</h2>
    <p>要基於視頻中的廣告提示點播放廣告，您需要執行以下操作：</p>
    <ul>
      <li>在Studio的<strong>媒體</strong>模塊，在您想要的時間在視頻中創建廣告提示點。</li>
      <li>獲取/創建一個VAST標籤，當提示點觸發請求時，該標籤將向視頻投放所需的廣告。</li>
      <li>確保<strong>IMA3</strong>插件已加載到播放器中。在本文檔中，您將看到兩種執行此任務的方法。</li>
      <li>配置<strong>IMA3</strong>插件以使用廣告提示點。</li>
    </ul>
  </section>
  <section id="Create_ad_cue_points" class="bcls-section">
    <h2>創建廣告提示點</h2>
    <p>您使用Studio的<strong>媒體</strong>模塊，將廣告提示點添加到視頻中。單擊視頻，然後執行以下任務：</p>
    <ol>
      <li>在視頻下方，點擊<strong>廣告提示點</strong>按鈕。</li>
      <li>輸入您希望派發提示點的時間。</li>
      <li>設置<strong>類型</strong>至<strong>廣告</strong>。</li>
      <li>給提示點一個名稱。</li>
    </ol>
    <figure class="bcls-figure"><img class="bcls-image" alt="Create cue point in Studio" src="/assets/images/advertising/studio-create-cue-point.png" /></figure>
    <p>您可以添加多個提示點。有關在Studio中使用提示點的更多信息，請參見<a href="https://studio.support.brightcove.com/media/working-cue-points-media-module.html">在媒體模塊中使用提示點</a>文檔。</p>
  </section>
  <section id="Create/obtain_a_VAST_tag" class="bcls-section">
    <h2>創建/獲取VAST代碼</h2>
    <p>在配置IMA3插件時，您需要提供一個指向VAST標籤位置的URL。VAST代碼為播放器投放廣告。在此示例中，使用了靜態VAST標記（實際上是VAST XML文檔的URL）。您可能希望使用廣告服務器從多個要查看的廣告中隨機選擇。無論如何，IMA3插件都需要指向有效的VAST標籤。</p>
    <p>對於此文檔，將使用播放單個廣告的靜態VAST標籤。VAST XML如下所示：</p>
    <pre class="line-numbers">
      <code class="language-html" translate="No">&lt;VAST version="3.0"&gt;
        &lt;Ad id="1"&gt;
          &lt;InLine&gt;
            &lt;AdSystem version="1.0"&gt;Test Ad Server&lt;/AdSystem&gt;
            &lt;AdTitle&gt;
              &lt;![CDATA[ Portals ]]&gt;
            &lt;/AdTitle&gt;
            &lt;Description&gt;
              &lt;![CDATA[ Demo ad number 6 ]]&gt;
            &lt;/Description&gt;
            &lt;Error&gt;
              &lt;![CDATA[ ]]&gt;
            &lt;/Error&gt;
            &lt;Creatives&gt;
              &lt;Creative&gt;
                &lt;Linear&gt;
                  &lt;Duration&gt;00:00:8&lt;/Duration&gt;
                  &lt;TrackingEvents/&gt;
                  &lt;AdParameters&gt;
                    &lt;![CDATA[ &lt;xml&gt;&lt;/xml&gt; ]]&gt;
                  &lt;/AdParameters&gt;
                  &lt;VideoClicks/&gt;
                  &lt;MediaFiles&gt;
                    &lt;MediaFile type="video/mp4" width="1280" height="720" delivery="progressive" id="2" bitrate="4316" minBitrate="320" maxBitrate="320" scalable="true" maintainAspectRatio="true"&gt;
                      &lt;![CDATA[
                        http://solutions.brightcove.com/bcls/ads/bc-ads/bcls-ad-6-5seconds.mp4
                      ]]&gt;
                    &lt;/MediaFile&gt;
                  &lt;/MediaFiles&gt;
                &lt;/Linear&gt;
              &lt;/Creative&gt;
            &lt;/Creatives&gt;
            &lt;Extensions&gt;
              &lt;Extension&gt;
                &lt;xml&gt;data&lt;/xml&gt;
              &lt;/Extension&gt;
            &lt;/Extensions&gt;
          &lt;/InLine&gt;
        &lt;/Ad&gt;
      &lt;/VAST&gt;</code></pre>
  </section>
  <section id="Studio_implementation" class="bcls-section">
    <h2>Studio實施</h2>
    <p>您可以使用Studio設置廣告提示點。從高級別上，您可以執行以下操作：</p>
    <ul>
      <li>使用來設置IMA3插件<strong>廣告</strong>的部分<strong>選手們</strong>模塊。</li>
      <li>發布您的播放器。</li>
    </ul>
    <p>以下是執行設置的詳細步驟：</p>
    <ol class="bcls-tasklist">
      <li>打開<strong>選手們</strong>模塊，然後創建一個新播放器或找到您要向其添加提示點廣告的播放器。</li>
      <li>單擊播放器的鏈接以打開播放器的屬性。</li>
      <li>點擊<strong>廣告</strong>在左側導航菜單中。</li>
      <li>檢查<strong>啟用客戶端（IMA）</strong>複選框。</li>
      <li>提供適當的<strong>廣告代碼</strong>。</li>
      <li>來自<strong>要求廣告</strong>下拉，選擇<strong>提示點</strong>，如下所示：
        <figure class="bcls-figure"><img class="bcls-image" alt="Plugin configuration in Studio" src="/assets/images/advertising/studio-plugin-setup.png" /></figure>
      </li>
      <li>點擊<strong>保存</strong>。</li>
      <li>要發布播放器，請單擊<strong>發布和嵌入&gt;發布更改</strong>。</li>
      <li>要關閉打開的對話框，請單擊<strong>關閉</strong>。</li>
      <li>返回到<strong>媒體</strong>模塊，並使用新配置的播放器發布帶有廣告提示點的視頻。</li>
    </ol>
  </section>
  <section id="Plugin_configuration" class="bcls-section">
    <h2>插件配置</h2>
    <p>您必須對IMA3插件進行一些配置設置才能正確使用廣告提示點。他們是：</p>
    <ul>
      <li><code translate="No">useMediaCuePoints</code> must be set to <code translate="No">true</code></li>
      <li><code translate="No">requestMode</code> must be set to the string <code translate="No">oncue</code></li>
      <li><code translate="No">serverUrl</code> must be set to a valid VAST tag</li>
    </ul>
    <p>有關這些選項的完整詳細信息，請參見<a href="/plugins/advertising-ima3-plugin.html#Options">使用IMA3插件做廣告</a>文件的<strong>選項</strong>部分。</p>
  </section>
  <section id="In-page_embed_implementation" class="bcls-section">
    <h2>頁內嵌入實施</h2>
    <p>您還可以使用頁內嵌入播放器代碼來實現廣告提示點。在下面的代碼中，IMA3插件已在HTML頁面中全部加載和配置。</p>
    <p>以下代碼是實際的實現：</p>
    <ul>
      <li>第7-12行：設置播放器大小的樣式。</li>
      <li>第13行：鏈接到IMA3插件的CSS。</li>
      <li>第19-27行：播放器發布代碼，另外還有<code translate="No">id</code>屬性，該屬性將在JavaScript中使用。</li>
      <li>第29行：包括IMA3插件的JavaScript。</li>
      <li>第32-33、40行：等待播放器代碼準備好與之交互的標準代碼，並為播放器對象分配一個變量。</li>
      <li>第34-38行：為所需的選項分配其規定的值。</li>
      <li>第39行：致電<code translate="No">ima3</code>插件，將選項作為參數傳遞。</li>
    </ul>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Untitled Document&lt;/title&gt;
  &lt;style&gt;
    .video-js {
      height: 344px;
      width: 610px;
    }
  &lt;/style&gt;
  &lt;link href="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet"&gt;

&lt;/head&gt;

&lt;body&gt;

  &lt;video-js id="myPlayerID"
    data-video-id="4607746980001"
    data-account="1507807800001"
    data-player="rkNxoBMOe"
    data-embed="default"
    data-application-id
    class="video-js"
    controls&gt;&lt;/video-js&gt;
  &lt;script src="https://players.brightcove.net/1507807800001/rkNxoBMOe_default/index.min.js"&gt;&lt;/script&gt;

  &lt;script src="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js"&gt;&lt;/script&gt;

  &lt;script type="text/javascript"&gt;
    videojs.getPlayer('myPlayerID').ready(function() {
      var myPlayer = this,
      <span class="bcls-highlight">options = {
        useMediaCuePoints: true,
        requestMode: 'oncue',
        serverUrl: "//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vast.xml"
      };
      myPlayer.ima3(options);</span>
    });
  &lt;/script&gt;

&lt;/body&gt;

&lt;/html&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Known_issues">已知的問題</h2>
    <ul>
      <li>在Studio中命名提示點時，如<strong>創建廣告提示點</strong>上面的部分，請勿在名稱中使用花括號和雙引號。這樣做將導致動態生成的VMAP格式錯誤。</li>
    </ul>
  </section>
</article>