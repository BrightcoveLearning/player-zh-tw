---
title: '指南：contrib-ads 遷移'
parent: Advertising
description: 'In this topic, you will learn about some points when migrating to the the latest version of <strong>貢獻廣告</strong> .---
<article class="bcls-article">
  <h1>指南：contrib-ads遷移</h1>
  <summary>{{ page.description }}</summary>
  <section id="Overview" class="bcls-section">
    <h2>概述</h2>
    <p>Video.js的最佳功能之一是圍繞它建立的插件和自定義社區。廣告支持是該生態系統的重要組成部分，但並非所有插件作者在撰寫廣告時就牢記在心。Brightcove正在對<a href="//github.com/videojs/videojs-contrib-ads">videojs-contrib-ads</a>使廣告與Video.js的其餘部分更加兼容。在插件的2.0版中，插件會根據廣告是否在播放而使用不同的前綴重新調度事件。播放廣告時，事件會以開頭<strong>廣告</strong>當廣告休息後恢復內容時，事件會以開頭<strong>內容</strong>。例如，一個<code translate="No">pause</code>廣告期間的事件會變成<code translate="No">adpause</code>事件。這意味著從（非廣告）插件作者的角度來看，無論是否播放廣告，Video.js的行為都將相同。而且，如果有人想編寫一個具有廣告意識的插件，那麼這些原始事件仍然可供他們使用。</p>
  </section>
  <section id="migrationprocedures" class="bcls-section">
    <h2>遷移程序</h2>
    <p>如果您是在以下內容的基礎上編寫自己的廣告集成，<a href="//github.com/videojs/videojs-contrib-ads"> videojs-contrib-ads</a>，您應該做一些準備升級的事情：</p>
    <ul>
      <li>將適當的前綴應用於事件處理程序。如果你在聽<code translate="No">timeupdate</code>廣告播放期間發生的事件，您現在應該在聽<code translate="No">adtimeupdate</code>。在內容播放期間發生的視頻事件不受影響。</li>
      <li>聽<code translate="No">contentended</code>觸發postroll而不是<code translate="No">ended</code>。播放內容時，<code translate="No">ended</code>事件被捕獲並重新調度為<code translate="No">contentended</code>這樣其他插件就不會看到多個<code translate="No">ended</code>同一視頻的事件。內容和後期製作完成後，contrib-ads將觸發<code translate="No">ended</code>事件。</li>
      <li>建議您的用戶在啟動其他插件之前包括並初始化您的插件。contrib-ads插件將負責重新調度事件，但是對於在偵聽器鏈中較早註冊的插件，它無法將其隱藏。</li>
      <li>對後期製作的擴展支持增加了一個新功能<code translate="No">postrollTimeout</code>選項，類似於預卷。如果您不希望播放視頻的後片，則可以觸發<code translate="No">adtimeout</code>立即播放下一個視頻。</li>
    </ul>
  </section>
</article>