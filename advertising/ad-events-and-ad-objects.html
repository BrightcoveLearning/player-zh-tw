---
title:廣告事件和廣告物
parent: Advertising
description: 'This document explains and demonstrates the use of a common set of ad events and ad objects implemented in 件 <em>影片-接觸式廣告</em> 外掛程式。'
---

<article class="bcls-article">
  <h1>廣告事件和廣告物件</h1> 
  <summary>{{ page.description }} </summary>
  <section id="Overview" class="bcls-section">
    <h2>概述</h2>
    <p>的 <em>影片-接觸式廣告</em>，位於視<a href="https://github.com/videojs/videojs-contrib-ads">頻 J/ 視頻 js-contrib-ads </a>  GitHub 存儲庫中，提供視頻廣告庫和視頻廣告整合所需的通用功能，減少您為特定廣告整合所需編寫的代碼。</p>
    <p>這些事件和對象在布賴特灣提供的飛輪和 IM3 插件中實現。這些相同的事件和物件會在 SSAI 外掛程式中實作，但下列項目除外：</p>
    <ul>
      <li><code translate="No">player.ads.pod</code>介面</li>
      <li><code translate="No">player.ads.provider</code>物件</li>
    </ul>
  </section>
  <section id="events" class="bcls-section">
    <h2>廣告活動</h2>
    <p>每個廣告供應商都可以發出一組獨特的事件。一般而言，這些事件會用來追蹤廣告播放狀態，以達到量度目的，並建立自訂 UI。建議實施以下事件以鼓勵統一性，並允許自定義用戶界面和分析提供商保持廣告供應商不可知。</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width:30%">事件</th>
          <th style="width:70%">傳送時間：</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">ads-request</code>   </td>
          <td>要求廣告資料</td>
        </tr>
        <tr>
          <td><code translate="No">ads-load</code>   </td>
          <td>廣告資料可在廣告請求後使用</td>
        </tr>
        <tr>
          <td><code translate="No">ads-pod-started</code>   </td>
          <td>線性廣告網繭已開始</td>
        </tr>
        <tr>
          <td><code translate="No">ads-pod-ended</code>   </td>
          <td>線性廣告網繭已完成</td>
        </tr>
        <tr>
          <td><code translate="No">ads-allpods-completed</code>   </td>
          <td>所有線性廣告都已完成</td>
        </tr>
        <tr>
          <td><code translate="No">ads-ad-started</code>   </td>
          <td>廣告開始播放</td>
        </tr>
        <tr>
          <td><code translate="No">ads-ad-ended</code>   </td>
          <td>廣告播放完成</td>
        </tr>
        <tr>
          <td><code translate="No">ads-first-quartile</code>   </td>
          <td>廣告播放頭跨越第一個四分位元</td>
        </tr>
        <tr>
          <td><code translate="No">ads-midpoint</code>   </td>
          <td>廣告播放磁頭跨過中點</td>
        </tr>
        <tr>
          <td><code translate="No">ads-third-quartile</code>   </td>
          <td>廣告播放頭跨越第三個四分位元</td>
        </tr>
        <tr>
          <td><code translate="No">ads-pause</code>   </td>
          <td>廣告已暫停</td>
        </tr>
        <tr>
          <td><code translate="No">ads-play</code>   </td>
          <td>廣告已恢復</td>
        </tr>
        <tr>
          <td><code translate="No">ads-volumechange</code>   </td>
          <td>廣告數量已變更</td>
        </tr>
        <tr>
          <td><code translate="No">ads-click</code>   </td>
          <td>點擊廣告</td>
        </tr>
      </tbody>
    </table>
    <p>這些事件可以從播放程式物件偵聽。下面是監聽對<code translate="No">ads-ad-started</code>象的代碼，以及傳遞給事件處理程序的對象的屏幕截圖。</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').on('loadedmetadata',function(){
  var myPlayer = this;
  ...
  <span class="bcls-highlight">myPlayer.on('ads-ad-started',function( evt ){</span>
    console.log('ads-ad-started event passed to event handler', evt);
  });</code>   </pre>
    <figure class="bcls-figure"><img class="bcls-image" alt="ad event object" src="/assets/images/advertising/event-object.png" /></figure>
  </section>
  <section id="adobjects" class="bcls-section">
    <h2>廣告物件</h2>
    <p>正如你所看到的，傳遞給事件處理程序的事件對象並不是非常豐富的信息。出於這個原因，有兩個對象，你可以利用它們收集更多的廣告信息，他們是<strong translate="No">播放器 .ads.ad </strong>和<strong translate="No">播放器 .ads.pod </strong>。</p>
    <aside class="bcls-aside bcls-aside--information"> 
      <p >注意：如果您不熟悉這個詞彙<code translate="No">ad pod</code>，這是一連串的線性廣告，會回放到背面播放。電視上的商業休息是豆莢的例子。Pods 通常用於長形式的視訊，以建立類似電視的廣告體驗。</p>
    </aside> 
    <p>在下面的螢幕擷取畫面中，您會看到<strong translate="No">播放器 .ads.ad </strong>物件包含廣告<code translate="No">type</code>和<code translate="No">duration</code>廣告，以及其他細節。</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="player ads" src="/assets/images/advertising/player-ads-ad-object.png" /></figure>
    <p><strong translate="No">播放器 .ads.pod </strong>物件包含與<strong>播放器 .ads.ad 類似的資訊</strong>，同時還增加了網繭中的廣告數量。下列第一個螢幕擷取畫面顯示包含單一廣告的廣告網繭，第二個螢幕擷取畫面則顯示含有三個廣告的網繭。</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="ads pod object" src="/assets/images/advertising/player-ads-pod-object.png" /></figure>
    <figure class="bcls-figure"><img class="bcls-image" alt="multiple ads pod" src="/assets/images/advertising/ad-pod-multiple-ads.png" /></figure>
    <aside class="bcls-aside bcls-aside--information"> 
      <p>物件註記：</p>
      <ul>
        <li>
          <p >內容播放期<code translate="No">player.ads.provider.type</code>間除外的所有內容都未定義。</p>
        </li>
        <li>
          <p >廣告類型應該是其中之一<code translate="No">PREROLL</code>，<code translate="No">MIDROLL</code>或<code translate="No">POSTROLL</code>   </p>
        </li>
      </ul>
    </aside> 
  </section>
  <section class="bcls-section">
    <h2 id="Googles_AdsManager">谷歌的廣告經理</h2>
    <p>有一些方法和屬性可<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdsManager">以從谷歌的</a>谷歌。您可以使用接口的屬性/方法來檢索信息。不建議使用執行操作的方法<code translate="No">destroy </code>，如<code translate="No">setAutoPlayAdBreaks </code>，<code translate="No">stop </code>。例如，您可以使用的一種方法如下所示：</p>
    <h3>廣告管理員. 取得維護時間</h3>
    <p>類型：<code translate="No">google.ima.AdsManager.getRemainingTime </code>   </p>
    <p>用法：<code translate="No">myPlayer.ima3.adsManager.getRemainingTime() </code>   </p>
    <p>呼叫此方法會傳回目前廣告的剩餘時間量。如果廣告無法使用或播放完成，則會傳回-1。有關更多信息，請參閱 Google 的<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdsManager#getRemainingTime">文檔</a>方法上。</p>
  </section>
</article>