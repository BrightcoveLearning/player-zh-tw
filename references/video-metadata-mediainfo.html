---
title:來自 mediainfo 的視頻元數據
parent: References
---

<article class="bcls-article">
  <h1>來自mediainfo的視頻元數據</h1>
  <summary>在本主題中，您將學習如何從<code translate="No">mediainfo</code>目的。該屬性將在<code translate="No">loadstart</code>事件已調度。</summary>
  <section id="mediainfo" class="bcls-section">
    <h2>mediainfo屬性</h2>
    <p class="video-cloud-only">這<code translate="No">mediainfo</code>屬性是一個對象，其中包含播放器中當前視頻的信息（元數據）。</p>
    <p class="player-only">這<code translate="No">mediainfo</code>屬性是一個對象，其中包含播放器中當前視頻的信息（元數據）。您可以使用來自CMS（內容管理系統）或數據庫的視頻信息來填充對象。</p>
    <p>之後<code translate="No">mediainfo</code>對像已填充，希望顯示視頻信息（例如視頻名稱或說明）時，可以使用它方便地進行數據檢索。該對像還用於分析收集。</p>
    <h3>mediainfo中的字段</h3>
    <p>存在於<code translate="No">mediainfo</code>屬性如下：</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>欄位名稱</th>
          <th>描述</th>
          <th>數據類型</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><code translate="No">accountId</code></td>
          <td>Brightcove帳戶</td>
          <td>字串 </td>
        </tr>
        <tr>
          <td><code translate="No">adKeys</code></td>
          <td>為了將來的支持</td>
          <td>不適用</td>
        </tr>
        <tr>
          <td><code translate="No">createdAt</code></td>
          <td>創建日期和時間</td>
          <td>UTC（2011-09-28T20：06：37.879Z）</td>
        </tr>
        <tr>
          <td><code translate="No">cuePoints</code></td>
          <td>提示點列表作為對像數組</td>
          <td>對像數組</td>
        </tr>
        <tr>
          <td><code translate="No">customFields</code></td>
          <td>自定義字段名稱和關聯值的鍵值對</td>
          <td>物件 </td>
        </tr>
        <tr>
          <td><code translate="No">description</code></td>
          <td>簡短說明，最多250個字符</td>
          <td>字串 </td>
        </tr>
        <tr>
          <td><code translate="No">duration</code></td>
          <td>視頻長度（以秒為單位）</td>
          <td>數字</td>
        </tr>
        <tr>
          <td><code translate="No">economics</code></td>
          <td>包含<strong translate="No">廣告支持</strong>或者<strong translate="No">自由</strong> .如果介質被標記<strong translate="No">自由</strong>，IMA3 和 FreeWheel 廣告都不會播放。</td>
          <td>字串 </td>
        </tr>
        <tr>
          <td><code translate="No">id</code></td>
          <td><span class="video-cloud-only">影片編號</span><span class="player-only">與視頻關聯的唯一標識符</span></td>
          <td>字串 </td>
        </tr>
        <tr>
          <td><code translate="No">link</code></td>
          <td>包含鏈接的對象<strong translate="No">文本</strong>和<strong translate="No">網址</strong>特性</td>
          <td>物件 </td>
        </tr>
        <tr>
          <td><code translate="No">longDescription</code></td>
          <td>說明，最多5000個字符</td>
          <td>字串 </td>
        </tr>
        <tr>
          <td><code translate="No">name</code></td>
          <td>影片標題</td>
          <td>字串 </td>
        </tr>
        <tr>
          <td><code translate="No">poster</code></td>
          <td>海報圖像的URL</td>
          <td>字串 </td>
        </tr>
        <tr>
          <td><code translate="No">posterSources</code></td>
          <td>包含海報來源的數組</td>
          <td>大批</td>
        </tr>
        <tr>
          <td><code translate="No">publishedAt</code></td>
          <td>出版日期和時間</td>
          <td>UTC（2011-09-28T20：06：37.879Z）</td>
        </tr>
        <tr>
          <td><code translate="No">rawSources</code></td>
          <td>渲染信息</td>
          <td>大批</td>
        </tr>
        <tr>
          <td><code translate="No">referenceId</code></td>
          <td>影片參考編號<span class="player-only">來自外部數據庫或CMS的密鑰或標識符</span></td>
          <td>字串 </td>
        </tr>
        <tr>
          <td><code translate="No">sources</code></td>
          <td>作為對像數組的再現列表；每個對象至少包含兩個元素：<strong translate="No">類型</strong>和<strong translate="No">源文件</strong></td>
          <td>對像數組</td>
        </tr>
        <tr>
          <td><code translate="No">tags</code></td>
          <td>與視訊相關聯的標籤 (中繼資料)</td>
          <td>字符串數組</td>
        </tr>
        <tr>
          <td><code translate="No">textTracks</code></td>
          <td>包含字幕，提示點等文本軌道的數組。</td>
          <td>大批</td>
        </tr>
        <tr>
          <td><code translate="No">thumbnail</code></td>
          <td>縮略圖的網址</td>
          <td>字串 </td>
        </tr>
        <tr>
          <td><code translate="No">thumbnailSources</code></td>
          <td>包含海報縮略圖的數據結構</td>
          <td>字串 </td>
        </tr>
        <tr>
          <td><code translate="No"><a href="#variant">variants</a></code></td>
          <td>包含視頻多語言元數據的對像數組；對象屬性：<code translate="no">語</code> , <code translate="no">姓名</code> , <code translate="no">描述</code> , <code translate="no">詳細描述</code>， 和<code translate="no">custom_fields</code></td>
          <td>陣列 </td>
        </tr>
      </tbody>
    </table>
  </section>
  <section id="code" class="bcls-section video-cloud-only">
    <h2>填充mediainfo</h2>
    <p>使用<code translate="No">on()</code>您等待的方法<code translate="No">loadstart</code>要調度的事件，然後在相應的事件處理程序中訪問存儲在<code translate="No">mediainfo</code>目的。從下面的代碼中註意使用<code translate="No">console.log</code>顯示<code translate="No">mediainfo</code>對象（第111-113行）。</p>
    <pre class="line-numbers" data-start="100">
<code class="language-html" translate="No">&lt;video-js id="myPlayerID"
  data-video-id="4093643993001"
  data-account="1752604059001"
  data-player="VJvZIueYx"
  data-embed="default"
  class="video-js" controls=""&gt;&lt;/video-js&gt;
&lt;script src="https://players.brightcove.net/1752604059001/VJvZIueYx_default/index.min.js"&gt;&lt;/script&gt;

&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this;
    <span class="bcls-highlight">myPlayer.on('loadstart',function(){
      console.log('mediainfo', myPlayer.mediainfo);
    })</span>
  });
&lt;/script&gt;</code></pre>
    <p>控制台顯示的示例如下所示：</p>
    <aside class="bcls-aside bcls-aside--information">在此屏幕截圖中，舊式蛇形大小寫 (account_id) 屬性名稱與當前駝色大小寫 (accountId) 名稱一起顯示。</aside>
    <figure class="bcls-figure"><img class="bcls-image" alt="console display" src="/assets/images/references/mediainfo/console-display.png" /></figure>
  </section>
  <section id="populatetheobject" class="bcls-section player-only">
    <h2>填充對象</h2>
    <p>您可以手動填充<code translate="No">mediainfo</code>屬性，以及來自CMS或數據庫的元數據。然後，您可以使用<code translate="No">mediainfo</code>對象的<code translate="No">sources</code>屬性，以使用視頻轉播填充播放器。</p>
    <aside class="bcls-aside bcls-aside--warning  player-only">注意：如果通過這種手動過程來構建和填充<code translate="No">mediainfo</code>對象未完成第三者分析可能會失敗。這是因為<code translate="No">mediainfo</code>是插件獲取視頻元數據的集成點。
    <ul>
      <li>第32-37行：頁內嵌入播放器實施</li>
      <li>40-52行：手動創建一個視頻對象；實際上，數據來自CMS或數據庫，並且對像是動態構建的</li>
      <li>第54-55行：確保播放器可以使用，並將播放器實例分配給變量</li>
      <li>第56行：將手動創建的視頻對象分配給播放器的<code translate="No">mediainfo</code>目的</li>
      <li>第57行：使用玩家的<code translate="No">src</code>分配一個或多個視頻副本的方法，這些副本存儲在<code translate="No">mediainfo</code>對象的<code translate="No">sources</code>財產，對球員</li>
    </ul>
    <pre class="line-numbers" data-start="32">
<code class="language-html" translate="No">  &lt;video-js id="myPlayerID"
    data-account="3676484086001"
    data-player="2433352b-a2e2-4b7e-9a15-2d9ec7f07e9d"
    data-embed="default"
    class="video-js" controls&gt;&lt;/video-js&gt;
  &lt;script src="https://players.brightcove.net/3676484086001/2433352b-a2e2-4b7e-9a15-2d9ec7f07e9d_default/index.min.js"&gt;&lt;/script&gt;

  &lt;script type="text/javascript"&gt;
    //Populate video object (normally from database or CMS)
    var videoObject = new Object();
    videoObject.name = "Hand made video object test";
    videoObject.id = "1234msb";
    videoObject.description = "short description for hand made video object";
    videoObject.accountId = "1507807800001";
    videoObject.sources = [{
        "src": "http://solutions.brightcove.com/bcls/assets/videos/Tiger.m3u8",
        "type": "application/x-mpegURL"
      }, {
        "src": "http://solutions.brightcove.com/bcls/assets/videos/Tiger.mp4",
        "type": "video/mp4"
      }];

    videojs.getPlayer('myPlayerID').ready(function() {
      var myPlayer = this;
      <span class="bcls-highlight">myPlayer.mediainfo = videoObject;
      myPlayer.src(myPlayer.mediainfo.sources);</span>
    });
  &lt;/script&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="displaytagsfields">顯示標籤和自定義字段</h2>
    <aside class="bcls-aside bcls-aside--information player-only">儘管您不太可能手動填充<strong translate="No">自定義字段</strong>和<strong translate="No">標籤</strong>對象，這是可能的，因此包含此內容。</aside>
    <p>標籤和自定義字段都存儲在復雜的數據結構中。這<strong translate="No">自定義字段</strong>在一個對象和<strong translate="No">標籤</strong>在一個數組中。以下屏幕截圖顯示了在<code translate="No">mediainfo</code>目的。</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="tags and custom fields in console display" src="/assets/images/references/mediainfo/tags-custom-fields.png" /></figure>
    <p>要顯示這些複雜數據結構中的數據，您需要兩種循環。一種<code translate="No">for</code>循環用於遍歷標籤數組（第16-20行），並將動態生成的HTML無序列表注入到<code translate="No">&lt;div&gt;</code>（在第9行中定義）。一種<code translate="No">for-in</code>循環用於遍歷自定義字段對象（第24-27行），並將動態生成的HTML無序列表注入到<code translate="No">&lt;div&gt;</code>。</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id="myPlayerID"
  data-video-id="4093643993001"
  data-account="1752604059001"
  data-player="VJvZIueYx"
  data-embed="default"
  class="video-js" controls=""&gt;&lt;/video-js&gt;
&lt;script src="https://players.brightcove.net/1752604059001/VJvZIueYx_default/index.min.js"&gt;&lt;/script&gt;

&lt;div id="displayInfo"&gt;&lt;/div&gt;

&lt;script type="text/javascript"&gt;
  videojs.getPlayer('myPlayerID').ready(function() {
    var myPlayer = this;
    myPlayer.on('loadstart',function(){
      //Use JavaScript to display the tags
      <span class="bcls-highlight">var numTags = myPlayer.mediainfo.tags.length;
      displayInfo.innerHTML += "&lt;h1&gt;Tags:&lt;/h1&gt;&lt;ul&gt;";
      for (var i = 0; i &lt; numTags; i++) {
        displayInfo.innerHTML += "&lt;li&gt;" + myPlayer.mediainfo.tags[i] + "&lt;/li&gt;";
      };</span>
      displayInfo.innerHTML += "&lt;/ul&gt;&lt;br /&gt;";

      //Use JavaScript to display custom fields
      <span class="bcls-highlight">displayInfo.innerHTML += "&lt;h1&gt;Custom Fields:&lt;/h1&gt;&lt;ul&gt;";
      for (var key in myPlayer.mediainfo.customFields) {
       displayInfo.innerHTML += "&lt;li&gt;&lt;strong&gt;" + key + "&lt;/strong&gt;: " + myPlayer.mediainfo.customFields[key] + "&lt;/li&gt;";
      }</span>
      displayInfo.innerHTML += "&lt;/ul&gt;";
    })
  });
&lt;/script&gt;</code></pre>
    <p>呈現的HTML如下圖所示。</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="tags and custom display in HTML" src="/assets/images/references/mediainfo/html-display.png" /></figure>
    <aside class="bcls-aside bcls-aside--information video-cloud-only">注意：自定義字段鍵，<strong translate="No">自定義字段1</strong>和<strong translate="No">自定義字段2</strong> , 只是演示名稱。您將選擇反映存儲在自定義字段中的數據的鍵名。
  </section>
</article>
