---
title:Brightcove 播放器加載程序
parent: 'Publishing Videos &amp; Players'
description: In this topic, you will learn how to use the Brightcove Player Loader to load a Brightcove Player using modern build tooling. This library is seen as a tool for more technical customers.
---

<article class="bcls-article">
  <h1>Brightcove播放器加載程序</h1>
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="Player_loader_overview">播放器加載器概述</h2>
    <aside class="bcls-aside bcls-aside--warning">Brightcove Player Loader 是一個開源工具，並不受 Brightcove 的正式支持。此外，該庫僅支持 Brightcove Players v6.11.0 及更高版本。
    <p>對於Brightcove Player的用戶不想複製並粘貼頁面內嵌入或iframe Player實現，此模塊已捆綁到他們的Web應用程序中，並提供了一種無需使用集成代碼即可下載其內容即可使用Brightcove Player的方法。玩家並將其嵌入。該工具使用Brightcove庫解決了該問題，該庫可以下載任何已發布的Brightcove Player並將其嵌入DOM中。</p>
    <p>該庫支持常見的常綠瀏覽器，Chrome、Firefox、Edge 和 Safari。</p>
    <p>該文檔實質上提供了Brightcove Player Loader的示例用法。有關完整的詳細信息，請參見庫的<a href="https://github.com/brightcove/player-loader#">Brightcove /播放器加載程序</a> GitHub倉庫。</p>
    <p>有一個可與Brightcove Player一起使用的Webpack。有關詳細信息，請參見<a href="https://github.com/brightcove/player-loader-webpack-plugin">播放器加載器Webpack插件</a> GitHub倉庫。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Installation">安裝</h2>
    <p>該庫是使用NPM通過以下方式安裝的：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">npm install --save @brightcove/player-loader</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Including_the_library">包括圖書館</h2>
    <p>有關包括供您使用的庫的不同方法，請參見<a href="https://github.com/brightcove/player-loader#inclusion">GitHub回購</a>為圖書館。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Implementation_using_a_Promise">使用承諾實現</h2>
    <aside class="bcls-aside bcls-aside--tip">在本示例和後面的示例中，使用了庫中的參數。包含完整參數列表的表格位於<a href="#Available_parameters">可用參數</a>以下部分。
    <p>您可以使用<a href="https://general.support.brightcove.com/developer/concepts-using-javascript-promises.html">JavaScript承諾</a>與圖書館。該庫不需要承諾就可以工作，但是建議使用它們。默認情況下，該庫將查找全局Promise。但是，您可以通過以下方式顯式提供Promise實現：<code translate="No">Promise</code>參數，將在本文檔的後面部分進行詳細介紹。</p>
    <p>下面顯示了使用Promise實現的庫。一個關鍵的概念是您可以通過使用獲得對播放器的引用<code translate="No">var myPlayer = success.ref;</code>在裡面<code translate="No">then</code>處理承諾的部分：</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Untitled Document&lt;/title&gt;
  &lt;style&gt;
    .video-js {
      height: 344px;
      width: 610px;
    }
  &lt;/style&gt;

&lt;/head&gt;

&lt;body&gt;
  &lt;script src="brightcove-player-loader.min.js"&gt;&lt;/script&gt;

  &lt;div id="theDiv"&gt;
  &lt;/div&gt;

  &lt;script&gt;
    <span class="bcls-highlight">brightcovePlayerLoader({
      refNode: document.querySelector('#theDiv'),
      accountId: '1752604059001',
      playerId: 'wHBRh9M3o',
      videoId: '4607357817001'
    })
    .then(function(success) {
      var myPlayer = success.ref;
      console.log('success', success);
      myPlayer.on('loadedmetadata',function(){
        myPlayer.muted(true);
        myPlayer.play();
      });
    })
    .catch(function(error) {
      console.log('error', error);
    })</span>
  &lt;/script&gt;

&lt;/body&gt;

&lt;/html&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Implementation_using_callbacks">使用回調實現</h2>
    <p>您還可以通過以下方式使用回調來實現播放器加載程序<code translate="No">onSuccess</code>和<code translate="No">onFailure</code>回調函數。</p>
    <p>下面顯示了使用回調的庫實現。一個關鍵的概念是您可以通過使用獲得對播放器的引用<code translate="No">var myPlayer = success.ref;</code>在裡面<code translate="No">onSuccess</code>回調函數：</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Untitled Document&lt;/title&gt;
  &lt;style&gt;
    .video-js {
      height: 344px;
      width: 610px;
    }
  &lt;/style&gt;

&lt;/head&gt;

&lt;body&gt;
  &lt;script src="brightcove-player-loader.min.js"&gt;&lt;/script&gt;

  &lt;div id="theDiv"&gt;
  &lt;/div&gt;

  &lt;script&gt;
  <span class="bcls-highlight">brightcovePlayerLoader({
    refNode: document.querySelector('#theDiv'),
    accountId: '1752604059001',
    playerId: 'wHBRh9M3o',
    videoId: '4607357817001',
    onSuccess: function(success) {
      var myPlayer = success.ref;
      console.log('success', success);
      myPlayer.on('loadedmetadata',function(){
        myPlayer.muted(true);
        myPlayer.play();
      });
    },
    onFailure(error) {
      console.log('error', error);
    }
  });</span>
  &lt;/script&gt;

&lt;/body&gt;

&lt;/html&gt;</code></pre>
  </section>
  <!-- <section class="bcls-section">
  <h2 id="Using_a_search_parameter">Using a search parameter</h2>
  <aside class="bcls-aside bcls-aside--tip">For information on building complex searches see the <a href="/node/18108#getSearch_method">getSearch()</a> section of the <strong translate="No">Player Catalog</strong> document.</aside>
  <p>This sample retrieves all videos that have <strong translate="No">Desert</strong> in their name, then displays them in a playlist. Important to note in this example:</p>
  <ul>
    <li>The Brightcove Player has been playlist enabled.</li>
    <li>The <code translate="No">embedType</code> parameter is used to specify that the <code translate="No">iframe</code> player implementation should be used.</li>
    <li>The <code translate="No">playlist</code> embed option is NOT needed since an <code translate="No">iframe</code> player implementation is used. The <code translate="No">playlist</code> embed option would be needed if using an in-page embed player implementation.</li>
    <li></li>
    <li></li>
  </ul>
  <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;Untitled Document&lt;/title&gt;
  &lt;style&gt;
    iframe {
      height: 344px;
      width: 610px;
    }
  &lt;/style&gt;

&lt;/head&gt;

&lt;body&gt;
  &lt;script src=&quot;brightcove-player-loader.min.js&quot;&gt;&lt;/script&gt;

  &lt;div id=&quot;theDiv&quot;&gt;
  &lt;/div&gt;

  &lt;script&gt;
    brightcovePlayerLoader({
      refNode: document.querySelector('#theDiv'),
      embedType: 'iframe',
      accountId: '1752604059001',
      playerId: 'wHBRh9M3o',
      catalogSearch: 'name:Desert'
    })
    .then(function(success) {
      var myPlayer = success.ref;
      console.log('success', success);
      myPlayer.on('loadedmetadata',function(){
        myPlayer.muted(true);
        myPlayer.play();
      });
    })
    .catch(function(error) {
      console.log('error', error);
    })
  &lt;/script&gt;

&lt;/body&gt;

&lt;/html&gt;</code></pre>
  <p>More complex searches can be used. For example to limit the number of videos returned then sort the videos by name you would use:</p>
  <pre class="line-numbers">
<code class="language-javascript" translate="No"></code></pre>
</section> -->

  <section class="bcls-section">
    <h2 id="Available_parameters">可用參數</h2>
    <dl>
      <dt><strong>名稱：</strong><code translate="No">accountId</code></dt>
      <dd>
        <p><strong>數據類型：</strong>字符串|數字</p>
        <p><strong>描述：</strong><br>Video Cloud 帳戶 ID。</p>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">applicationId</code></dt>
      <dd>
        <p><strong>數據類型：</strong>細繩</p>
        <p><strong>描述：</strong> <br>要應用於生成的嵌入的應用程序ID。</p>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">catalogSearch</code></dt>
      <dd>
        <p><strong>數據類型：</strong>字符串|目的</p>
        <p><strong>描述：</strong><br>
        要執行的視頻雲目錄搜索。這可以是簡單的字符串搜索，也可以是與<a href="/references/player-catalog.html#getSearch_method">目錄<code translate="No">getSearch()</code>方法</a>。如果給出了不可序列化為JSON的非字符串值，則此參數將被忽略。</p>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">catalogSequence</code></dt>
      <dd>
        <p><strong>數據類型：</strong>數組|目的</p>
        <br><strong>描述：</strong><br>
        要執行的視頻雲目錄序列。見<a href="/references/player-catalog.html#getLazySequence_method">目錄<code translate="No">getLazySequence()</code>方法</a>想要查詢更多的信息。如果給出了不可序列化為JSON的非字符串值，則此參數將被忽略。</p>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">embedId</code></dt>
      <dd>
        <p><strong>數據類型：</strong>細繩 </p>
        <p><strong>描述：</strong><br>播放器的 Brightcove 播放器嵌入 ID。默認值為<code translate="No">'default'</code> .默認值對大多數用戶是正確的。</p>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">embedOptions</code></dt>
      <dd>
        <p><strong>數據類型：</strong>目的</p>
        <p><strong>描述：</strong><br>用於為嵌入生成提供某些選項。這些包括：</p>
        <table class="bcls-table">
          <tbody class="bcls-table__body">
            <tr>
              <td style="white-space: nowrap;"><code translate="No">embedOptions.pip</code></td>
              <td>布爾值</td>
              <td>如果<code translate="No">true</code>，將嵌入的文件包裝在<code translate="No">&lt;div class="vjs-pip-container"&gt;</code>元素。當您需要支持時，應使用此選項。<a href="/plugins/picture-picture-plugin-aka-floating-or-pinned.html"> Brightcove畫中畫插件</a>。默認值為<code translate="No">false</code> .</td>
            </tr>
            <tr>
              <td style="white-space: nowrap;"><code translate="No">embedOptions.playlist</code></td>
              <td>布爾值</td>
              <td>如果<code translate="No">true</code>，將添加一個<code translate="No">&lt;div class="vjs-playlist"&gt;</code>元素嵌入後。當您需要支持時，應使用此選項。<a href="/plugins/playlist-ui-plugin.html"> Brightcove播放列表UI插件</a>。默認值為<code translate="No">false</code> .</td>
            </tr>
            <tr>
              <td style="white-space: nowrap;"><code translate="No">embedOptions.responsive</code></td>
              <td>布爾|目的</td>
              <td>使用自定義嵌入代碼以使用<strong translate="No">內在比率</strong>包裝方法。設置為true時，將生成寬高比為16：9的自適應嵌入代碼，該代碼將填充其容器。默認值為<code translate="No">false</code> .<br />
                可以提供一個對象來使用以下子屬性對其進行自定義：
                <ul>
                  <li><code translate="No">aspectRatio</code>：用於將寬高比自定義為16：9以外的值（例如，“4：3"）的字符串。</li>
                  <li><code translate="No">maxWidth</code>：用於限製播放器最大寬度的字符串。這應該使用CSS單位，例如像素（例如'960px'）。</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td style="white-space: nowrap;"><code translate="No">embedOptions.unminified</code></td>
              <td>布爾值</td>
              <td>如果<code translate="No">true</code>，將使用播放器的未縮小版本。這對於調試目的可能是有用的，但要付出更大的播放器下載費用。<strong>不建議用於生產！</strong>默認值為<code translate="No">false</code> .</td>
            </tr>
          </tbody>
        </table>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">embedType</code></dt>
      <dd>
        <p><strong>數據類型：</strong>細繩</p>
        <p><strong>描述：</strong><br>要生成的嵌入代碼類型。此參數的值必須是以下之一：</p>
        <ul>
          <li><code translate="No">'in-page'</code> or <code translate="No">brightcovePlayerLoader.EMBED_TYPE_IN_PAGE</code>:也稱為高級嵌入代碼，這會將播放器直接注入到頂級網頁中。</li>
          <li><code translate="No">'iframe'</code> or <code translate="No">brightcovePlayerLoader.EMBED_TYPE_IFRAME</code>:也稱為基本嵌入代碼，這會將播放器作為&lt;iframe&gt;元素注入。</li>
        </ul>
        默認值為<code translate="No">'in-page'</code> .
      </dd>
      <dt><strong>名稱：</strong><code translate="No">onEmbedCreated</code></dt>
      <dd>
        <p><strong>數據類型：</strong>功能（元素）</p>
        <p><strong>描述：</strong><br>用於自定義嵌入元素的回調（或者<code translate="No">video-js</code>元素或一個<code translate="No">iframe</code>元素）在它被插入到 DOM 或作為結果定制之前<code translate="No">embedOptions</code>在播放器下載和初始化之前。embed元素可能會發生突變，或者，如果此回調返回一個元素，則該元素將用作embed元素。潛在的用例是添加/刪除屬性或添加子元素，例如源或音軌。</p>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">onFailure</code></dt>
      <dd>
        <p><strong>數據類型：</strong>功能（錯誤）</p>
        <p><strong>描述：</strong><br>一個回調函數，允許在以下情況下處理失敗<code translate="No">Promise</code>不可用或不需要。通過此功能將防止<code translate="No">Promise</code>從被退回。它得到一個<code translate="No">Error</code>對像作為參數。該函數的返回值將被忽略。</p>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">onSuccess</code></dt>
      <dd>
        <p><strong>數據類型：</strong>功能（對象）</p>
        <p><strong>描述：</strong><br>一個回調函數，允許在以下情況下處理成功<code translate="No">Promise</code>不可用或不需要。通過此功能將防止<code translate="No">Promise</code>從被退回。它得到一個<code translate="No">Success</code>對像作為參數。該函數的返回值將被忽略。</p>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">options</code></dt>
      <dd>
        <p><strong>數據類型：</strong>目的</p>
        <p><strong>描述：</strong><br>一個 Video.js <a href="https://docs.videojs.com/tutorial-options.html">選項對象</a>在玩家創建過程中通過。這些選項將優先於Brightcove Player配置中指定的任何設置。此參數不能與iframe嵌入一起使用。</p>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">playerId</code></dt>
      <dd>
        <p><strong>數據類型：</strong>細繩</p>
        <p><strong>描述：</strong><br>Brightcove Player 玩家 ID。默認是<code translate="No">'default'</code>。</p>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">playlistId</code></dt>
      <dd>
        <p><strong>數據類型：</strong>字符串 |數字</p>
        <p><strong>描述：</strong> <br>視頻雲播放列表ID或播放列表參考ID。</p>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">playlistVideoId</code></dt>
      <dd>
        <p><strong>數據類型：</strong>字符串 |數字</p>
        <p><strong>描述：</strong></p>
        <p>在由指定的結果播放列表中可以找到的Video Cloud視頻ID <code translate="No">playlistId</code>。如果此參數被忽略，則<code translate="No">playlistId</code>不見了。</p>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">Promise</code></dt>
      <dd>
        <p><strong>數據類型：</strong>功能（功能）</p>
        <p><strong>描述：</strong><br>用於顯式提供<code translate="No">Promise</code>執行。如果提供的話，它將代替任何全球<code translate="No">Promise</code>。默認是<code translate="No">window.Promise</code></p>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">refNode</code></dt>
      <dd>
        <p><strong>數據類型：</strong>元素  | 字串 </p>
        <p><strong>描述：</strong><br><strong translate="No">必需的</strong><br />
          將嵌入播放器的 DOM 元素。如果未作為DOM元素提供，則可以作為字符串提供，並將其傳遞給<code translate="No">document.querySelector</code>。</p>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">refNodeInsert</code></dt>
      <dd>
        <p><strong>數據類型：</strong>細繩</p>
        <p><strong>描述：</strong><br>相對於參考 DOM 元素（由 refNode 指定）插入播放器的方式。此參數的值必須是以下之一：
        <ul>
          <li><code translate="No">'append'</code> or <code translate="No">brightcovePlayerLoader.REF_NODE_INSERT_APPEND</code>:播放器將是參考節點的最後一個子節點。</li>
          <li><code translate="No">'prepend'</code> or <code translate="No">brightcovePlayerLoader.REF_NODE_INSERT_PREPEND</code>:玩家將是參考節點的第一個孩子。</li>
          <li><code translate="No">'before'</code> or <code translate="No">brightcovePlayerLoader.REF_NODE_INSERT_BEFORE</code>:播放器將是參考節點的先前同級。</li>
          <li><code translate="No">'after'</code> or <code translate="No">brightcovePlayerLoader.REF_NODE_INSERT_AFTER</code>:播放器將是參考節點之後的下一個兄弟姐妹。</li>
          <li><code translate="No">'replace'</code> or <code translate="No">brightcovePlayerLoader.REF_NODE_INSERT_REPLACE</code>:參考節點將被刪除，並由播放器替換。</li>
        </ul>
        </p>
      </dd>
      <dt><strong>名稱：</strong><code translate="No">videoId</code></dt>
      <dd>
        <p><strong>數據類型：</strong>字符串 |數字</p>
        <p><strong>描述：</strong><br>Video Cloud 視頻 ID 或視頻參考 ID。</p>
      </dd>
    </dl>
  </section>
</article>