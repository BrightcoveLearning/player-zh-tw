---
title:“使用 Brightcove Player 進行跨設備恢復”
description:"In this topic, you will learn the how to use Cross-Device Resume with Brightcove Player."---

<article class="bcls-article">
  <h1>{{ page.title }}</h1>
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Overview">概述</h2>
    <p>
      跨設備恢復允許觀看者在一個設備上開始觀看視頻，並在以後的時間繼續在其他設備上停止觀看的視頻。
    </p>
    <p>
      假設有人開始在他們的移動設備上觀看視頻。稍後，他們可以繼續在其網絡瀏覽器上使用播放器觀看同一視頻。播放將從他們中斷的地方繼續，因此他們不會錯過任何事情。
    </p>
  </section>

  <section class="bcls-section">
    <h2 id="Requirements">需求</h2>
    <p>
      以下要求適用於跨設備簡歷：
    </p>
    <ul>
      <li>
        Brightcove Player版本6.41.0+
      </li>
      <!-- <li>
    For server-side ad insertion (SSAI), you must use the <strong>videojs-ssai</strong> plugin version 1.10.0+
  </li> -->
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Setup">設置</h2>

    <p>任何擁有 Brightcove Video Cloud 帳戶的人都可以使用此功能。</p>
    <p>
      要開始，請執行以下操作：
    </p>
    <ul>
      <li>
        與您的客戶經理聯繫以啟用您的帳戶跨設備恢復
      </li>
      <li>
        確保攝取您正在使用的視頻以進行動態投放
      </li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Implementing_Cross_Device_Resume">實施跨設備簡歷</h2>

    <p>要實現跨設備恢復，請按照下列步驟操作：</p>
    <ol class="bcls-tasklist">
      <li>
        <a href="#Set_the_user_identifier">設置用戶標識符</a>在Brightcove Analytics中
      </li>
      <li>
        <a href="#Get_the_viewer_playback_position">獲取查看器的播放位置</a>
      </li>
      <li>
        <a href="#Resume_playback">恢復播放</a>在Brightcove播放器上
      </li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="Set_the_user_identifier">設置用戶標識符</h2>

    <p>首先，您需要設置用戶標識符來存儲他們的觀看活動。</p>
    <h3>布萊特灣玩家</h3>
    <p>
      如果您使用的是Brightcove Player，請按照下列步驟操作：
    </p>

    <ol class="bcls-tasklist-restart">
      <li>
        <p>
          即使查看器數據已自動發送到Brightcove Analytics，您仍需要設置用戶標識符。為此，請使用<code translate="No">setUser()</code>方法。例如：
        </p>
        <pre class="line-numbers"><code class="language-javascript" translate="No">myPlayer.bcAnalytics.client.setUser('<span class="bcls-input">viewer id</span>');</code></pre>
        <p>在託管Brightcove Player的網站上，您可以使用身份驗證網關或某些身份管理解決方案來跟踪觀眾。使用此查看器ID作為查看器標識符，以傳遞到Brightcove分析。</p>
      </li>
      <li>
        <p>
          在播放器上設置任何來源之前，請先設置查看器ID，這一點很重要。初始化播放器後應立即調用它。
        </p>
        <pre class="line-numbers"><code class="language-javascript" translate="No">&lt;video-js
    id=&quot;myPlayerID&quot;
    data-account=&quot;1752604059001&quot;
    data-player=&quot;hyQW6GByl&quot;
    data-embed=&quot;default&quot;
    controls=&quot;&quot;
    data-video-id=&quot;6156696074001&quot;
    data-playlist-id=&quot;&quot;
    data-application-id=&quot;&quot;
    width=&quot;640&quot; height=&quot;360&quot;&gt;&lt;/video-js&gt;
  &lt;script src=&quot;https://players.brightcove.net/1752604059001/hyQW6GByl_default/index.min.js&quot;&gt;&lt;/script&gt;

  &lt;script&gt;
    videojs.getPlayer('myPlayerID').ready(function() {
      var myPlayer = this;

      // Set the viewer id for Brightcove analytics
      myPlayer.bcAnalytics.client.setUser('<span class="bcls-input">viewer id</span>');
    });
  &lt;/script&gt;</code></pre>
      </li>
      <li>當。。。的時候<code translate="No">setUser()</code>使用方法時，該值不會被散列，並且將與所有後續信標一起以明文形式發送。
        <p>
          請注意<code translate="No">player_init</code>事件將不包括<code translate="No">user</code>在這種情況下，但所有<code translate="No">video_*</code>事件應該包括它。
        </p>
      </li>
    </ol>
    <h3>自定義播放器</h3>
    <p>
      如果您要構建不使用Brightcove Player的自定義實現，請添加<code translate="No">user</code>您的數據收集API請求的參數。有關詳細信息，請參見<a href="https://apis.support.brightcove.com/data-collection/overview-data-collection-api-v2.html#all-event-parameters">概述：數據收集API v2</a>文檔。
    </p>
    <p>在託管播放器的網站上，您可以使用身份驗證網關或某些身份管理解決方案來跟踪觀眾。使用此查看器ID作為查看器標識符，以傳遞到Brightcove分析。</p>
    <p>
      這<code translate="No">user</code>傳遞給Brightcove的參數可以在下一部分中使用，以從XDR API檢索播放位置。
    </p>

  </section>

  <section class="bcls-section">
    <h2 id="Get_the_viewer_playback_position">獲取查看器的播放位置</h2>

    <p>接下來，您將從跨設備恢復（XDR）API獲取查看器的播放位置。</p>

        <p>
          您將需要一個服務器端應用程序來發出REST API請求，以獲取查看器的播放位置。
        </p>
        <p>
          有關詳細信息，請參見<a href="https://apis.support.brightcove.com/xdr/getting-started/get-playback-position.html">從XDR API獲取播放位置</a>文檔。
        </p>
      
  </section>

  <section class="bcls-section">
    <h2 id="Resume_playback">恢復播放</h2>

    <p>從XDR API獲得查看器的播放位置後，您可以從該點繼續播放。</p>

    <ol class="bcls-tasklist-restart">
      <li>
        <p>
          使用上一節中的查看器播放位置，使用<code translate="No">currentTime()</code>方法。
        </p>
        <p>
          這是一個例子：
        </p>
        <pre class="line-numbers"><code class="language-javascript" translate="No">// The specific event to use may require some experimentation
player.on('loadstart', function() {

  // This initialPlayhead variable will have to come from the publisher's
  // custom integration.
  player.currentTime(<span class="bcls-input">viewer playhead position</span>);
});</code></pre>
      </li>
      <li>有關調用服務器端代理以從XDR API獲取播放頭的Web播放器示例，請參見<a href="https://github.com/BrightcoveLearning/cross-device-resume/blob/master/index.html">github上的跨設備簡歷示例</a>。<aside class="bcls-aside bcls-aside--information">對於播放列表和其他多視頻場景，您可能需要為 XDR API 編寫代理並獲取每個新視頻的初始播放頭。</aside>
      </li>
    </ol>

  </section>

  <!-- <section class="bcls-section">
<h2 id="Limitations">Limitations</h2>

<p>Here are the limitation associated with the cross-device resume.</p>

<ul>
	<li>The current version of this plugin does not support thumbnails on mobile devices.</li>
</ul>
</section> -->

  <!-- <section class="bcls-section">
<h2 id="Changelog">Changelog</h2>

<p>See the <a href="https://docs.brightcove.com/en/staging/thumbnails/plugin-changelog.html">changelog here</a>.</p>
</section> -->
</article>