---
title:確定將播放哪個演繹說明
description:本主題包含有關 Brightcove Player 如何確定要播放的再現的信息。
parent: Playback
---
 <h1>{{ page.title }}</h1>
  
  <article class="bcls-article">
    <summary>{{ page.description }}</summary>
    
  <section class="bcls-section">
    <h2 id="HLS_or_MP4">是HLS還是MP4？</h2>
    <p>當使用新的Brightcove Player時，我們建議您選擇或創建同時具有HLS和MP4格式的攝取配置文件，以便使用最多數量的設備和瀏覽器。該表顯示了播放器在運行時如何確定將在特定瀏覽器上播放的演繹版本。</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>瀏覽器類型</th>
          <th>默認使用的播放技術</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>Android 5.0以上版本的台式機Chrome 34+，台式機Firefox 42 +，Edge和Chrome 34+</td>
          <td>基於HTML的HLS（使用MSE）</td>
        </tr>
        <tr>
          <td>桌面版（macOS）Safari，移動版（iOS）Safari</td>
          <td>本機HLS（由瀏覽器實現）</td>
        </tr>
        <tr>
          <td>較舊的Firefox和Chrome</td>
          <td>基於Flash的HLS；需要Flash 10.3+（如果禁用了Flash，則會降級為MP4）</td>
        </tr>
        <tr>
          <td>Windows 8.1+上的IE 11</td>
          <td>基於HTML的HLS（使用MSE）</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="bcls-section">
    <h2 id="HLS_DASH_Rendition_Selection">HLS和DASH演繹選擇</h2>
    <p><a href="/plugins/hls-plugin.html">HLS</a>和<a href="https://general.support.brightcove.com/general/mpeg-dash-video.html">短跑</a>視頻分為多個部分。這些持續時間通常約為10秒，但可以更長或更短。如果帶寬和分辨率已知，則播放器將根據這些條件選擇音符。如果分辨率或帶寬未知（例如，使用<code translate="No">display:none</code>），播放器將從最接近.5 MB / s（相當於4000 kbs）的再現開始。在片段邊界上，它將切換為下面的文本和圖像中所述的更高或更低的表示形式。</p>
    <p>考慮到可用的帶寬和編碼，同時考慮播放器的尺寸，HLS和DASH都試圖確保可能的最高質量的觀看體驗。這並不總是意味著使用可用的最高比特率再現。例如，如果播放器的尺寸為300px x 150px，則下載4k流將浪費帶寬。</p>
    <p>默認情況下，播放器會嘗試加載一種具有以下條件的最高比特率變體，該變體的比特率小於最近檢測到的段帶寬：如果存在多個變體，其尺寸大於當前播放器的大小，則只會切換一個更大的尺寸比當前播放器尺寸大。</p>
    <p>在播放過程中，播放器將根據以下算法切換到較高或較低的再現形式。該算法的輸入為：</p>
    <aside class="bcls-aside bcls-aside--information">請注意，如果您使用 CSS 隱藏播放器（例如，通過設置<code translate="No">display: none</code> ) 直到準備好播放視頻，播放器將確定播放顯示大小為 0px X 0px，並選擇最低質量的再現進行初始播放。為避免這種情況，請找到一種不同的方法來隱藏播放器或在準備播放視頻時動態加載它。
    <ul>
      <li>可用帶寬</li>
      <li>播放器尺寸</li>
    </ul>
    <h3>高級算法概述</h3>
    <ol>
      <li>刪除比特率高於測量帶寬的所有再現。</li>
      <li>按分辨率（水平行數）從高到低對其餘再現進行排序。</li>
      <li>指向最接近播放器尺寸的那個。</li>
      <li>選擇比那高一的那一。</li>
    </ol>
    <p>該過程如下圖所示：</p>
    <ol>
      <li>每當下載新的段時，都會根據段的大小和下載所花費的時間來計算下載比特率：
        <figure class="bcls-figure"><img class="bcls-image" alt="HLS rendition1" src="/assets/images/playback/HLS-rendition-1.png" /></figure>
      </li>
      <li>比特率高於新測量值的所有演繹都將被濾除：
        <figure class="bcls-figure"><img class="bcls-image" alt="HLS rendition2" src="/assets/images/playback/HLS-rendition-2.png" /></figure>
      </li>
      <li>任何大於當前播放器尺寸的演繹都會被濾除：
        <figure class="bcls-figure"><img class="bcls-image" alt="HLS rendition3" src="/assets/images/playback/HLS-rendition-3.png" /></figure>
      </li>
      <li>我們不希望僅僅因為您的播放器太小一個像素而導致質量顯著下降，所以我們以第二個更高的分辨率重新添加。剩下的最高比特率再現是被使用的：
        <figure class="bcls-figure"><img class="bcls-image" alt="HLS rendition4" src="/assets/images/playback/HLS-rendition-4.png" /></figure>
      </li>
    </ol>
    <p>如果事實證明基於上述過濾不存在任何再現，則將使用主播放列表中列出的第一個編碼。</p>
    <p>如果您希望播放器使用其他優先級集，則可以完全替換演繹選擇邏輯。例如，您始終可以按分辨率選擇最合適的演繹形式，即使這可能意味著回放過程中停滯不前。請參閱有關的文檔<a href="/plugins/hls-plugin.html#selectplaylist">player.hls.select播放列表</a>更多細節。</p>
  </section>

  <section class="bcls-section">
    <h2 id="MP4_Rendition_Selection">MP4格式選擇</h2>
    <p>如果在移動設備上運行並播放MP4（基於上述規則），則播放器將選擇比特率最接近.5 MB / s的MP4。如果是在台式機或筆記本電腦上，它將選擇最接近3 MB / s的速度。</p>
  </section>

  <section class="bcls-section">
    <h2 id="Audio_track_selection">音軌選擇</h2>
    <p>清單根據選擇的視頻軌道確定要加載的音頻軌道。</p>
    <h3>例子</h3>
    <p>播放列表-1.m3u8</p>
    <pre class="line-numbers">
<code class="language-markup" translate="No">#EXTM3U

  #EXT-X-MEDIA:<span class="bcls-highlight">TYPE=AUDIO,GROUP-ID=&quot;stereo&quot;</span>,LANGUAGE=&quot;en&quot;,NAME=&quot;English&quot;,DEFAULT=YES,AUTOSELECT=YES,URI=&quot;audio/stereo/en/128kbit.m3u8&quot;
  #EXT-X-MEDIA:<span class="bcls-highlight">TYPE=AUDIO,GROUP-ID=&quot;stereo&quot;</span>,LANGUAGE=&quot;dubbing&quot;,NAME=&quot;Dubbing&quot;,DEFAULT=NO,AUTOSELECT=YES,URI=&quot;audio/stereo/none/128kbit.m3u8&quot;
  
  #EXT-X-MEDIA:<span class="bcls-highlight">TYPE=AUDIO,GROUP-ID=&quot;surround&quot;</span>,LANGUAGE=&quot;en&quot;,NAME=&quot;English&quot;,DEFAULT=YES,AUTOSELECT=YES,URI=&quot;audio/surround/en/320kbit.m3u8&quot;
  #EXT-X-MEDIA:<span class="bcls-highlight">TYPE=AUDIO,GROUP-ID=&quot;surround&quot;</span>,LANGUAGE=&quot;dubbing&quot;,NAME=&quot;Dubbing&quot;,DEFAULT=NO,AUTOSELECT=YES,URI=&quot;audio/stereo/none/128kbit.m3u8&quot;
  
  #EXT-X-MEDIA:TYPE=SUBTITLES,GROUP-ID=&quot;subs&quot;,NAME=&quot;Deutsch&quot;,DEFAULT=NO,AUTOSELECT=YES,FORCED=NO,LANGUAGE=&quot;de&quot;,URI=&quot;subtitles_de.m3u8&quot;
  #EXT-X-MEDIA:TYPE=SUBTITLES,GROUP-ID=&quot;subs&quot;,NAME=&quot;English&quot;,DEFAULT=YES,AUTOSELECT=YES,FORCED=NO,LANGUAGE=&quot;en&quot;,URI=&quot;subtitles_en.m3u8&quot;
  #EXT-X-MEDIA:TYPE=SUBTITLES,GROUP-ID=&quot;subs&quot;,NAME=&quot;Espanol&quot;,DEFAULT=NO,AUTOSELECT=YES,FORCED=NO,LANGUAGE=&quot;es&quot;,URI=&quot;subtitles_es.m3u8&quot;
  #EXT-X-MEDIA:TYPE=SUBTITLES,GROUP-ID=&quot;subs&quot;,NAME=&quot;Français&quot;,DEFAULT=NO,AUTOSELECT=YES,FORCED=NO,LANGUAGE=&quot;fr&quot;,URI=&quot;subtitles_fr.m3u8&quot;
  
  #EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=258157,CODECS=&quot;avc1.4d400d,mp4a.40.2&quot;,<span class="bcls-highlight">AUDIO=&quot;stereo&quot;</span>,RESOLUTION=422x180,SUBTITLES=&quot;subs&quot;
  video/250kbit.m3u8
  #EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=520929,CODECS=&quot;avc1.4d4015,mp4a.40.2&quot;,<span class="bcls-highlight">AUDIO=&quot;stereo&quot;</span>,RESOLUTION=638x272,SUBTITLES=&quot;subs&quot;
  video/500kbit.m3u8
  #EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=831270,CODECS=&quot;avc1.4d4015,mp4a.40.2&quot;,<span class="bcls-highlight">AUDIO=&quot;stereo&quot;</span>,RESOLUTION=638x272,SUBTITLES=&quot;subs&quot;
  video/800kbit.m3u8
  #EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=1144430,CODECS=&quot;avc1.4d401f,mp4a.40.2&quot;,<span class="bcls-highlight">AUDIO=&quot;surround&quot;</span>,RESOLUTION=958x408,SUBTITLES=&quot;subs&quot;
  video/1100kbit.m3u8
  #EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=1558322,CODECS=&quot;avc1.4d401f,mp4a.40.2&quot;,<span class="bcls-highlight">AUDIO=&quot;surround&quot;</span>,RESOLUTION=1277x554,SUBTITLES=&quot;subs&quot;
  video/1500kbit.m3u8
  #EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=4149264,CODECS=&quot;avc1.4d4028,mp4a.40.2&quot;,<span class="bcls-highlight">AUDIO=&quot;surround&quot;</span>,RESOLUTION=1921x818,SUBTITLES=&quot;subs&quot;
  video/4000kbit.m3u8
  #EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=6214307,CODECS=&quot;avc1.4d4028,mp4a.40.2&quot;,<span class="bcls-highlight">AUDIO=&quot;surround&quot;</span>,RESOLUTION=1921x818,SUBTITLES=&quot;subs&quot;
  video/6000kbit.m3u8
  #EXT-X-STREAM-INF:PROGRAM-ID=1,BANDWIDTH=10285391,CODECS=&quot;avc1.4d4033,mp4a.40.2&quot;,<span class="bcls-highlight">AUDIO=&quot;surround&quot;</span>,RESOLUTION=4096x1744,SUBTITLES=&quot;subs&quot;
  video/10000kbit.m3u8</code></pre>
      <p>在上面的示例中，有兩個音頻組，<strong>立體聲</strong>和<strong>環繞</strong>。還有8種比特率的6種視頻分辨率：</p>
      <ul>
        <li>較低的3個比特率使用<strong>立體聲</strong>音頻組</li>
        <li>較高的5個比特率使用<strong>環繞</strong>音頻組</li>
      </ul>
      <p>這兩個音頻組具有兩個具有不同語言和名稱的流。如果存在此選項，它將在播放器菜單上顯示為備用音軌。</p>

      <h3>筆記</h3>
      <ul>
        <li>
          <p>HLS不允許在多路分配音頻場景中調整音頻流。因此，如果您具有不同的音頻組或替代音頻（如上例所示），則無法指定立體聲或環繞聲軌道的多種質量再現。</p> 
          <p>但是，如果播放列表是僅音頻的，則可以通過常規方式提供音頻<code translate="No">EXT-X-STREAM-INF</code>標籤。</p>
        </li>
        <li>對於DASH，您可以使用自適應音頻，但是除非它是純音頻清單，否則我們目前不支持對其進行自適應。我們選擇與視頻副本關聯的單個副本。這是我們發現的第一個音頻再現。
        </li>
      </ul>
  </section>
</article>