---
title:創建查爾斯日誌
parent: Troubleshooting
description: 'In this topic, you will learn how to create and save a <span translate="No">查爾斯</span>日誌。這在與支持人員合作時會很有幫助，他們可能會要求您將日誌發送給他們。---
<article class="bcls-article">
  <h1>創建查爾斯日誌</h1>
  <summary>{{ page.description }}</summary>
  <section class="bcls-section" id="top">
    <p><span translate="No">查爾斯</span>是在您的計算機上運行的網絡代理，允許您記錄在網絡瀏覽器和服務器之間發送和接收的數據。使用<span translate="No">查爾斯</span>使診斷和修復問題變得容易。有關詳細信息，請參閱<a href="https://www.charlesproxy.com/"><span translate="No">查爾斯</span>網絡代理</a>地點。</p>
    <aside class="bcls-aside bcls-aside--information">使用時<span translate="No">查爾斯</span> , 關閉盡可能多的應用程序並關閉所有不必要的瀏覽器窗口以限制由<span translate="No">查爾斯</span> .</aside>
  </section>
  <!-- <section id="Video_overview" class="bcls-section">
              <h2>Video overview</h2>
              <p>The following video shows the process of creating the network log. Following the video, the process is shown in a step-by-step format.</p>
              <iframe src="//players.brightcove.net/20318290001/E16-WGGOe_default/index.html?videoId=5285320772001"
                allowfullscreen
                webkitallowfullscreen
                mozallowfullscreen
                width="640"
                height="360"></iframe>
            </section> -->
  
  <section class="bcls-section">
    <h2 id="Steps_to_create_a_Charles_log">創建一個的步驟<span translate="No">查爾斯</span>日誌</h2>
    <p>以下步驟將引導您完成使用<span translate="No">查爾斯</span> Web 代理以創建記錄日誌。</p>
    <ol class="bcls-tasklist">
      <li>
        <p><a href="//www.charlesproxy.com/download/">下載</a>並安裝<span translate="No">查爾斯</span>在你的機器上。<span translate="No">查爾斯</span>與 Windows、Mac 和 Linux 兼容。有關安裝的平台特定詳細信息<span translate="No">查爾斯</span>，見<a href="https://www.charlesproxy.com/documentation/installation/"><span translate="No">查爾斯</span>安裝</a>筆記。</p>
      </li>
      <li>在您的計算機上，運行<strong><span translate="No">查爾斯</span></strong> .從菜單中選擇<strong>代理&gt;代理設置</strong>。確保已分配端口（例如8888），並且<strong>啟用透明的HTTP代理</strong>選項被選中。
        <figure class="bcls-figure"><img class="bcls-image" alt="Proxy settings" src="/assets/images/troubleshooting/charles-proxy-settings.png" />
          <figcaption class="bcls-caption--image">代理設定</figcaption>
        </figure>
      </li>
      <li>選擇<strong>好的</strong>保存更改並關閉對話框。</li>
      <li>安裝<span translate="No">查爾斯</span> SSL 證書。從菜單中，選擇<strong>幫助&gt;SSL代理&gt;安裝<span translate="No">查爾斯</span>根證書</strong> .
        <figure class="bcls-figure"><img class="bcls-image" alt="Install Charles SSL certificate" src="/assets/images/troubleshooting/charles-ssl-certificate.png" />
          <figcaption class="bcls-caption--image">安裝<span translate="No">查爾斯</span> SSL證書</figcaption>
        </figure>
      </li>
      <li>在裡面<strong>添加證書</strong>對話框中，選擇<strong>添加</strong>。
        <figure class="bcls-figure"><img class="bcls-image" alt="Add Charles SSL certificate" src="/assets/images/troubleshooting/charles-ssl-certificate-add.png" />
          <figcaption class="bcls-caption--image">添加<span translate="No">查爾斯</span> SSL證書</figcaption>
        </figure>
      </li>
      <li><strong>鑰匙串訪問</strong>將打開。從證書列表中，找到<strong><span translate="No">查爾斯</span>代理...</strong>證書。雙擊以查看詳細信息。<aside class="bcls-aside bcls-aside--tip">如果您使用的不是 macOS，請參閱<a href="https://www.charlesproxy.com/documentation/using-charles/ssl-certificates/"><span translate="No">查爾斯</span>文件</a>有關 SSL 證書的詳細信息。</aside>
        <figure class="bcls-figure"><img class="bcls-image" alt="Keychain Access" src="/assets/images/troubleshooting/charles-keychain-access.png" />
          <figcaption class="bcls-caption--image">鑰匙串訪問</figcaption>
        </figure>
      </li>
      <li>展開<strong>相信</strong>部分。為了<strong>使用此證書時</strong>選項，選擇<strong>永遠信任</strong>。
        <figure class="bcls-figure"><img class="bcls-image" alt="Trust certificate" src="/assets/images/troubleshooting/charles-certificate-trust.png" />
          <figcaption class="bcls-caption--image">信託證書</figcaption>
        </figure>
      </li>
      <li>關閉證書窗口，然後輸入您的管理員密碼以更新設置。</li>
      <li>啟用 SSL 代理<span translate="No">查爾斯</span> .從菜單中選擇<strong>代理&gt; SSL代理設置</strong>。確保<strong>啟用SSL代理</strong>選項被選中。在裡面<strong>地點</strong>部分，選擇<strong>添加</strong>按鈕。
        <figure class="bcls-figure"><img class="bcls-image" alt="SSL Proxy settings" src="/assets/images/troubleshooting/charles-ssl-proxy-settings.png" />
          <figcaption class="bcls-caption--image">SSL代理設置</figcaption>
        </figure>
      </li>
      <li>在裡面<strong>修改位置</strong>對話框中，導航到<strong>港口</strong>字段並輸入<strong>443</strong>。選擇<strong>好的</strong>保存此更改。
        <figure class="bcls-figure"><img class="bcls-image" alt="Location port 443" src="/assets/images/troubleshooting/charles-port-443.png" />
          <figcaption class="bcls-caption--image">定位端口443</figcaption>
        </figure>
      </li>
      <li>選擇<strong>好的</strong>關閉<strong>修改位置</strong>對話。
        <figure class="bcls-figure"><img class="bcls-image" alt="SSL settings with location" src="/assets/images/troubleshooting/charles-ssl-settings-location.png" />
          <figcaption class="bcls-caption--image">帶位置的SSL設置</figcaption>
        </figure>
      </li>
      <li>選擇<strong>好的</strong>退出<strong>SSL代理設置</strong>對話。</li>
      <li>建議您此時重新啟動計算機以確保<span translate="No">查爾斯</span>選擇新的證書設置。</li>
      <li>保持<span translate="No">查爾斯</span>在您執行後續步驟時打開。</li>
      <li>將URL粘貼到包含要進行故障排除的Brightcove Player的頁面上，並將其粘貼到瀏覽器的地址欄中，然後按<strong>進入</strong>加載頁面。</li>
      <li>執行您之前用於重現錯誤或問題的步驟。<span translate="No">查爾斯</span>會自動記錄正在發生的事情。</li>
      <li>如果播放器播放視頻時需要網絡流量，請啟動視頻。</li>
      <li>重現錯誤後，返回<span translate="No">查爾斯</span> .選擇<strong>結構</strong>查看並找到播放器的URL。</li>
      <li>選擇<strong>停止錄音</strong>。
        <figure class="bcls-figure"><img class="bcls-image" alt="Charles stop recording" src="/assets/images/troubleshooting/charles-stop-recording.png" />
          <figcaption class="bcls-caption--image"><span translate="No">查爾斯</span>停止錄音</figcaption>
        </figure>
      </li>
      <li>將當前會話保存到文件中。
        <figure class="bcls-figure"><img class="bcls-image" alt="Charles save session" src="/assets/images/troubleshooting/charles-save-session.png" />
          <figcaption class="bcls-caption--image"><span translate="No">查爾斯</span>保存會議</figcaption>
        </figure>
      </li>
      <li>通過電子郵件發送<span translate="No">查爾斯</span>會話文件發送給相應的支持人員。</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Add_Akamai_headers">添加Akamai標頭</h2>
    <p>在本節中，您將學習如何將Akamai標頭添加到您的請求中。</p>
    <ol class="bcls-tasklist__restart">
      <li>從主要<span translate="No">查爾斯</span>窗口，選擇<strong>工具</strong>進而<strong>改寫</strong> .
        <figure class="bcls-figure"><img class="bcls-image" alt="Tools Rewrite" src="/assets/images/troubleshooting/charles-tools-rewrite.png" />
          <figcaption class="bcls-caption--image">工具改寫</figcaption>
        </figure>
      </li>
      <li>在裡面<strong>改寫設置</strong>對話框中，選擇<strong>啟用重寫</strong>。</li>
      <li>添加一個名為<strong>Akamai標頭</strong>。
        <figure class="bcls-figure"><img class="bcls-image" alt="Add header" src="/assets/images/troubleshooting/charles-add-header.png" />
          <figcaption class="bcls-caption--image">添加標題</figcaption>
        </figure>
      </li>
      <li>添加一個新規則。
        <figure class="bcls-figure"><img class="bcls-image" alt="Add rule" src="/assets/images/troubleshooting/charles-add-rule.png" />
          <figcaption class="bcls-caption--image">新增規則</figcaption>
        </figure>
      </li>
      <li>
        <p>在裡面<strong>改寫規則</strong>對話框中，選擇一個<strong>類型</strong>的<strong>添加標題</strong>。</p>
      </li>
      <li>
        <p>在裡面<strong>代替</strong>部分，添加以下內容：</p>
        <p><strong>名稱：</strong><code translate="No">Pragma</code></p>
        <p><strong>價值：</strong></p>
        <pre>
      <code class="language-xml" translate="No">akamai-x-get-request-id, akamai-x-cache-on, akamai-x-cache-remote-on,
      akamai-x-check-cacheable, akamai-x-get-cache-key, akamai-x-get-extracted-values,
      akamai-x-get-nonces, akamai-x-get-ssl-client-session-id, akamai-x-get-true-cache-key,
      akamai-x-serial-no</code></pre>
        <figure class="bcls-figure"><img class="bcls-image" alt="Add rule details" src="/assets/images/troubleshooting/charles-add-rule2.png" />
          <figcaption class="bcls-caption--image">添加規則詳細信息</figcaption>
        </figure>
      </li>
      <li>選擇<strong>好的</strong>， 然後<strong>好的</strong>。</li>
    </ol>
  </section>

  <section class="bcls-section">
<h2 id="Charles_for_mobile">查爾斯手機</h2>
<p>要了解有關使用Charles捕獲移動日誌的信息，請參閱<a href="https://general.support.brightcove.com/developer/debugging-mobile-devices.html#Charles_for_mobile">在移動設備上調試</a>文檔。</p>

</section>
</article>