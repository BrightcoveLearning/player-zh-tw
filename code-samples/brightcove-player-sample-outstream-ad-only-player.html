---
title: '布萊特灣球員樣本：外播（僅限廣告）播放器
description: '在本主題中，您將學習如何為沒有正常視頻內容的 IMA3 廣告創建外播（僅限廣告）播放器。'
parent: Code Samples
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Overview">概述</h2>
    <aside class="bcls-aside bcls-aside--information">提供此示例和相關代碼作為生產開發的指南。該代碼未經認證可用於生產用途，也未經官方支持。</aside>
    <p>此Outstream Ad Player示例向您展示瞭如何在具有其他非視頻元素的網頁中動態加載Brightcove Player。視頻廣告是播放器播放的唯一內容。播放器通常在頁面佈局內擴展，如本示例所示，但也可以出現在頁面的特殊區域或作為覆蓋圖。播放完廣告後，播放器便消失了。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Player_example">播放器示例</h2>
    <!-- UPDATE description -->
    
    <p>此示例提供了輔助JavaScript函數，這些函數演示瞭如何動態調整<code translate="No">&lt;div&gt;</code>頁面DOM中的元素，在其中註入Brightcove Player，加載並播放廣告，然後刪除播放器。可以從廣告代碼或VAST XML文檔中配置播放的廣告。播放器默認設置為自動播放和靜音，這是它將在某些瀏覽器中運行的唯一方法。您可以選擇更改這些設置。</p>
    <p>此樣本可以按原樣使用，也可以復制和修改以與您的自定義頁面設計一起使用。</p>
    <!-- UPDATE codepen here -->
    
    <p data-height="667" data-theme-id="34967" data-slug-hash="QqVOMG" data-default-tab="result" data-user="bcls1969" data-embed-version="2" data-pen-title="18065-ad-only-plugin" class="codepen">看筆<a href="https://codepen.io/team/bcls1969/pen/QqVOMG/">18065-ad-only-plugin</a>通過Brightcove學習服務（<a href="https://codepen.io/team/rcrooks1969"> bcls1969</a>） 上<a href="https://codepen.io">密碼筆</a>。</p>
    <script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script><!-- UPDATE link to GitHub source -->
    
    <h3>源代碼</h3>
          <p>觀看<a href="https://github.com/BrightcoveLearning/18065-ad-only-plugin">GitHub上的完整解決方案</a>。</p>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">使用代碼筆</h2></summary>
      <p>以下是一些有效使用上述 CodePen 的提示：</p>
      <ul>
        <li>通過單擊切換播放器的實際顯示<strong translate="No">結果</strong>按鈕。</li>
        <li>點擊<strong translate="No">HTML/CSS/JS</strong>按鈕以顯示其中一種代碼類型。</li>
        <li>在本文檔的後面部分，應用程序中使用的邏輯、流程和样式將在<a href="#Player/HTML_configuration">播放器/HTML 配置</a> , <a href="#Application_flow">申請流程</a>和<a href="#Application_styling">應用樣式</a>部分。遵循這些部分中的信息的最佳方法是：
          <ol>
            <li>點擊<strong translate="No">在 CODEPEN 上編輯</strong> CodePen 中的按鈕，並在一個瀏覽器/瀏覽器選項卡中提供代碼。</li>
            <li>在CodePen中，調整要顯示的代碼。您可以在CodePen中更改不同代碼段的寬度。</li>
            <li>觀看<a href="#Player/HTML_configuration">播放器/ HTML配置</a>，<a href="#Application_flow">申請流程</a>和/或<a href="#Application_styling">應用程式樣式</a>其他瀏覽器/瀏覽器標籤中的部分。現在，您將能夠按照代碼說明進行操作，同時查看代碼。</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  <!-- <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">Development sequence</h2></summary> 
      <p>Here is the recommended development sequence:</p>
      <ol>
        <li>Use the In-Page embed player implementation to test the functionality of your player, plugin and CSS (if CSS is needed)</li>
        <li>Put the plugin's JavaScript and CSS into separate files for local testing</li>
        <li>Deploy the plugin code and CSS to your server once you have worked out any errors</li>
        <li>Use Studio to add the plugin and CSS to your player</li>
        <li>Replace the In-Page embed player implementation if you determine that the iframe implementation is a better fit (detailed in next section)</li>
      </ol>
      <p>For details about these steps, review the <a href="/coding-topics/step-step-plugin-development.html">Step-by-Step: Plugin Development</a> guide.</p>
      <h3>iframe or In-Page embed</h3>
      <p>When developing enhancements for the Brightcove Player you will need to decide if the code is a best fit for the iframe or In-Page embed implementation. The best practice recommendation is to build a plugin for use with an iframe implementation. The advantages of using the iframe player are:</p>
      <ul>
        <li>No collisions with existing JavaScript and/or CSS</li>
        <li>Automatically responsive</li>
        <li>The iframe eases use in social media apps (or whenever the video will need to "travel" into other apps)</li>
      </ul>
      <p>Although integrating the In-Page embed player can be more complex, there are times when you will plan your code around that implementation. To generalize, this approach is best when the containing page needs to communicate to the player. Specifically, here are some examples:</p>
      <ul>
        <li>Code in the containing page needs to listen for and act on player events</li>
        <li>The player uses styles from the containing page</li>
        <li>The iframe will cause app logic to fail, like a redirect from the containing page</li>
      </ul>
      <p>Even if your final implementation does not use the iframe code, you can still use the In-Page embed code with a plugin for your JavaScript and a separate file for your CSS. This encapsulates your logic so that you can easily use it in multiple players.</p>
    </details>
  </section> -->
  <!-- UPDATE application flow -->
  
  <section class="bcls-section">
    <h2 id="Application_flow">申請流程</h2>
    <p>此應用程序背後的基本邏輯是：</p>
    <ul>
      <li>
        <p>此示例顯示帶有隱藏文本框的文本文章樣式的網頁<code translate="No">&lt;div&gt;</code>放置在文章中的元素。計時器關閉後，此隱藏的div會展開，並且播放器會出現在其中。</p>
        <aside class="bcls-aside bcls-aside--tip">您可以修改此示例以對其他條件而不是計時器做出反應，例如用戶滾動將頁面的某個部分帶入視圖。</aside>
      </li>
      <li>播放器使用嵌入式VAST播放廣告。如果要使用廣告代碼adsResponse，可以對此進行註釋，並取消註釋廣告代碼部分。</li>
      <li>廣告播放完畢後，將播放器卸載並從DOM中刪除。</li>
    </ul>
  </section>
  <!-- UPDATE player and HTML configuration -->
  
  <section class="bcls-section">
    <h2 id="Player/HTML_configuration">播放器/ HTML配置</h2>
    <p>本節詳細介紹了播放器創建過程中所需的任何特殊配置。此外，還介紹了除頁面內嵌入播放器實現代碼外，還必須添加到頁面的其他HTML元素。</p>
    <h3>播放程式組態</h3>
    <p>您為此示例創建的Brightcove Player不需要任何特殊配置。</p>
    <h3>其他HTML</h3>
    <p>在HTML文件中，您將包括以下內容：</p>
    <ol class="bcls-tasklist">
      <li>一種<code translate="No">&lt;div&gt;</code>帶有的元素<code translate="No">id</code>屬性分配給您選擇的值。JavaScript代碼將在其中創建您的Brightcove Player <code translate="No">&lt;div&gt;</code>元素。
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;div id="adPlayerDiv"&gt;&lt;/div&gt;</code></pre>
      </li>
      <li>
        <p>與Brightcove Player關聯的JavaScript文件。它看起來應該類似於：</p>
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script src="https://players.brightcove.net/<span class="bcls-input">your account id</span>/default_default/index.min.js"&gt;&lt;/script&gt;</code></pre>
      </li>
      <li>
        <p>IMA3插件的JavaScript和CSS文件。這是為了與Google的IMA3 HTML5 SDK集成廣告。</p>
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;link href="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet"/&gt;
&lt;script src="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js"&gt;&lt;/script&gt;</code></pre>
        <aside class="bcls-aside bcls-aside--tip">如果您在播放器配置中包含這些文件，您可以獲得更快的加載時間。有關詳細信息，請參閱<a href="#Load_time_optimization">加載時間優化</a>部分。
      </li>
      <li>
        <p>名為的幫助程序庫<strong>adonly.js</strong>。您可以使用未經修改的此文件，因為它是從Brightcove的播放器來源託管的，並通過CDN提供。如果選擇，您可以使用此JavaScript代碼作為指南來創建自己的加載程序腳本並將其託管在您自己的服務器上。該文件也可以包含在播放器配置中。</p>
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script src="https://players.brightcove.net/3723496277001/files/adonly.js"&gt;&lt;/script&gt;</code></pre>
        <p>如果您選擇將其直接包含在頁面中，則還可以使用CDN託管的縮小版本。</p>
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;script src="https://players.brightcove.net/3723496277001/files/adonly.min.js"&gt;&lt;/script&gt;</code></pre>
      </li>
    </ol>
    <p>&nbsp;</p>
  </section>
  <section class="bcls-section">
    <h2 id="Public_functions">公共職能</h2>
    <p>這<strong>adonly.js</strong>庫具有兩個公開的公共功能：</p>
    <ul>
      <li><code translate="No">expandAndInjectAdOnlyPlayer()</code> :展開一個<code translate="No">&lt;div&gt;</code>並在其中註入僅廣告播放器。</li>
      <li><code translate="No">injectAdOnlyPlayer()</code> :將僅廣告播放器注入給定<code translate="No">&lt;div&gt;</code>（無動畫）。</li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="Options">選項</h2>
    <p>這<code translate="No">expandAndInjectAdOnlyPlayer()</code>函數採用以下參數：</p>
    <ul>
      <li><code translate="No">muted</code>
        <ul>
          <li>可選的。值：<strong>真的</strong>，<strong>錯誤的</strong>。默認：<strong>真的</strong></li>
        </ul>
      </li>
      <li><code translate="No">autoplay</code>
        <ul>
          <li>可選的。值：<strong>真的</strong>，<strong>錯誤的</strong>。默認：<strong>真的</strong></li>
        </ul>
      </li>
      <li><code translate="No">adTag</code>
        <ul>
          <li>廣告代碼</li>
        </ul>
      </li>
      <li><code translate="No">adsResponse</code>
        <ul>
          <li>內聯VAST字符串。如果提供，它將覆蓋廣告代碼。必須提供adTag或adsResponse</li>
        </ul>
      </li>
      <li><code translate="No">div</code>
        <ul>
          <li>您要在其中插入廣告播放器的div</li>
        </ul>
      </li>
      <li><code translate="No">height</code>
        <ul>
          <li>您要擴展div的高度（以像素為單位）</li>
        </ul>
      </li>
      <li><code translate="No">animationDuration</code>
        <ul>
          <li>動畫div高度的擴展需要花費多少毫秒</li>
        </ul>
      </li>
    </ul>
    <p>這<code translate="No">injectAdOnlyPlayer()</code>功能除了高度和動畫持續時間外，都採用相同的參數。</p>
  </section>
  <!-- UPDATE CSS description -->
  
  <section class="bcls-section">
    <h2 id="Application_styling">應用程式樣式</h2>
    <p>此示例使用IMA3插件提供的CSS樣式。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Plugin_code">插件代碼</h2>
    <p>本示例使用已經作為插件構建的JavaScript代碼。您可以在本文檔的相應GitHub存儲庫中看到以下代碼：<a href="https://github.com/BrightcoveLearning/18065-ad-only-plugin/blob/master/plugin/adonly.js"> adonly.js</a>。</p>
    <!-- <p>Normally when converting the JavaScript into a Brightcove Player plugin nominal changes are needed. One required change is to replace the standard use of the <code translate="No">ready()</code> method with the code that defines a plugin.</p>

          <p>Here is the very commonly used start to JavaScript code that will work with the player:</p>

          <pre class="line-numbers">
                  <code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
                    var myPlayer = this;
                    ...
                  });</code></pre>

          <p>You will change the first line to use the standard syntax to start a Brightcove Player plugin:</p>

          <pre class="line-numbers">
                  <code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
                    var myPlayer = this;
                    ...
                  });</code></pre>

          <p>As mentioned earlier, you can see the plugin's JavaScript code in this document's corresponding GitHub repo: <a href="https://github.com/BrightcoveLearning/18190-hyperlinked-company-logo/blob/master/plugin/company-logo.js">company-logo.js</a>.</p> --></section>
  <section class="bcls-section">
    <h2 id="Load_time_optimization">加載時間優化</h2>
    <p>此示例使用Brightcove Player，並在運行時包含IMA插件。您可以按原樣使用此示例，但可以更改帳戶的播放器代碼。</p>
    <p>為了稍微優化加載時間，您應該在播放器配置中包含IMA插件。為此，請參閱以下文檔：</p>
    <ul>
      <li><a href="/plugins/brightcove-player-plugins.html">Brightcove Player插件</a></li>
      <li><a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">配置播放器插件</a></li>
    </ul>
  </section>
</article>