---
title: '布萊特灣球員樣本：觀看視頻的密碼
description: '在本主題中，您將學習如何要求輸入密碼才能觀看視頻。'
parent: Code Samples
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Player_example">播放器示例</h2>
    <!-- UPDATE description -->
    
    <aside class="bcls-aside bcls-aside--information">提供此示例和相關代碼作為生產開發的指南。該代碼未經認證可用於生產用途，也未經官方支持。</aside>
    <p>在此示例中，您需要輸入密碼才能播放視頻。您可以點擊<strong>登入</strong>按鈕或點擊<strong>進入</strong>輸入密碼後，請按鍵。為了進行測試，密碼為<code translate="No">thepass</code>。如果輸入了錯誤的密碼，則會彈出JavaScript警報框，並顯示相應的消息。</p>
    <!-- UPDATE codepen here -->
    
    <p data-height="515" data-theme-id="34967" data-slug-hash="yGgwGm" data-default-tab="result" data-user="rcrooks1969" data-pen-title="Password to View Video" class="codepen">看筆<a href="https://codepen.io/team/rcrooks1969/pen/yGgwGm/">觀看視頻的密碼</a>通過Brightcove學習服務（<a href="https://codepen.io/rcrooks1969"> @ rcrooks1969</a>） 上<a href="https://codepen.io">密碼筆</a>。</p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script><!-- UPDATE link to GitHub source -->
    
    <h3>源代碼</h3>
          <p>觀看<a href="https://github.com/BrightcoveLearning/18705-password-view-video">GitHub上的完整解決方案</a>。</p>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">使用代碼筆</h2></summary>
      <p>以下是一些有效使用上述 CodePen 的提示：</p>
      <ul>
        <li>通過單擊切換播放器的實際顯示<strong translate="No">結果</strong>按鈕。</li>
        <li>點擊<strong translate="No">HTML/CSS/JS</strong>按鈕以顯示其中一種代碼類型。</li>
        <li>在本文檔的後面部分，應用程序中使用的邏輯、流程和样式將在<a href="#Player/HTML_configuration">播放器/HTML 配置</a> , <a href="#Application_flow">申請流程</a>和<a href="#Application_styling">應用樣式</a>部分。遵循這些部分中的信息的最佳方法是：
          <ol>
            <li>點擊<strong translate="No">在 CODEPEN 上編輯</strong> CodePen 中的按鈕，並在一個瀏覽器/瀏覽器選項卡中提供代碼。</li>
            <li>在CodePen中，調整要顯示的代碼。您可以在CodePen中更改不同代碼段的寬度。</li>
            <li>觀看<a href="#Player/HTML_configuration">播放器/ HTML配置</a>，<a href="#Application_flow">申請流程</a>和/或<a href="#Application_styling">應用程式樣式</a>其他瀏覽器/瀏覽器標籤中的部分。現在，您將能夠按照代碼說明進行操作，同時查看代碼。</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">開發順序</h2></summary> 
      <p>這是推薦的開發順序：</p>
      <ol>
        <li>使用頁內嵌入播放器實現來測試播放器，插件和CSS的功能（如果需要CSS）</li>
        <li>將插件的JavaScript和CSS放入單獨的文件中以進行本地測試</li>
        <li>解決任何錯誤後，將插件代碼和CSS部署到服務器上</li>
        <li>使用Studio將插件和CSS添加到播放器</li>
        <li>如果您確定iframe實現更合適，請替換頁內嵌入播放器實現（在下一部分中詳細介紹）</li>
      </ol>
      <p>有關這些步驟的詳細信息，請查看<a href="/coding-topics/step-step-plugin-development.html">一步步：插件開發</a>指導。</p>
      <h3>iframe或頁內嵌入</h3>
      <p>在開發Brightcove Player的增強功能時，您需要確定代碼是否最適合iframe或頁內嵌入實施。最佳實踐建議是構建一個可與iframe實現配合使用的插件。使用iframe播放器的優點是：</p>
      <ul>
        <li>與現有的JavaScript和/或CSS無衝突</li>
        <li>自動響應</li>
        <li>iframe可簡化在社交媒體應用中的使用（或需要將視頻“傳播"到其他應用中的任何時候）</li>
      </ul>
      <p>儘管集成頁內嵌入播放器可能會更加複雜，但是有時您會圍繞該實現計劃代碼。概括地說，當包含頁面需要與播放器進行通信時，這種方法是最好的。具體來說，以下是一些示例：</p>
      <ul>
        <li>包含頁面中的代碼需要偵聽播放器事件並對其進行操作</li>
        <li>播放器使用包含頁面中的樣式</li>
        <li>iframe將導致應用邏輯失敗，例如從包含頁面的重定向</li>
      </ul>
      <p>即使最終實現未使用iframe代碼，您仍可以將頁內嵌入代碼與JavaScript插件和CSS單獨文件一起使用。這封裝了你的邏輯，以便您可以輕鬆地在多個玩家中使用它。</p>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="Light_security_example">輕便的安全性</h2>
    <p>本文檔包含兩種不同方法的代碼，以提供安全的視頻觀看功能。<strong>這兩種實施方式都不是保護您的視頻免遭不希望播放視頻的觀看者的防彈方法。</strong>它們確實提供了一個小障礙，需要一些知識和精力才能找到正確的密碼。如果需要一種完全安全的方法來保護您的視頻，請參見<a href="/content-protection/overview-content-protection.html">概述：內容保護</a>和<a href="https://studio.support.brightcove.com/general/overview-digital-rights-management-drm-video-cloud.html">概述：視頻雲中的數字版權管理（DRM）</a>文檔以幫助您入門。本文檔的後兩節提供了這兩種方法的詳細信息。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Store_the_password_in_a_video's_custom_field">將密碼存儲在視頻的自定義字段中</h2>
    <p>在這種方法中<strong>密碼</strong>從視頻中讀取自定義字段，並對照在播放器上覆蓋的表格中輸入的密碼進行檢查。有關創建自定義字段的更多信息，請參見<a href="https://studio.support.brightcove.com/admin/creating-custom-metadata-fields.html">創建自定義元數據字段</a>文檔。</p>
    <p>這種方法的主要優點是：</p>
    <ul>
      <li>每個視頻可以具有不同的密碼。</li>
      <li>如果在自定義字段中未輸入密碼，則不會提示視頻觀看者輸入密碼。</li>
    </ul>
    <p>主要缺點是：</p>
    <ul>
      <li>必須將自定義字段添加到視頻配置中（一次動作）。</li>
      <li>必須為您希望限制觀看的每個視頻輸入密碼。</li>
    </ul>
    <p>本文檔中詳細介紹了此插件版本的代碼，並且已找到該插件版本<a href="https://github.com/BrightcoveLearning/18705-password-view-video/tree/master/plugin">這裡</a>。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Pass_credentials_to_plugin">將憑據傳遞給插件</h2>
    <p>此處，實現邏輯放置在自定義插件中，並且與插件相關聯的播放器中查看的所有視頻的密碼作為選項傳遞，如以下屏幕截圖所示。</p>
    <aside class="bcls-aside bcls-aside--warning">您需要從 GitHub 存儲庫中獲取 JavaScript 和 CSS 文件，並將它們放在您可以控制的 Internet 可訪問位置。</aside>
    <figure class="bcls-figure"><img class="bcls-image" alt="" src="/assets/images/code-samples/brightcove-player-sample-password-view-video/studio-configure-plugin.png" /></figure>
    <p>這種方法的主要優點是：</p>
    <ul>
      <li>對於使用加載了插件的播放器觀看的所有視頻，一個密碼將作為有效的憑據。</li>
    </ul>
    <p>主要缺點是：</p>
    <ul>
      <li>要使用不同的密碼，您必須使用不同的播放器。</li>
      <li>對於播放器中觀看的每個視頻，都需要輸入密碼才能播放視頻。</li>
    </ul>
    <p>該版本插件的代碼與本文檔中詳細介紹的代碼非常相似（實際上更簡單一些），並且已找到該插件版本<a href="https://github.com/BrightcoveLearning/18705-password-view-video/tree/master/plugin-pass-in-password">這裡</a>。</p>
    <aside class="bcls-aside bcls-aside--information">注意：您也可以編寫代碼以檢查後端數據庫是否輸入了正確的密碼。由於此實現有無數種可能性，因此在此不詳述，但與所示代碼不會有太大差異。
  </section>
  
  <section class="bcls-section">
    <h2 id="API/Plugin_resources_used">使用的API /插件資源</h2>
    <!-- UPDATE table, remove unneeded columns -->
    
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>API方法</th>
          <th>API事件</th>
          <th>API屬性</th>
          <th>球員職業</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#play">玩（）</a></td>
          <td><a href="https://player.support.brightcove.com/coding-topics/player-events.html#startupevents">載入啟動</a> </td>
          <td><a href="/references/video-metadata-mediainfo.html">mediainfo.customFields</a></td>
          <td><a href="/general/implementing-modaldialog.html">模式對話方塊</a>  </td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/module-events.html#.on">上（）</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/module-events.html#.one">一（）</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#muted">靜音（）</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html#addChild">addChild（）</a></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
      </tbody>
    </table>
    <!-- <aside class="bcls-aside bcls-aside--tip">This code sample uses one of the Brightcove REST APIs. To understand working with this API it is vital you read and understand the <a href="/getting-started/learning-guide-using-rest-apis.html">Learning Guide: Using the REST APIs</a> document.</aside> --></section>
  <!-- UPDATE player and HTML configuration -->
  
  <section class="bcls-section">
    <h2 id="Player/HTML_configuration">播放器/ HTML配置</h2>
    <p>本節詳細介紹了播放器創建過程中所需的任何特殊配置。此外，還介紹了除頁面內嵌入播放器實現代碼外，還必須添加到頁面的其他HTML元素。</p>
    <h3>播放程式組態</h3>
    <p>您為此示例創建的Brightcove Player不需要任何特殊配置。</p>
    <h3>其他HTML</h3>
    <p>沒有其他HTML元素添加到頁面。</p>
  </section>
  <!-- UPDATE application flow -->
  
  <section class="bcls-section">
    <h2 id="Application_flow">申請流程</h2>
    <p>此應用程序背後的基本邏輯是：</p>
    <ul>
      <li>檢查是否有密碼<code translate="No">password</code>自定義字段。如果是，則彈出“模態對話框"，否則，請播放視頻。</li>
      <li>在ModalDialog中，顯示供用戶輸入密碼的表單。</li>
      <li>輸入密碼後，<strong>登入</strong>單擊按鈕或<strong>進入</strong>按下鍵，對照視頻元數據中存儲的密碼檢查輸入的密碼。</li>
      <li>如果輸入了正確的密碼，請播放視頻。如果不是，則彈出帶有相應消息的警報框。</li>
    </ul>
    <!-- UPDATE task 1 -->
    
    <h3>如果需要，顯示ModalDialog</h3>
    <p>找到標有以下代碼的代碼：</p>
    <pre>
<code class="language-javascript" translate="No">// ### Display ModalDialog if password in video's custom field ###</code></pre>
    <p>等待之後<code translate="No">loadstart</code>要調度的事件，因此<code translate="No">mediainfo</code>可以讀取對象，接收密碼並檢查密碼是否未定義。如果是，則只播放視頻，否則顯示包含密碼形式的ModalDialog。這<code translate="No">uncloseable</code>選項已添加，因此用戶不僅可以按<strong>退出</strong>鍵並播放視頻。</p>
    <!-- UPDATE task 2 -->
    
    <h3>使用事件監聽器設置密碼檢查</h3>
    <p>找到標有以下代碼的代碼：</p>
    <pre>
<code class="language-javascript" translate="No">// ### Add event listeners to check password ###</code></pre>
    <p>設置了兩個事件偵聽器，一個事件偵聽器（如果用戶單擊按鈕），另一個事件偵聽器（如果用戶單擊按鈕）。<strong>進入</strong>鑰匙。一旦將動態創建的表單放置在<code translate="No">newElement</code>，它在DOM中可用。這樣您就可以使用JavaScript的<code translate="No">querySelector()</code>獲取元素的句柄並分配事件處理程序的方法。</p>
    <!-- UPDATE task 3 -->
    
    <h3>檢查密碼是否正確</h3>
    <p>找到標有以下代碼的代碼：</p>
    <pre>
<code class="language-javascript" translate="No">// ### Check entered password against saved password and act accordingly ###</code></pre>
    <p>得到後<code translate="No">value</code>您可以將密碼輸入元素中的密碼與視頻的自定義字段中的密碼進行比較。然後播放視頻或彈出窗口，提示警告密碼不匹配。</p>
  </section>
  <!-- UPDATE CSS description -->
  
  <section class="bcls-section">
    <h2 id="Application_styling">應用程式樣式</h2>
    <p>有少量CSS可以控製播放器的大小和表單的外觀。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Plugin_code">插件代碼</h2>
    <p>通常，將JavaScript轉換為Brightcove Player插件時，需要進行名義上的更改。一項必需的更改是替換標準的使用<code translate="No">ready()</code>方法與定義插件的代碼。</p>
    <p>這是可以與播放器一起使用的非常常用的JavaScript代碼開始：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
});</code></pre>
    <p>您將更改第一行以使用標準語法來啟動Brightcove Player插件：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
  var myPlayer = this;
  ...
});</code></pre>
    <!-- UPDATE path to plugin's JavaScript -->
    
    <p>如前所述，您可以在該文檔的相應GitHub存儲庫中看到該插件的JavaScript代碼：<a href="https://github.com/BrightcoveLearning/18705-password-view-video/blob/master/plugin/password-to-view.js"> password-to-view.js</a>。</p>
    <h3>與播放器一起使用插件</h3>
    <p>將插件的CSS和JavaScript文件存儲在Internet上可訪問的位置後，即可將其與播放器一起使用。在工作室的<strong>球員</strong>模塊你可以選擇一個播放器，然後在<strong>插件</strong>部分將 URL 添加到 CSS 和 JavaScript 文件，並添加<strong>姓名</strong>和<strong>選項</strong> , 如果需要選項。</p>
    <aside class="bcls-aside bcls-aside--tip">有關使用 Studio 為玩家分配插件的更多信息，請參閱<a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">配置播放器插件</a>文檔。</aside>
  </section>
</article>