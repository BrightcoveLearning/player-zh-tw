---
title: '布萊特灣球員樣本：水平音量控制
description: '<aside class="bcls-aside bcls-aside--warning">本文檔包含有關 Brightcove Player 1.x 皮膚（石墨）的信息，而不是最新的皮膚。向新皮膚的過渡發生在2015年12月的第二週。如需文件的最新版本，請參閱<a href="/styling/customizing-player-appearance.html">此文件</a>。</aside> 
    <p>在本主題中，您將學習如何更改Brightcove Player控制欄上的音量和靜音按鈕。在此示例中，您將隱藏垂直音量控件並將其替換為水平控件。</p>'
parent: Code Samples
---

<article class="bcls-article">
  <h1>布萊特灣球員樣本：水平音量控制</h1>
  <summary>
    
  </summary>
  <style type="text/css">
內嵌框架{ width: 640px; height: 360px; }
</style>
  <aside class="bcls-aside bcls-aside--information">提供此示例和相關代碼作為生產開發的指南。該代碼未經認證可用於生產用途，也未經官方支持。</aside>

  <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">開發順序</h2></summary> 
      <p>這是推薦的開發順序：</p>
      <ol>
        <li>使用頁內嵌入播放器實現來測試播放器，插件和CSS的功能（如果需要CSS）</li>
        <li>將插件的JavaScript和CSS放入單獨的文件中以進行本地測試</li>
        <li>解決任何錯誤後，將插件代碼和CSS部署到服務器上</li>
        <li>使用Studio將插件和CSS添加到播放器</li>
        <li>如果您確定iframe實現更合適，請替換頁內嵌入播放器實現（在下一部分中詳細介紹）</li>
      </ol>
      <p>有關這些步驟的詳細信息，請查看<a href="/coding-topics/step-step-plugin-development.html">一步步：插件開發</a>指導。</p>
      <h3>iframe或頁內嵌入</h3>
      <p>在開發Brightcove Player的增強功能時，您需要確定代碼是否最適合iframe或頁內嵌入實施。最佳實踐建議是構建一個可與iframe實現配合使用的插件。使用iframe播放器的優點是：</p>
      <ul>
        <li>與現有的JavaScript和/或CSS無衝突</li>
        <li>自動響應</li>
        <li>iframe可簡化在社交媒體應用中的使用（或需要將視頻“傳播"到其他應用中的任何時候）</li>
      </ul>
      <p>儘管集成頁內嵌入播放器可能會更加複雜，但是有時您會圍繞該實現計劃代碼。概括地說，當包含頁面需要與播放器進行通信時，這種方法是最好的。具體來說，以下是一些示例：</p>
      <ul>
        <li>包含頁面中的代碼需要偵聽播放器事件並對其進行操作</li>
        <li>播放器使用包含頁面中的樣式</li>
        <li>iframe將導致應用邏輯失敗，例如從包含頁面的重定向</li>
      </ul>
      <p>即使最終實現未使用iframe代碼，您仍可以將頁內嵌入代碼與JavaScript插件和CSS單獨文件一起使用。這封裝了你的邏輯，以便您可以輕鬆地在多個玩家中使用它。</p>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="Select_implementation">選擇實施</h2>
    <p>在此示例中，您將使用頁內嵌入代碼進行測試，然後將CSS和JavaScript文件添加到播放器。然後，您將部署插件。將水平音量插件添加到播放器後，即可使用iframe實現。</p>
  </section>
  <section class="bcls-section">
    <h2 id="API_resources_used">使用的API資源</h2>
    <p>以下各節詳細介紹了各種API使用的資源。</p>
    <h3>Brightcove Player API方法</h3>
    <ul>
      <li><code translate="No">control_bar.addChild()</code></li>
      <li><code translate="No">control_bar.removeChild()</code></li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="The_player">玩家</h2>
    <p>在下面的播放器中，請注意水平音量控制欄取代了默認的垂直控制欄。</p>
    <iframe style="width: 640px;height: 360px;" src="//players.brightcove.net/1752604059001/b42edc12-2ac9-48a9-92bc-fbdb5ca9aed7_default/index.html?videoId=4172255216001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe>
  </section>
  <!-- id="player" -->
  
  <section class="bcls-section">
    <h2 id="How_it_works">這個怎麼運作</h2>
    <p>以下各節介紹了示例中使用的播放器，JavaScript和CSS代碼。</p>
    <h3>創建播放器</h3>
    <p>要創建一個播放器並為其分配視頻，請按照下列步驟操作：</p>
    <ul>
      <li>在裡面<strong>球員</strong>模塊，創建一個新的播放器或使用現有的播放器。</li>
      <li><span class="video-cloud-only">在裡面<strong>媒體</strong>模塊中，選擇一個視頻並與此播放器一起發布。</span><span class="player-only">將視頻內容分配給播放器並發布。</span></li>
      <li>複製頁內嵌入代碼，然後將其粘貼到新的HTML文件中。</li>
    </ul>
    <aside class="bcls-aside bcls-aside--information">有關如何獲取此嵌入代碼的詳細信息，請參閱<a href="/getting-started/step-step-brightcove-player.html">一步步：Brightcove 播放器文檔。
    <h3>播放器代碼</h3>
    <p>您的頁內嵌入代碼應類似於以下內容：</p>
    <pre class="line-numbers" data-start="44">
<code class="language-html" translate="No">    &lt;video-js id="video_1"
      width="640px" height="360px"
      data-video-id="4172255216001"
      data-account="1752604059001"
      data-player="default"
      data-embed="default"
      class="video-js" controls&gt;&lt;/video-js&gt;
    &lt;script src="//players.brightcove.net/1752604059001/default_default/index.min.js"&gt;&lt;/script&gt;</code></pre>
    <h3>樣式表</h3>
    <p>本示例為Brightcove Player使用CSS樣式。</p>
    <ul>
      <li>
        <p>9-22行：在控制欄中設置元素的順序。本示例將靜音控件和音量控件放在進度條之後，但在全屏按鈕之前。</p>
        <aside class="bcls-aside bcls-aside--information">注意：控制欄使用 flex 容器來佈局其元素。默認情況下，彈性項目按照它們在HTML源代碼中的顯示方式進行佈局。CSS <code translate="No">order</code>屬性可讓您控制flex元素的位置。對於較舊的瀏覽器，您需要包含額外的前綴順序屬性。
        <p>有關設置控制欄圖標順序的更多詳細信息，請參見<a href="/styling/customizing-player-appearance.html#Controlbar_icon_manipulation">自定義播放器外觀</a>文檔。</p>
      </li>
      <li>第24至26行：刪除音量控件周圍的默認陰影，以更好地匹配進度條。</li>
      <li>第27-34行：設置音量控制的高度和背景色。</li>
      <li>第36-38行：在音量控件的右側添加填充，以確保其與全屏按鈕不重疊。</li>
    </ul>
    <pre class="line-numbers" data-start="7">
<code class="language-css" translate="No">    &lt;style type="text/css"&gt;
        /* Order of controls in bar, should flow in before fullscreen button.  */
        .vjs-mute-control {
          order: 7;
          -webkit-box-ordinal-group: 7;
          -moz-box-ordinal-group: 7;
          -webkit-order: 7;
          -ms-flex-order: 7;
        }
        .vjs-volume-control {
          order: 8;
          -webkit-box-ordinal-group: 8;
          -moz-box-ordinal-group: 8;
          -webkit-order: 8;
          -ms-flex-order: 8;
        }
        /* Better match progress bar */
        .video-js.video-js .vjs-volume-bar:before {
          box-shadow:none;
        }
        .video-js.video-js .vjs-volume-bar,
        .video-js.video-js .vjs-volume-bar:before,
        .video-js.video-js .vjs-volume-level {
          height: 4px;
        }
        .video-js.video-js .vjs-volume-handle {
          background-color: initial;
        }
        /* Additional padding to reduce inadvertently covering the fullscreen button */
        .vjs-volume-control {
          padding-right: 5px;
        }
    &lt;/style&gt;</code></pre>
    <h3 id="jscode">JavaScript代碼</h3>
    <p>將以下JavaScript添加到您的頁面代碼中。</p>
    <ul>
      <li>第57行：準備好播放器時獲取引用。</li>
      <li>第59行：獲取對播放器控制欄的引用。</li>
      <li>60行：獲取對音量菜單按鈕的引用。</li>
      <li>
        <p>第61-62行：將靜音按鈕和音量控制元素添加到控制欄。</p>
        <aside class="bcls-aside bcls-aside--information">注意：默認情況下，控件欄中的flex項按照它們在HTML源代碼中的顯示方式進行佈局。對於IE9等較舊的瀏覽器，添加這些元素的順序很重要。在這裡，我們最後添加靜音按鈕，使其出現在音量控制的左側。<aside class="bcls-aside bcls-aside--information">注意：<code translate="No">MuteToggle</code>和<code translate="No">VolumeControl</code>類可以在<a href="https://docs.brightcove.com/brightcove-player/current-release/index.html">Brightcove Player API 索引</a> .</aside>
      </li>
      <li>第63行：從控制欄中刪除默認的音量菜單按鈕。</li>
    </ul>
    <pre class="line-numbers" data-start="53">
<code class="language-html" translate="No">    &lt;script id="pageScript" type="text/javascript"&gt;
        var myPlayer;

        videojs.getPlayer('video_1').ready(function(){
            myPlayer = this;

            var control_bar = myPlayer.controlBar;
            var vmb = control_bar.volumeMenuButton;
            control_bar.addChild('VolumeControl');
            control_bar.addChild('MuteToggle');
            control_bar.removeChild(vmb);
        });
    &lt;/script&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Use_a_plugin">使用插件</h2>
    <p>最好的做法是使用插件，以便您可以輕鬆地將此功能添加到多個播放器。</p>
    <h3>創建CSS文件</h3>
    <p>將CSS樣式移動到文件中，然後將其放置在Internet可訪問的URL中。</p>
    <ol class="bcls-tasklist">
      <li>為您的CSS樣式創建一個新文件。在這種情況下，請命名<code translate="No">horizontal-volume.css</code>。</li>
      <li>在裡面<code translate="No">&lt;head&gt;</code> HTML文件部分，添加以下鏈接以包含新創建的CSS文件。
        <pre class="line-numbers" data-start="91">
<code class="language-html" translate="No">&lt;link href="horizontal-volume.css" rel="stylesheet"&gt; </code></pre>
      </li>
      <li>瀏覽HTML頁面。您應該看到水平的音量控制，除了現在您的樣式已從HTML頁面中刪除了。</li>
    </ol>
    <h3>創建JavaScript文件</h3>
    <p>將插件的JavaScript代碼移動到文件中，然後將其放置在Internet上可訪問的URL中。</p>
    <ul>
      <li>為您的插件JavaScript代碼創建一個新文件。在這種情況下，請命名<code translate="No">horizontal-volume.js</code>。</li>
      <li>將JavaScript代碼從您的主HTML文件剪切並粘貼到此新文件中。</li>
      <li>第77,85行：使用<code translate="No">videojs.registerPlugin()</code>功能。第一個論點，<code translate="No">horizontalVolume</code>，是插件名稱。</li>
      <li>第78行：獲取有關您的播放器的參考。</li>
      <li>剩下的就是您的JavaScript代碼，該代碼已在上一節中進行了介紹。</li>
    </ul>
    <aside class="bcls-aside bcls-aside--information">注意：第85行：在插件的 JavaScript 代碼末尾有一個尾隨分號，這是必需的。
    <pre class="line-numbers" data-start="74">
<code class="language-javascript" translate="No">/**
 * Horizontal Volume
 */
videojs.registerPlugin('horizontalVolume', function() {
    var myPlayer = this,
    control_bar = myPlayer.controlBar,
    vmb = control_bar.volumeMenuButton;

    control_bar.addChild('VolumeControl');
    control_bar.addChild('MuteToggle');
    control_bar.removeChild(vmb);
});</code></pre>
    <ol class="bcls-tasklist">
      <li>在HTML文件中，將以下代碼添加到現有文件的正下方<code translate="No">&lt;script&gt;</code>標籤。此代碼包括JavaScript文件，然後調用該JavaScript中定義的方法。
        <pre class="line-numbers" data-start="93">
<code class="language-html" translate="No">&lt;script type="text/javascript" src="horizontal-volume.js"&gt;&lt;/script&gt;
&lt;script&gt;videojs.getPlayer('video_1').horizontalVolume();&lt;/script&gt;</code></pre>
      </li>
      <li>瀏覽HTML頁面。您應該看到水平的音量控制，除了現在您的JavaScript代碼已從HTML頁面中刪除之外。</li>
    </ol>
    <h3>部署插件和CSS</h3>
    <p>要使用“播放器"模塊部署覆蓋按鈕插件，請按照下列步驟操作：</p>
    <ol class="bcls-tasklist">
      <li>在新的Video Cloud Studio中，打開<strong>玩家們</strong>模塊並找到播放器。</li>
      <li>單擊播放器的鏈接以打開播放器屬性。</li>
      <li>找到<strong>外掛程式</strong>部分，然後單擊<strong>編輯</strong>。</li>
      <li>為了<strong>JavaScript網址</strong>，輸入URL，該URL指定保存插件JavaScript的位置。
      </li>
      <li>為了<strong>CSS網址</strong>，輸入URL，該URL指定保存插件CSS的位置。
      </li>
      <li>為了<strong>名稱</strong>， 進入<strong>水平體積</strong>。</li>
      <li>該插件沒有選項，因此您可以將“插件選項"部分留空。
      </li>
      <li>點擊<strong>保存</strong>然後<strong>發布</strong>玩家。</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Use_iframe">使用iframe</h2>
    <p>最佳做法是使用iframe播放器實現。如果該示例可行，則將頁內嵌入實現替換為iframe實現。</p>
    <ol class="bcls-tasklist">
      <li><span class="video-cloud-only">在裡面<strong>媒體</strong>模塊中，選擇一個視頻並與此播放器一起發布。</span><span class="player-only">返回到<strong>玩家們</strong>模塊。</span></li>
      <li>
        <p>複製iframe嵌入代碼，然後將其粘貼到新的HTML文件中。您的代碼應該類似於：</p>
        <pre class="line-numbers" data-start="99">
<code class="language-html" translate="No">&lt;!DOCTYPE html&gt;
&lt;html&gt;

&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Brightcove Player: Horizontal Volume - iframe&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;
    &lt;iframe style='width: 640px;height: 360px;' src='//players.brightcove.net/1752604059001/b42edc12-2ac9-48a9-92bc-fbdb5ca9aed7_default/index.html?videoId=4172255216001' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
      </li>
      <li>瀏覽HTML頁面。您應該看到插件正常運行。</li>
    </ol>
  </section>
</article>