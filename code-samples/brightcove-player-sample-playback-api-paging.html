---
title: '布萊特灣球員樣本：播放 API 分頁
description: '在本主題中，您將了解如何在從 Playback API 檢索數據時實現播放列表分頁。'
parent: Code Samples
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
  <summary>{{ page.description }}</summary>

  </summary>
  <aside class="bcls-aside bcls-aside--information">本文件中的內容僅適用於視訊雲端。</aside> 
  <section class="bcls-section">
    <h2 id="limitations">限制</h2>
    <aside class="bcls-aside bcls-aside--information">提供此示例和相關代碼作為生產開發的指南。該代碼未經認證可用於生產用途，也未經官方支持。</aside>
  </section>
  <section class="bcls-section">
    <h2 id="Player_example">播放器示例</h2>
    <!-- UPDATE description -->

    <p>本示例使用Brightcove播放器在播放器中顯示視頻以及播放列表中的前3個視頻。選擇<strong>下一部影片</strong>按鈕可在播放列表中顯示接下來的3個視頻。當您到達播放列表中的最後一組視頻時，顯示的視頻將環繞到播放列表的開頭。</p>
    <!-- UPDATE codepen here -->

    <p data-height="750" data-theme-id="34967" data-slug-hash="ppbdNG" data-default-tab="result" data-user="bcls1969" data-embed-version="2" data-pen-title="18171-playback-api-paging" class="codepen">看筆<a href="https://codepen.io/team/bcls1969/pen/ppbdNG/">18171播放api分頁</a>通過Brightcove學習服務（<a href="https://codepen.io/team/rcrooks1969"> @ bcls1969</a>） 上<a href="https://codepen.io">密碼筆</a>。</p>
    <script async src="https://production-assets.codepen.io/assets/embed/ei.js"></script><!-- UPDATE link to GitHub source -->

    <h3>源代碼</h3>
          <p>觀看<a href="https://github.com/BrightcoveLearning/18171-playback-api-paging">GitHub上的完整解決方案</a>。</p>
    <h3>播放接口</h3>
    <p>本示例使用Playback API從指定的播放列表返回視頻。為了翻閱播放列表中的視頻，此示例使用以下請求URL參數：</p>
    <ul>
      <li><code translate="No"><a href="https://apis.support.brightcove.com/playback/references/reference_v1.html#api-videoGroup-Get_Videos">limit</a></code> - defines the number of videos to return from the Playback API</li>
      <li><code translate="No"><a href="https://apis.support.brightcove.com/playback/references/reference_v1.html#api-videoGroup-Get_Videos">offset</a></code> - sets the number of videos to skip in a playlist from the Playback API</li>
    </ul>
    <aside class="bcls-aside bcls-aside--tip">
      <p>如果您不熟悉Playback API，請查看&lt;a /content-protection/policy-keys.htmlhref="https://apis.support.brightcove.com/playback/"&gt;概述：播放API</a>文檔。</p>
      <p>為了向Playback API發出請求，您將需要一個策略密鑰。有三種獲取策略密鑰的方法：</p>
      <ol>
        <li>每個Brightcove Player都會自動分配一個。您可以在<a href="/content-protection/policy-keys.html">政策金鑰</a>文檔。由於策略密鑰適用於整個帳戶，因此無論該播放器是否嵌入到頁面中，您都可以使用它。</li>
        <li>您可以使用以下命令生成基本策略密鑰<a href="https://apis.support.brightcove.com/policy/getting-started/quick-start-policy-api.html">策略密鑰快速入門</a></li>
        <li>您可以向<a href="https://apis.support.brightcove.com/policy/getting-started/overview-policy-api.html">政策API</a></li>
      </ol>
    </aside>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Using_the_CodePen">使用代碼筆</h2></summary>
      <p>以下是一些有效使用上述 CodePen 的提示：</p>
      <ul>
        <li>通過單擊切換播放器的實際顯示<strong translate="No">結果</strong>按鈕。</li>
        <li>點擊<strong translate="No">HTML/CSS/JS</strong>按鈕以顯示其中一種代碼類型。</li>
        <li>在本文檔的後面部分，應用程序中使用的邏輯、流程和样式將在<a href="#Player/HTML_configuration">播放器/HTML 配置</a> , <a href="#Application_flow">申請流程</a>和<a href="#Application_styling">應用樣式</a>部分。遵循這些部分中的信息的最佳方法是：
          <ol>
            <li>點擊<strong translate="No">在 CODEPEN 上編輯</strong> CodePen 中的按鈕，並在一個瀏覽器/瀏覽器選項卡中提供代碼。</li>
            <li>在CodePen中，調整要顯示的代碼。您可以在CodePen中更改不同代碼段的寬度。</li>
            <li>觀看<a href="#Player/HTML_configuration">播放器/ HTML配置</a>，<a href="#Application_flow">申請流程</a>和/或<a href="#Application_styling">應用程式樣式</a>其他瀏覽器/瀏覽器標籤中的部分。現在，您將能夠按照代碼說明進行操作，同時查看代碼。</li>
          </ol>
        </li>
      </ul>
    </details>
  </section>
  <section class="bcls-section">
    <details>
      <summary><h2 id="Development_sequence">開發順序</h2></summary>
      <p>這是推薦的開發順序：</p>
      <ol>
        <li>使用頁內嵌入播放器實現來測試播放器，插件和CSS的功能（如果需要CSS）</li>
        <li>將插件的JavaScript和CSS放入單獨的文件中以進行本地測試</li>
        <li>解決任何錯誤後，將插件代碼和CSS部署到服務器上</li>
        <li>使用Studio將插件和CSS添加到播放器</li>
        <li>如果您確定iframe實現更合適，請替換頁內嵌入播放器實現（在下一部分中詳細介紹）</li>
      </ol>
      <p>有關這些步驟的詳細信息，請查看<a href="/coding-topics/step-step-plugin-development.html">一步步：插件開發</a>指導。</p>
      <h3>iframe或頁內嵌入</h3>
      <p>在開發Brightcove Player的增強功能時，您需要確定代碼是否最適合iframe或頁內嵌入實施。最佳實踐建議是構建一個可與iframe實現配合使用的插件。使用iframe播放器的優點是：</p>
      <ul>
        <li>與現有的JavaScript和/或CSS無衝突</li>
        <li>自動響應</li>
        <li>iframe可簡化在社交媒體應用中的使用（或需要將視頻“傳播"到其他應用中的任何時候）</li>
      </ul>
      <p>儘管集成頁內嵌入播放器可能會更加複雜，但是有時您會圍繞該實現計劃代碼。概括地說，當包含頁面需要與播放器進行通信時，這種方法是最好的。具體來說，以下是一些示例：</p>
      <ul>
        <li>包含頁面中的代碼需要偵聽播放器事件並對其進行操作</li>
        <li>播放器使用包含頁面中的樣式</li>
        <li>iframe將導致應用邏輯失敗，例如從包含頁面的重定向</li>
      </ul>
      <p>即使最終實現未使用iframe代碼，您仍可以將頁內嵌入代碼與JavaScript插件和CSS單獨文件一起使用。這封裝了你的邏輯，以便您可以輕鬆地在多個玩家中使用它。</p>
    </details>
  </section>
  <section class="bcls-section">
    <h2 id="API/Plugin_resources_used">使用的API /插件資源</h2>
    <!-- UPDATE table, remove unneeded columns -->

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>API方法</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td><a href="/references/player-catalog.html#getVideo">catalog.getVideo（）</a></td>
          <td>對具有指定ID的視頻發出目錄請求並在請求完成時調用回調的方法。</td>
        </tr>
        <tr>
          <td><a href="/references/player-catalog.html#load">catalog.load（）</a></td>
          <td>將視頻加載到播放器的方法。</td>
        </tr>
        <tr>
          <td><a href="https://player.support.brightcove.com/references/guide-playlist-api.html#playlist">播放清單（）</a></td>
          <td>將視頻對像數組分配給播放器的播放列表的方法。請注意，此方法也可以用於檢索播放器中當前正在播放的播放列表，但在本文檔中將不以這種方式使用。</td>
        </tr>
      </tbody>
    </table>
  </section>
  <!-- UPDATE player and HTML configuration -->

  <section class="bcls-section">
    <h2 id="Player/HTML_configuration">播放器/ HTML配置</h2>
    <p>本節詳細介紹了播放器創建過程中所需的任何特殊配置。此外，還介紹了除頁面內嵌入播放器實現代碼外，還必須添加到頁面的其他HTML元素。</p>
    <h3>播放程式組態</h3>
    <ul>
      <li>在Video Cloud Studio中，導航到<strong>玩家們</strong>模塊，然後<strong>設定值</strong>部分。選擇<strong>編輯</strong>按鈕並執行以下操作：
        <ul>
          <li>設置<strong>顯示播放列表</strong>選擇<strong>已啟用</strong>。</li>
          <li>設置<strong>漿紗</strong>選擇<strong>反應靈敏</strong>。</li>
          <li>設置播放器尺寸以適合您的網頁。</li>
        </ul>
      </li>
    </ul>
    <h3>其他HTML</h3>
    <p>添加一個<strong>下一部影片</strong>按鈕可獲取播放列表中的下一組3個視頻。</p>
    <p>可選的：添加一個容器以顯示當前的Playback API請求URL。</p>
  </section>
  <!-- UPDATE application flow -->

  <section class="bcls-section">
    <h2 id="Application_flow">申請流程</h2>
    <p>此應用程序背後的基本邏輯是：</p>
    <ul>
      <li>加載第一組視頻。</li>
      <li>收聽下一個視頻按鈕</li>
      <li>創建請求URL。</li>
      <li>獲取下一組視頻數據。</li>
      <li>將當前播放列表加載到播放器中。</li>
    </ul>
    <!-- UPDATE task 1 -->

    <h3>加載第一組視頻</h3>
    <p>找到標有以下代碼的代碼：</p>
    <pre>
    <code class="language-javascript" translate="No">// +++ Load first set of videos +++</code></pre>
    <p>使用<code translate="No">catalog</code>庫以獲取指定播放列表ID的播放列表對象。將第一組視頻加載到播放器中。</p>
    <!-- UPDATE task 2 -->

    <h3>收聽下一個視頻按鈕</h3>
    <p>找到標有以下代碼的代碼：</p>
    <pre>
    <code class="language-javascript" translate="No">// +++ Listen for Next Videos button +++</code></pre>
    <p>添加事件監聽器以將下一組視頻加載到播放列表中。</p>
    <!-- UPDATE task 3 -->

    <h3>創建請求URL</h3>
    <p>找到標有以下代碼的代碼：</p>
    <pre>
    <code class="language-javascript" translate="No">// +++ Create request URL +++</code></pre>
    <p>使用來創建Playback API請求網址<code translate="No">limit</code>和<code translate="No">offset</code>參數。</p>
    <!-- UPDATE task 4 -->

    <h3>獲取視頻數據</h3>
    <p>找到標有以下代碼的代碼：</p>
    <pre>
    <code class="language-javascript" translate="No">// +++ Get video data +++</code></pre>
    <p>調用Playback API，以獲取播放列表中的下一組視頻。</p>
    <!-- UPDATE task 5 -->

    <h3>加載視頻數據</h3>
    <p>找到標有以下代碼的代碼：</p>
    <pre>
    <code class="language-javascript" translate="No">// +++ Load video data +++</code></pre>
    <p>調用Playback API，以獲取播放列表中的下一組視頻。將第一個視頻加載到播放器中。將陣列中的視頻加載到播放器的播放列表中。</p>
    <!-- UPDATE CSS description -->

    <section class="bcls-section">
      <h2 id="Application_styling">應用程式樣式</h2>
      <p>CSS設置播放器的樣式以及播放器下方的水平播放列表。</p>
    </section>
    <section class="bcls-section">
      <h2 id="Plugin_code">插件代碼</h2>
      <p>通常，將JavaScript轉換為Brightcove Player插件時，需要進行名義上的更改。一項必需的更改是替換標準的使用<code translate="No">ready()</code>方法與定義插件的代碼。</p>
      <p>這是可以與播放器一起使用的非常常用的JavaScript代碼開始：</p>
      <pre class="line-numbers">
    <code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
      var myPlayer = this;
      ...
      });</code></pre>
      <p>您將更改第一行以使用標準語法來啟動Brightcove Player插件：</p>
      <pre class="line-numbers">
    <code class="language-javascript" translate="No">videojs.registerPlugin('pluginName', function(options) {
      var myPlayer = this;
      ...
      });</code></pre>
      <!-- UPDATE path to plugin's JavaScript -->

      <p>如前所述，您可以在該文檔的相應GitHub存儲庫中看到該插件的JavaScript代碼：<a href="https://github.com/BrightcoveLearning/18171-playback-api-paging/blob/master/plugin/playback-paging.js">播放-分頁.js</a>。</p>
      <h3>與播放器一起使用插件</h3>
      <p>將插件的CSS和JavaScript文件存儲在Internet上可訪問的位置後，即可將其與播放器一起使用。在工作室的<strong>球員</strong>模塊你可以選擇一個播放器，然後在<strong>插件</strong>部分將 URL 添加到 CSS 和 JavaScript 文件，並添加<strong>姓名</strong>和<strong>選項</strong> , 如果需要選項。</p>
      <aside class="bcls-aside bcls-aside--tip">有關使用 Studio 為玩家分配插件的更多信息，請參閱<a href="https://studio.support.brightcove.com/players/configuring-player-plugins.html">配置播放器插件</a>文檔。</aside>
    </section>
  </section>
</article>