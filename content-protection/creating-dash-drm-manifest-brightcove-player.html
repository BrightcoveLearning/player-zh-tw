---
title:為 Brightcove 播放器創建 DASH DRM 清單
parent: 'DRM &amp; Content Protection'
description: In this topic, you will learn how to create an MPEG-DASH manifest (.MPD file) with DRM protection for Brightcove Player.
---

<article class="bcls-article">
  <h1>為Brightcove Player創建DASH DRM清單</h1>
  <summary>{{ page.description }} </summary>
  <section class="bcls-section">
    <h2 id="Overview">概述</h2>
    <p>MPEG-DASH清單（.MPD文件）描述了具有使用通用加密（CENC）加密的MPEG-DASH格式的視頻，並且與Playready，Widevine和Marlin內容解密模塊（CDM）兼容。Brightcove的Web播放器僅支持Playready和Widevine，這取決於所使用的瀏覽器。</p>
    <h3>瀏覽器支持</h3>
    <p>播放僅在受支持的台式機Macintosh和Windows瀏覽器上有效。</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>瀏覽器類型</th>
          <th>播放技術</th>
          <th>DRM類型</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>鉻34+</td>
          <td>使用莎卡播放器的原生 MS/EME 播放<sup>*</sup></td>
          <td>寬藤</td>
        </tr>
        <tr>
          <td>Windows 10 上的 MS Edge</td>
          <td>使用莎卡播放器的原生 MS/EME 播放<sup>*</sup></td>
          <td>準備就緒</td>
        </tr>
        <tr>
          <td>所有其他瀏覽器，包括Safari，IE和Firefox</td>
          <td>Silverlight插件</td>
          <td>準備就緒</td>
        </tr>
      </tbody>
    </table>
    <aside class="bcls-aside bcls-aside--information"><sup>*</sup>Shaka-Player 提供 DASH 支持。在 Brightcove Player DRM 插件版本 4 之前，用於 DASH 支持的播放技術建立在 Dash.js 之上。
  </section>
  <section class="bcls-section player-only" id="perform_External_DRM_content">
    <h2>外部DRM內容</h2>
    <h3>在Brightcove Video Cloud外部創建的DRM內容的要求</h3>
    <p>為了播放使用Brightcove Player應用了DRM保護的視頻內容，必須按照以下準則對視頻進行編碼。</p>
    <ol>
      <li>必須是MPEG-DASH實時配置文件（不是“按需"，不是“hbbtv"）</li>
      <li>所有演繹都必須具有相同的關鍵幀間隔和幀頻（以與我們的Silverlight插件兼容）</li>
      <li>必須使用通用加密（CENC）進行加密並啟用Playready和Widevine支持</li>
      <li>必須提供Playready和Widevine許可證服務器URL。Playready許可證服務器URL必須包含在清單文件（.mpd）中。Widevine許可證服務器URL可以在清單中提供，也可以作為Javascript中的參數提供</li>
      <li>可播放的初始化向量必須為8個字節。</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Sample_manifest">示例清單</h2>
    <p>這是Video Cloud生成的示例MPEG-DASH清單（.MPD文件）。</p>
    <pre class="line-numbers">
<code class="language-xml" translate="No">&lt;?xml version="1.0" ?&gt;
&lt;MPD mediaPresentationDuration="PT1M28S" minBufferTime="PT2.00S" profiles="urn:mpeg:dash:profile:isoff-live:2011" type="static" xmlns="urn:mpeg:dash:schema:mpd:2011" xmlns:mspr="urn:microsoft:playready" xmlns:mas="urn:marlin:mas:1-0:services:schemas:mpd"&gt;
   &lt;Period&gt;
      &lt;AdaptationSet mimeType="audio/mp4" segmentAlignment="true" startWithSAP="1"&gt;
         &lt;ContentProtection schemeIdUri="urn:mpeg:dash:mp4protection:2011" value="cenc" cenc:default_KID="5d97af80-2442-4fe9-b1aafc24ecb6fa28" xmlns:cenc="urn:mpeg:cenc:2013"/&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:5E629AF5-38DA-4063-8977-97FFBD9902D4"&gt;
            &lt;mas:MarlinContentIds&gt;
               &lt;mas:MarlinContentId&gt;urn:marlin:kid:5d97af8024424fe9b1aafc24ecb6fa28&lt;/mas:MarlinContentId&gt;
            &lt;/mas:MarlinContentIds&gt;
         &lt;/ContentProtection&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95"&gt;
            &lt;mspr:pro&gt;jAIAAAEAAQCCAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AZwBLACsAWABYAFUASQBrADYAVQArAHgAcQB2AHcAawA3AEwAYgA2AEsAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBVAGQAawBLAGIASQBBAHgAbgBOAGcAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABMAEEAXwBVAFIATAA+AGgAdAB0AHAAcwA6AC8ALwBwAHIAbABpAGMALgBiAHIAaQBnAGgAdABjAG8AdgBlAC4AYwBvAG0ALwBsAGkAYwBlAG4AcwBlAC8AMwA3ADIAMwA0ADkANgAyADcANwAwADAAMQA8AC8ATABBAF8AVQBSAEwAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AA==&lt;/mspr:pro&gt;
         &lt;/ContentProtection&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed" bc:licenseAcquisitionUrl="https://wvlic.brightcove.com/proxy/4324249227001" xmlns:bc="urn:brightcove:2015"/&gt;
         &lt;SegmentTemplate duration="2000" initialization="$RepresentationID$/init.mp4" media="$RepresentationID$/seg-$Number$.m4f" startNumber="0" timescale="1000"/&gt;
         &lt;Representation bandwidth="43241" id="4324360320001/audio/und" codecs="mp4a.40.5" audioSamplingRate="22050"&gt;
            &lt;AudioChannelConfiguration schemeIdUri="urn:mpeg:dash:23003:3:audio_channel_configuration:2011" value="2"/&gt;
         &lt;/Representation&gt;
      &lt;/AdaptationSet&gt;
      &lt;AdaptationSet mimeType="video/mp4" segmentAlignment="true" startWithSAP="1" scanType="progressive"&gt;
         &lt;ContentProtection schemeIdUri="urn:mpeg:dash:mp4protection:2011" value="cenc" cenc:default_KID="5d97af80-2442-4fe9-b1aafc24ecb6fa28" xmlns:cenc="urn:mpeg:cenc:2013"/&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:5E629AF5-38DA-4063-8977-97FFBD9902D4"&gt;
            &lt;mas:MarlinContentIds&gt;
               &lt;mas:MarlinContentId&gt;urn:marlin:kid:5d97af8024424fe9b1aafc24ecb6fa28&lt;/mas:MarlinContentId&gt;
            &lt;/mas:MarlinContentIds&gt;
         &lt;/ContentProtection&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95"&gt;
            &lt;mspr:pro&gt;jAIAAAEAAQCCAjwAVwBSAE0ASABFAEEARABFAFIAIAB4AG0AbABuAHMAPQAiAGgAdAB0AHAAOgAvAC8AcwBjAGgAZQBtAGEAcwAuAG0AaQBjAHIAbwBzAG8AZgB0AC4AYwBvAG0ALwBEAFIATQAvADIAMAAwADcALwAwADMALwBQAGwAYQB5AFIAZQBhAGQAeQBIAGUAYQBkAGUAcgAiACAAdgBlAHIAcwBpAG8AbgA9ACIANAAuADAALgAwAC4AMAAiAD4APABEAEEAVABBAD4APABQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsARQBZAEwARQBOAD4AMQA2ADwALwBLAEUAWQBMAEUATgA+ADwAQQBMAEcASQBEAD4AQQBFAFMAQwBUAFIAPAAvAEEATABHAEkARAA+ADwALwBQAFIATwBUAEUAQwBUAEkATgBGAE8APgA8AEsASQBEAD4AZwBLACsAWABYAFUASQBrADYAVQArAHgAcQB2AHcAawA3AEwAYgA2AEsAQQA9AD0APAAvAEsASQBEAD4APABDAEgARQBDAEsAUwBVAE0APgBVAGQAawBLAGIASQBBAHgAbgBOAGcAPQA8AC8AQwBIAEUAQwBLAFMAVQBNAD4APABMAEEAXwBVAFIATAA+AGgAdAB0AHAAcwA6AC8ALwBwAHIAbABpAGMALgBiAHIAaQBnAGgAdABjAG8AdgBlAC4AYwBvAG0ALwBsAGkAYwBlAG4AcwBlAC8AMwA3ADIAMwA0ADkANgAyADcANwAwADAAMQA8AC8ATABBAF8AVQBSAEwAPgA8AC8ARABBAFQAQQA+ADwALwBXAFIATQBIAEUAQQBEAEUAUgA+AA==&lt;/mspr:pro&gt;
         &lt;/ContentProtection&gt;
         &lt;ContentProtection schemeIdUri="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed" bc:licenseAcquisitionUrl="https://wvlic.brightcove.com/proxy/4324249227001" xmlns:bc="urn:brightcove:2015"/&gt;
         &lt;SegmentTemplate duration="2000" initialization="$RepresentationID$/init.mp4" media="$RepresentationID$/seg-$Number$.m4f" startNumber="0" timescale="1000"/&gt;
         &lt;Representation bandwidth="237182" id="4324360320001/video/1" codecs="avc1.42c015" frameRate="30" width="400" height="300"/&gt;
         &lt;Representation bandwidth="601518" id="4324360321001/video/1" codecs="avc1.42c015" frameRate="30" width="400" height="300"/&gt;
         &lt;Representation bandwidth="981387" id="4324360323001/video/1" codecs="avc1.42c016" frameRate="30" width="480" height="360"/&gt;
         &lt;Representation bandwidth="1507704" id="4324360324001/video/1" codecs="avc1.42c01e" frameRate="30" width="640" height="480"/&gt;
         &lt;Representation bandwidth="2102387" id="4324360325001/video/1" codecs="avc1.42c01e" frameRate="30" width="640" height="480"/&gt;
         &lt;Representation bandwidth="2991373" id="4324360326001/video/1" codecs="avc1.42c01e" frameRate="30" width="640" height="480"/&gt;
      &lt;/AdaptationSet&gt;
   &lt;/Period&gt;
&lt;/MPD&gt;
</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="License_information">許可證信息</h2>
    <p>為了創建自己的與Brightcove Player兼容的DASH-DRM流，您的編碼系統必須創建與上面提供的清單類似的清單（MPD），其中包括有關DRM許可證的信息。您的MPD可以忽略今天Brightcove Player尚未使用的Marlin部分。</p>
    <h3>指定PlayReady許可證密鑰</h3>
    <p>Brightcove Player要求PlayReady許可信息作為64位編碼的字符串嵌入MPD中。您可以在以下示例中看到該值<code translate="No">&lt;mspr:pro&gt;</code>上面的標籤。編碼後的密鑰信息如下所示解碼。有關PlayReady標頭格式的信息，可以在這裡找到：<a href="http://www.microsoft.com/playready/documents/"> http://www.microsoft.com/playready/documents/</a>。</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;WRMHEADER xmlns="http://schemas.microsoft.com/DRM/2007/03/PlayReadyHeader" version="4.0.0.0"&gt;&lt;DATA&gt;&lt;PROTECTINFO&gt;&lt;KEYLEN&gt;16&lt;/KEYLEN&gt;&lt;ALGID&gt;AESCTR&lt;/ALGID&gt;&lt;/PROTECTINFO&gt;&lt;KID&gt;gK+XXUIk6U+xqvwk7Lb6KA==&lt;/KID&gt;&lt;CHECKSUM&gt;UdkKbIAxnNg=&lt;/CHECKSUM&gt;&lt;LA_URL&gt;https://prlic.brightcove.com/license/3723496277001&lt;/LA_URL&gt;&lt;/DATA&gt;&lt;/WRMHEADER&gt;</code></pre>
    <h3>指定Widevine許可證URL</h3>
    <p>請注意，此行的MPD中提供了Widevine許可證服務器URL：</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;ContentProtection schemeIdUri="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed" bc:licenseAcquisitionUrl="https://wvlic.brightcove.com/proxy/4324249227001" xmlns:bc="urn:brightcove:2015"/&gt;</code></pre>
    <p>另外，您可以在嵌入頁面的JavaScript中將Widevine許可證服務器URL作為參數提供給播放器。這是一個如何調用Brightcove Player並指定帶有源URL的許可證服務器的示例：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">myPlayer.src({
  "src": sourceUrl,
  "type": "application/dash+xml",
  "keySystemOptions": [{
    "name": "com.widevine.alpha",
    "options": {"licenseUrl": licenseServerUrl}
  }]
});</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Preloading">預裝</h2>
    <p>您可以選擇許多設置來控制視頻數據的預加載。見<a href="/general/player-configuration-guide.html#preload">播放器配置指南，<strong>預載</strong>部分</a>有關完整的詳細信息。默認行為是Brightcove Player將預加載視頻元數據（例如標題和時長）以及幾秒鐘的視頻數據。如果要更改預加載行為，可以在播放器配置中指定以下選項：</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">"preload": "none"</code></pre>
    <p>這是具有該設置的播放器配置的示例：</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "account_id": "3723496277001",
  "autoadvance": 0,
  "embed_id": "default",
  "player": {
    "template": {
      "name": "single-video-template",
      "version": "1.14.26"
    }
  },
  "player_id": "82f443bc-82f5-4074-bf9c-de2920c89b24",
  "player_name": "DRM Demo",
  <span class="bcls-highlight">"preload": "none"</span>,
  "scripts": [
    "https://players.brightcove.net/videojs-dash/videojs-dash.min.js"
  ],
  "stylesheets": [
    "https://players.brightcove.net/videojs-dash/videojs-dash.css"
  ],
  "video_cloud": {
    "policy_key": "BCpkADawqM2ENcgyE-9inavnwhb7UdI2lOWO-at96gPIdABCVZPuXWJkv6ddgIUTCbe3iyoKKI5hyVkjKkhRve9eOhJ7e5G6433DkB5DS2ilfROKA8hN07KKYt6k6MqCbqvL5N-KGYcYDEFGSP8b5dC",
    "video": null
  }
}</code></pre>
  </section>
</article>