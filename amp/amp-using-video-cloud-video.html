---
title:AMP 使用視訊雲端影片
parent: amp
description: In this topic, you will learn how Accelerated Mobile Pages (AMP) can be used with Brightcove Player.
---

<article class="bcls-article">
    <h1> AMP 使用視訊雲端視訊</h1> 
    <summary>{{ page.description }} </summary>
    <section class="bcls-section">
        <aside class="bcls-aside bcls-aside--warning">本文件使用 AMP 搭配布萊特灣播放器第 6 版以及視訊雲端視訊。如果您是非視訊雲端客戶，請參閱<a href="/amp/amp-using-external-video.html">  AMP 使用外部視訊</a>。</aside> 
        <h2 id="Overview">概述</h2>
        <p>加速行動網頁是一個 Google 專案，旨在讓「在裝置和分銷平台之間建立一致的快速、美觀和高效能的網站和廣告。「您可以在 AMP 中使用 Brightcove 播放器，因為該項目包含一個<code translate="No">amp-brightcove</code>組件，允許發布商將布萊特灣播放器嵌入 AMP HTML 文檔中。</p>
    </section>
    <section class="bcls-section">
        <h2 id="Sample">範例</h2>
        <p>以下是一個範例 AMP HTML 頁面，其中包括一個布萊特灣播放器。播放器正常運作，所以 HTML 是這個示例的有趣部分。本文件稍後會檢查 HTML 程式碼。</p>
        <p class="codepen" data-height="330" data-theme-id="34967" data-default-tab="html,result" data-user="rcrooks1969" data-slug-hash="ddKwre" style="height: 330px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;" data-pen-title="AMP Example"><span>看筆<a href="https://codepen.io/team/rcrooks1969/pen/ddKwre/">AMP 示例</a>通過 Brightcove 學習服務 ( <a href="https://codepen.io/rcrooks1969"> @rcooks1969</a>） 在<a href="https://codepen.io">代碼筆</a> .</span></p>
        <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
        <aside class="bcls-aside bcls-aside--warning">請注意，由於 AMP 的運作方式，您必須在使用前仔細考慮其限制。例如：
            <ul>
                <li>AMP 有什麼 HTML 可以和不能在頁面上使用非常嚴格的規則。有關這方面的詳細信息可以在<a href="https://www.ampproject.org/docs/reference/spec">  AMP HTML 規範中查看</a>。</li>
                <li>Brightcove Analytics 不會正確報告 AMP 頁面的引用頁面-而是<code translate="No">referrer_domain</code>將空白，並<code translate="No">source_type</code>將記錄為<code translate="No">direct</code>。</li>
                <li>與布萊特灣玩家的進階（頁面內）實施一起使用的屬性很少是有效的<code translate="No">&lt;amp-brightcove ..&gt;</code>。檢查<a href="https://www.ampproject.org/docs/reference/spec">  AMP HTML 規範</a>的那些可以使用。</li>
                <li>AMP 不適用於受網域限制的玩家。</li>
            </ul>
        </aside> 
    </section>
    <section class="bcls-section">
        <h2 id="Player_configuration">播放程式組態</h2>
        <p>布萊特灣提供了一個插件，你會想要加載，以增強與布萊特灣播放器的 AMP 的使用。該插件增加了對 AMP 的視頻接口 API 的支持，AMP 需&nbsp;要控制 AMP 文檔中的播放器。它還啟用了一些&nbsp;高級功能：</p>
        <ul>
            <li><strong>與擴充分析整合</strong>：允許根據 AMP 頁面網域追蹤第三方分析的檢視次數。</li>
            <li><strong>與安培綁定集成</strong>：播放可由 AMP 頁面中的其他元素控制。</li>
        </ul>
        <p>沒有此外掛程式的玩家在 AMP 文件中可能無法如預期般運作。</p>
        <h3><strong>外掛程式安裝</strong> </h3>
        <aside class="bcls-aside bcls-aside--warning">您必須安裝外掛程式。在過去的 AMP 將在不添加插件的情況下工作。這不再是真的。</aside> 
        <p>與所有 Brightcove 播放器插件一樣，您需要插件的名稱和 URL 到插件的 JavaScript，這是這裡提供的（這個插件的使用不需要 CSS 文件）：</p>
        <h4>外掛程式名稱</h4>
        <pre class="line-numbers">
  <code class="language-html" translate="No">ampSupport</code>   </pre>
        <h4>網址</h4>
        <pre class="line-numbers">
  <code class="language-html" translate="No">//players.brightcove.net/videojs-amp-support/1/videojs-amp-support.js</code>   </pre>
        <p>要實現 AMP 插件，您將添加插件的功能名稱和 URL 插件的 JavaScript：</p>
        <ol class="bcls-tasklist">
            <li>在 Studio 中，打開<strong>球員</strong>模塊並創建一個新播放器或找到您希望添加插件的播放器。</li>
            <li>按一下播放程式的連結以開啟播放程式的屬性。</li>
            <li>點擊<strong>插件</strong>在左側導航菜單中。</li>
            <li>下一步點擊<strong>插件</strong>從三個選項。
                <figure class="bcls-figure"><img class="bcls-image" alt="Select Plugin" src="/assets/images/amp/amp-vc-players-plugin-options.png" /></figure>
            </li>
            <li>從<strong>添加插件中</strong>選擇<strong>自定義插件</strong>。</li>
            <li>在「<strong>外掛程式名稱</strong>」中輸入<code translate="No">ampSupport</code>。</li>
            <li><strong>在這個</strong>網址中，輸入：
                <pre>
  <code class="language-json" translate="No">//players.brightcove.net/videojs-amp-support/1/videojs-amp-support.js</code>   </pre>
            </li>
            <li>您不必為此外掛程式輸入任何 CSS 或選項。
                <figure class="bcls-figure"><img class="bcls-image" alt="Install plugin" src="/assets/images/amp/amp-vc-studio-install-plugin.png" /></figure>
            </li>
            <li>按一下「<strong>儲存」</strong>。</li>
            <li>若要發佈播放程式，請按一下「<strong>發佈與內嵌」&gt;「發佈變更」</strong>。</li>
            <li>若要關閉開啟對話方塊，請按一下「<strong>關閉」</strong>。</li>
        </ol>
    </section>
    <section class="bcls-section">
        <h2 id="Resources_from_AMP">來自 AMP 的資源</h2>
        <p>AMP 項目開發了一個特殊的<code translate="No">amp-brightcove</code>組件，顯示布萊特灣播放器。該組件詳細說明在<a href="https://www.ampproject.org/docs/reference/components/amp-brightcove">安培亮口文件中。</a> </p>
        <p>AMP 提供了一個示例<code translate="No">amp-brightcove</code>實現，詳細信息在以下文檔中：</p>
        <ul>
            <!-- 2 links below broken - couldn't find an replacements, but leaving it in place in case someone else can -->
            <!-- <li><a href="https://ampbyexample.com/components/amp-brightcove/">amp-brightcove</a></li> -->
            <li><a href="https://github.com/ampproject/amp-by-example/blob/master/src/20_Components/amp-brightcove.html">逐個範例</a> </li>
            <!-- <li><a href="https://ampbyexample.com/playground/#url=https%3A%2F%2Fampbyexample.com%2Fcomponents%2Famp-brightcove%2Fsource%2F">AMP Playground</a></li> -->
        </ul>
    </section>
    <section class="bcls-section">
        <h2 id="Code_examination">代碼檢查</h2>
        <p>從上面的 CodePen 示例代碼如下所示。代碼的完整解釋由 AMP 在鏈接到上面的文檔中提供。在下面的列表中有一些需要注意的技巧/陷阱：</p>
        <ul>
            <li>第二行：不要美化代碼。樣板 CSS 是需要由 AMP 提供。</li>
            <li>第三十五行：<code translate="No">width</code>和<code translate="No">height</code>屬性決定了嵌入在自適應版面中的播放器的外觀比例。</li>
        </ul>
        <pre class="line-numbers" data-start="1">
  <code class="language-html" translate="No">&lt;!--
    ## Introduction

    The `amp-brightcove` component allows embedding a Brightcove
    [Video Cloud](https://www.brightcove.com/en/online-video-platform) or
    [Perform](https://www.brightcove.com/en/perform) player.
  --&gt;
  &lt;!-- --&gt;
  &lt;!doctype html&gt;
  &lt;html ⚡&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;title&gt;amp-brightcove&lt;/title&gt;
    &lt;script async src="https://cdn.ampproject.org/v0.js"&gt;&lt;/script&gt;
    &lt;!-- ## Setup --&gt;
    &lt;!-- Import the Brightcove component in the header. --&gt;
    &lt;script async custom-element="amp-brightcove" src="https://cdn.ampproject.org/v0/amp-brightcove-0.1.js"&gt;&lt;/script&gt;
    &lt;meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"&gt;
    &lt;link rel="canonical" href="https://ampbyexample.com/components/amp-brightcove/"&gt;
    &lt;style amp-boilerplate&gt;body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}&lt;/style&gt;&lt;noscript&gt;&lt;style amp-boilerplate&gt;body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}&lt;/style&gt;&lt;/noscript&gt;

  &lt;/head&gt;
  &lt;body&gt;

    &lt;!-- ## Basic Usage --&gt;
    &lt;!--
      A responsive brightcove video. The required data is `data-account` and `data-video-id`. Other
      supported parameters are `data-player-id`, `data-embed` and `data-playlist-id`.
    --&gt;
    &lt;amp-brightcove
      data-account="1752604059001"
      data-video-id="5715315990001"
      data-player-id="H1xW7NWcz"
      layout="responsive"
      width="16" height="9"&gt;
    &lt;/amp-brightcove&gt;

  &lt;/body&gt;
  &lt;/html&gt;</code>   </pre>
    </section>
    <section class="bcls-section">
        <h2 id="Features">功能</h2>
        <p>雖然 AMP 文件中討論了一些特別重要的功能，這裡有一些特別重要的功能：</p>
        <!-- These are features that are common to both Video Cloud and external videos -->
        <!-- THIS SECTION CAN BE ADDED TO THEN COPIED TO SIMILAR SECTION IN EXTERNAL VIDEO FEATURES SECTION -->

        <h3 id="Custom_parameters">自訂參數</h3>
        <p>您可能想要將其他資訊傳遞給您的播放器，以便您的外掛程式存取。您可以通過在必須命名的<code translate="No">amp-brightcove</code>元素上添加額外的屬性來完成此操作<code translate="No">data-param-*</code>，其中<code translate="No">*</code>是您的財產的名稱。</p>
        <p>參數被傳遞為駱駝套裝的屬性名稱附加到播放器 URL。鍵和值是 URL 編碼的。例如：</p>
        <ul>
            <li><code translate="No">data-param-language="de"</code>變成<code translate="No">&amp;language=de</code>   </li>
            <li><code translate="No">data-param-ad-vars="key:val;key2:val2"</code>變成<code translate="No">&amp;adVars=key%3Aval%3Bkey2%3Aval2</code>   </li>
        </ul>
        <h3 id="dock">Dock (子母畫面)</h3>
        <p>該<code translate="No">dock</code>屬性將「停靠」播放器時，它將被滾動到視野外。播放器是由較小和移動附近的網頁的右上角。請注意，HTML 標準將此功能稱為<strong>子母畫面</strong>。停駐播放器的螢幕擷取畫面如下：</p>
        <figure class="bcls-figure"><img class="bcls-image" alt="dock" src="/assets/images/amp/amp-vc-amp-dock.png" /></figure>
        <p>要實現此功能，您需要執行以下操作：</p>
        <ol>
            <li>包含包含停駐功能程式碼的指令碼，如下列第 2 行的程式碼片段所示。</li>
            <li>將<code translate="No">dock</code>屬性加入至標<code translate="No">&lt;amp-brightcove&gt;</code>籤，如第 13 行所示。</li>
        </ol>
        <pre class="line-numbers" data-start="1">
  <code class="language-html" translate="No">...
      <span class="bcls-highlight">&lt;script async custom-element="amp-video-docking" src="https://cdn.ampproject.org/v0/amp-video-docking-0.1.js"&gt;&lt;/script&gt;</span>
  &lt;/head&gt;
  &lt;body&gt;

  ...
      &lt;amp-brightcove
      data-account="1752604059001"
      data-video-id="5715315990001"
      data-player-id="H1xW7NWcz"
      layout="responsive"
      width="16" height="9"
      <span class="bcls-highlight">dock</span>&gt;
    &lt;/amp-brightcove&gt;
    ...</code>   </pre>
        <h3>外部反向連結支援</h3>
        <p>布萊特灣播放器 v6.25.0+ 支持在 iframe 上設置任意引用。AMP 組件現在支持通過其自己的反向連結傳遞給玩家，通過添加一個<code translate="No">referrer="EXTERNAL_REFERRER"</code>屬性它們的放大亮度嵌入。</p>
        <p>外部參照者是 AMP 自己的宏-有關更多信息，請參閱<a href="https://github.com/ampproject/amphtml/blob/19135a3aac7813a9ff263a9f863fe35aeb316582/spec/amp-var-substitutions.md#external-referrer">  https://github.com/ampproject/amphtml/blob/19135a3aac7813a9ff263a9f863fe35aeb316582/spec/amp-var-substitutions.md#external-referrer </a>。</p>
        <h3>AMP 分析</h3>
        <p>一個<strong>amp-analytics</strong>組件可用於 AMP 文檔以跟踪數據以進行任意分析。如果發佈商希望包含視頻活動，他們現在可以這樣做。</p>
        <p>AMP 關於 AMP 分析語法的文檔（這很麻煩）在這裡：<a href="https://www.ampproject.org/docs/reference/components/amp-analytics">  https://www.ampproject.org/docs/reference/components/amp-analytics </a>。特別是視訊分析：<a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/amp-video-analytics.md">  https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/amp-video-analytics.md </a>。</p>
        <p>有一個範例可用，追蹤到<strong>  example.com，</strong>因此您會在網路索引標籤中看到信標為錯誤：<a href="http://solutions.brightcove.com/bclifford/ampexamples/analytics.html">  http://solutions.brightcove.com/bclifford/ampexamples/analytics.html </a>。</p>
        <h3>AMP 繫結</h3>
        <p>AMP 綁定是 AMP 的 API 組件之間的交互。在基本層面上，它允許您擁有播放器外部的東西來控制播放。例如，以下代碼將播放視頻，其中<code translate="No">myPlayer</code>是個<code translate="No">id</code> amp-brightcove 播放器。</p>
        <pre class="line-numbers">
    <code class="language-html" translate="No">&lt;button on="tap:myPlayer.play"&gt;Play&lt;/button&gt;</code>   </pre>
        <p>AMP 不信任視頻事件，所以你目前無法做一些更有用的事情，例如在視頻端。這裡有一個例子：<a href="http://solutions.brightcove.com/bclifford/ampexamples/bind.html">  http://solutions.brightcove.com/bclifford/ampexamples/bind.html </a>。</p>
        <!-- END OF COMMON FEATURES -->
        <!-- These are features unique to Video Cloud videos and NOT shared with external videos -->

<!--         <h3>Advertising</h3>
        <p>Advertising, including prerolls, works in players used in AMP. The ad plugin and its configuration just needs to be included in the player's configuration. If you need to include article-specific values in your ad server calls, you can pass custom data through to a player plugin as described later in this document.</p>
        <p>AMP is very strict in what can be added to a valid AMP page, as detailed in the <a href="/amp/amp-using-video-cloud-video.html">AMP Using a Video Cloud Video</a> document. For example, you CANNOT use the standard practice of adding an <code translate="No">id</code> to the <code translate="No">amp-brightcove</code> tag then use a <code translate="No">script</code> block to configure, for instance, the IMA3 plugin. To reiterate, advertising must be implemented in the player's configuration, either using Studio or the Player Management API.</p>
        <p>If you wish to use ad configuration URLs that utilize an ad macro such as <code translate="No">{pageVariable.<span class="bcls-highlight">adId</span>}</code>, you must alter the player's configuration. You can use a custom parameter like:</p>
        <pre class="line-numbers">
  <code class="language-html" translate="No">data-param-ad-id="preonlybumper"</code></pre>
        <p>This does not make the value automatically available to the ad macro <code translate="No">{pageVariable.adId}</code>. To make the <code translate="No">ad-id/adId</code> property available to the ad URL, you must use Brightcove Player's <a href="/general/player-configuration-guide.html#query_string_to_window">query_string_to_window</a> configuration option. This option controls the population of the global namespace (window) variables from query string parameters. To add all query parameters to the global namespace, add the following to your player configuration:
            <pre class="line-numbers">
<code class="language-bash" translate="No">"query_string_to_window": {
  "target": "queryStringParams"
}</code></pre>
            <p>Note the <code translate="no">queryStringsParams</code> name is the "variable" in which the parameters will be stored, and you can change the name as you choose.</p>
            <p>If for some reason you prefer to only assign limited parameters to the global namespace you can do so. For instance, to make only the <code class="language-html" translate="No">data-param-<span class="bcls-highlight">ad-id</span>="..."</code> available to the plugin, you add the following to the player configuration:</p>
            <pre class="line-numbers">
<code class="language-bash" translate="No">"query_string_to_window": {
  "globals": [
    "adId"
  ]
}</code></pre>
            <p>For specific instructions on updating a player configuration see <a href="https://apis.support.brightcove.com/player-management/references/reference.html#operation/UpdatePlayerConfiguration">Player Configurations - Update a Player Configuration</a> from the Player Management API reference.</p>
 -->            <h3>設定播放器樣式</h3>
            <p>如果你想要風格播放器，你必須使用特殊的語法來做到這一點。例如，如果您想要設定播放器的大小，您可以建立一個<code translate="No">style</code>區塊<code translate="No">div</code>，如下所示：</p>
            <pre class="line-numbers">
  <code class="language-html" translate="No">&lt;style <span class="bcls-highlight">amp-custom</span>&gt;
    .player-container {
      width: 640px;
      height: 360px;
    }
  &lt;/style&gt;&lt;/code&gt;&lt;/pre&gt;

  ...

  &lt;div class="player-container"&gt;
    &lt;amp-brightcove
      data-account="1752604059001"
      data-video-id="5715315990001"
      data-player-id="H1xW7NWcz"
      layout="responsive"
      width="16" height="9"&gt;
    &lt;/amp-brightcove&gt;
  &lt;/div&gt;</code>   </pre>
            <p>您可以新增單一<code translate="No">style</code>標籤，但必須包含<code translate="No">amp-custom</code>屬性。</p>
    </section>

    <section class="bcls-section">
        <h2 id="Error_suppression">機器人的錯誤抑制</h2>
        <p>當不支援 AMP 的機器人瀏覽包含 AMP 視訊播放程式的網頁時，就會產生失敗的視訊錯誤。這樣會傷害 SEO 排名。您可以使用 Brightcove 播放器的 JSON 配置中的<code translate="No">suppressNotSupportedError</code>選項來阻止這種情況發生。添加以下內容以抑制這些偽錯誤：</p>
        <pre class="line-numbers"><code class="language-json" translate="No">"suppress_not_supported_error": true</code>   </pre>
        <aside class="bcls-aside bcls-aside--warning">要使用此功能，您必須使用布萊特灣播放器版本 6.38.4 或更高版本。</aside> 
    </section>

</article>