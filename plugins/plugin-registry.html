---
title:插件註冊表
description: '在本主題中，您將了解如何使用插件註冊表來跟踪和管理 Brightcove Player 正在使用的插件。'
parent: Plugins
---

<!-- 
  This content appears on:
  
  https://player.support.brightcove.com/plugins/plugin-registry.html

  https://apis.support.brightcove.com/player-management/guides/plugin-registry.html

  If you update in one place, you MUST update it in all!
 -->

 <h1>{{ page.title }}</h1>
 <article class="bcls-article">
  <summary>{{ page.description }}</summary>
  <section class="bcls-section">
    <h2 id="What_is_the_Plugin_Registry">什麼是插件註冊表？</h2>
    
    <p>插件註冊表是播放器管理 API 的一部分，專門用於存儲有關 Brightcove 插件的信息。註冊表用作每個存儲插件的所有版本以及與每個插件相關聯的腳本和样式表的參考。播放器配置利用插件註冊表，顯示當前插件版本，還允許您指定插件版本。</p>
    
    <aside class="bcls-aside bcls-aside--information">插件註冊表在 Player Management API 的第 2 版中實現。</aside>
    </section>
    
    <section class="bcls-section">
    <h2 id="Advantages">好處</h2>
    
    <p>插件註冊表對 Brightcove Player 用戶的優勢有三方面：</p>
    
    <ul>
      <li>您可以準確查看播放器使用的插件版本，以及與該特定插件版本關聯的特定 JavaScript 和 CSS 文件。</li>
      <li>您可以將插件配置為在發布與您的播放器版本兼容的新版本時自動更新。</li>
      <li>如果出於某種原因您選擇將播放器保留在特定的播放器版本上，則鎖定該播放器時，您的插件將保持在相同的特定版本上。您不必擔心插件升級到與您的播放器版本不兼容的版本。</li>
    </ul>
    </section>
    
    <section class="bcls-section">
    <h2 id="Current_eligible_plugins">當前合格的插件</h2>
    
    <p>下表顯示了 Brightcove 提供的與插件註冊表一起使用的插件。這<strong>插件註冊表 ID</strong>將與播放器配置和播放器管理 API 一起使用。本文檔中將顯示許多示例。</p>
    
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>插件名稱</th>
          <th>插件註冊表ID</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>Adobe Analytics播放器</td>
          <td>@brightcove/videojs-bc-aa</td>
        </tr>
        <tr>
          <td>Chromecast接收器</td>
          <td>@brightcove/videojs-chromecast-receiver</td>
        </tr>
        <tr>
          <td>定制端屏</td>
          <td>@brightcove/videojs-custom-endscreen</td>
        </tr>
        <tr>
          <td>數字版權管理</td>
          <td>@brightcove/videojs-drm</td>
        </tr>
        <tr>
          <td>Google Analytics Player</td>
          <td>@brightcove/videojs-bc-ga</td>
        </tr>
        <tr>
          <td>IMA3廣告</td>
          <td>@brightcove/videojs-ima3</td>
        </tr>
        <tr>
          <td>覆蓋</td>
          <td>@brightcove/videojs-overlay</td>
        </tr>
        <tr>
          <td>畫中畫</td>
          <td>@brightcove/videojs-pip</td>
        </tr>
        <tr>
          <td>播放列表界面</td>
          <td>@brightcove/videojs-bc-playlist-ui</td>
        </tr>
        <tr>
          <td>質量選擇菜單</td>
          <td>@brightcove/videojs-quality-menu</td>
        </tr>
        <tr>
          <td>社會的</td>
          <td>@brightcove/videojs-social</td>
        </tr>
        <tr>
          <td>SSAI</td>
          <td>@brightcove/videojs-ssai</td>
        </tr>
        <tr>
          <td>Tealium 播放器插件</td>
          <td>@brightcove/videojs-bc-tealium</td>
        </tr>
      </tbody>
    </table>
    </section>
    
    <section class="bcls-section">
    <h2 id="Specify_use_of_a_plugin">指定插件的使用</h2>
    
    <p>要指定插件的使用，在您的播放器創建中，您只需提供所需插件的註冊表 ID。您必須指定一個版本號，或者是一個會自動更新的主要版本（例如<strong>2.x</strong> ) 或次要版本（例如<strong>2.0.10</strong> ) 不會自動更新。有關設置版本的詳細信息將在本文檔的後面出現。您還可以提供<code translate="No">options</code>對於插件，如果有的話。</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl \
      --header "Content-Type: application/json" \
      --user $EMAIL \
      --request POST \
      --data '{
        "name": "Plugin Registry Test Player",
        "configuration": {
          "video_cloud": {
            "video": "4093372393001"
          },
          <span class="bcls-highlight">"plugins": [
           {
              "registry_id": "@brightcove/videojs-custom-endscreen",
              "version": "2.x",
              "options": { "content": "&lt;strong&gt;Content&lt;/strong&gt; for &lt;em&gt;custom&lt;/em&gt; end screen" }
           }
          ]</span>
        }
      }' \
      https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players</code>
          </pre>
    
    <p>播放器管理API返回有關創建的播放器的信息。您可以使用<strong>網址</strong>返回值，更改<strong>索引.html</strong>到<strong>配置文件</strong>並瀏覽該 URL 以查看已發布播放器的配置。</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "id": "rkGD9W22Ob",
      "url": "<span class="bcls - highlight ">http://players.brightcove.net/1507807800001/rkGD9W22Ob_default/index.html</span>",
      "embed_code": "&lt;iframe src='//players.brightcove.net/1507807800001/rkGD9W22Ob_default/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;",
      "embed_in_page": "http://players.brightcove.net/1507807800001/rkGD9W22Ob_default/in_page.embed",
      "preview_url": "http://preview-players.brightcove.net/v2/accounts/1507807800001/players/rkGD9W22Ob/preview/embeds/default/master/index.html",
      "preview_embed_code": "&lt;iframe src='//preview-players.brightcove.net/v2/accounts/1507807800001/players/rkGD9W22Ob/preview/embeds/default/master/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;"
    }</code></pre>
    
    <p>在發布的播放器的配置中，您會看到插件上的信息。請注意，將顯示該插件的特定版本，以及JavaScript和CSS文件的相應值。</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "account_id": "1507807800001",
      "compatibility": true,
      "embed_id": "default",
      "player": {
        "template": {
          "name": "single-video-template",
          "version": "6.7.0"
        }
      },
      "player_id": "SyITgzdjb",
      "player_name": "Plugin Registry Test Player",
      <span class="bcls-highlight">"plugins": [{
        "injected_version": "2.0.10",
        "name": "customEndscreen",
        "registry_id": "@brightcove/videojs-custom-endscreen",
        "version": "2.x"
      }],
      "scripts": [
        "//players.brightcove.net/videojs-custom-endscreen/2.0.10/videojs-custom-endscreen.min.js"
      ],
      "stylesheets": [
        "//players.brightcove.net/videojs-custom-endscreen/2.0.10/videojs-custom-endscreen.css"
      ]</span>,
      "updated_at": "2017-09-26T17:39:10.080Z",
      "video_cloud": {
        "policy_key": "BCpkADawqM3hOj9I_wRb6jx7SLoklIm8eiW-MH1C0CO5xnf8ndABL7WJQOVdWIusPlnfKUD5EZvjHyJOQGeCFndODaM7CRz4h4GxUTLN3OmO7dTcLnxS3cYrXOZx4eaqaSbVFDx1yFTvWX7m",
        "video": "4093372393001"
      }
    }</code></pre>
    
    <aside class="bcls-aside bcls-aside--information">根據您的播放器使用的模板版本，注入的腳本和样式表可能出現在播放器配置的頂層或嵌套在<strong>插件</strong>目的。</aside>
    </section>
    
    <section class="bcls-section">
    <h2 id="Specify_specific_major_version">指定特定的主要版本</h2>
    
    <p>您可以將播放器配置為針對特定應用使用最新版本的插件<strong>重大的</strong>與您使用的播放器兼容的版本。當您這樣做時，並且發布了插件的次要版本，插件將自動更新到最新的次要版本。</p>
    
    <p>例如，如果您希望播放器包含適用於以下設備的自定義端屏幕插件的最新兼容版本：<strong>主要版本2</strong>的插件，您將使用以下命令：</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl \
      --header "Content-Type: application/json" \
      --user $EMAIL \
      --request POST \
      --data '{
        "name": "Plugin Registry Test Player",
        "configuration": {
          "video_cloud": {
            "video": "4093372393001"
          },
          "plugins": [
            {
              "registry_id": "@brightcove/videojs-custom-endscreen",
              <span class="bcls-highlight">"version": "2.x"</span>
            }
          ]
        }
      }' \
      https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players</code></pre>
    
    <p>生成的配置將類似於以下內容：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">"plugins": [{
      "injected_version": "2.0.10",
      "name": "customEndscreen",
      "registry_id": "@brightcove/videojs-custom-endscreen",
      "version": "2.x"
    }],
    "scripts": [
      "//players.brightcove.net/videojs-custom-endscreen/2.0.10/videojs-custom-endscreen.min.js"
    ],
    "stylesheets": [
      "//players.brightcove.net/videojs-custom-endscreen/2.0.10/videojs-custom-endscreen.css"
    ],</code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="Specify_specific_version">指定具體版本</h2>
    
    <p>您可以指定要使用的插件的特定版本。如果執行此操作，則插件在任何情況下都不會自動更新，因此，如果需要，您將必須手動更新。</p>
    
    <aside class="bcls-aside bcls-aside--tip">如果您已鎖定播放器版本，如<a href="https://studio.support.brightcove.com/players/setting-player-update-mode-and-version.html">設置播放器更新模式和版本</a>文檔，與該播放器關聯的插件也將被版本鎖定。</aside>
    
    <p>要鎖定插件的版本，只需在創建播放器時指定版本：</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl \
      --header "Content-Type: application/json" \
      --user $EMAIL \
      --request POST \
      --data '{
        "name": "Plugin Registry Test Player",
        "configuration": {
          "video_cloud": {
            "video": "4093372393001"
          },
          "plugins": [
            {
              "registry_id": "@brightcove/videojs-overlay",
              <span class="bcls-highlight">"version": "1.0.2"</span>
            }
          ]
        }
      }' \
      https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players</code>
          </pre>
    
    <p>播放器配置將反映特定版本以及 JavaScript 和 CSS 文件：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">"plugins": [{
      "name": "overlay",
      "registry_id": "@brightcove/videojs-overlay",
      <span class="bcls-highlight">"version": "1.0.2"</span>
    }],
    "scripts": [
      <span class="bcls-highlight">"//players.brightcove.net/videojs-overlay/1.0.2/videojs-overlay.min.js"</span>
    ],
    "stylesheets": [
      <span class="bcls-highlight">"//players.brightcove.net/videojs-overlay/1.0.2/videojs-overlay.css"</span>
    ],</code>
          </pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="Non-compatible_assignments">不兼容的分配</h2>
    
    <p>如果您嘗試將不兼容的插件分配給播放器，或更改播放器的版本，以使先前分配的插件不再兼容，則會發生錯誤。此處詳細說明了錯誤。</p>
    
    <h3>將插件分配給不兼容的播放器</h3>
    
    <p>如果在創建或更新播放器的任何時間嘗試指定與播放器版本不兼容的插件版本，都會收到錯誤消息。例如，這是嘗試將不兼容的舊插件分配給新播放器時來自API的響應：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "message": "There are no versions of the plugin that match the specified major version. The major version specified was 1.x for plugin @brightcove/videojs-bc-playlist-ui",
      "error_code": "PLAYER_MANAGEMENT_ERROR",
    }</code>
          </pre>
    
    <h3>更改播放器版本，使其與插件不兼容</h3>
    
    <p>如果您嘗試更改現有播放器的版本，並且該播放器已經具有與該播放器的新分配版本不兼容的插件，則會收到類似於以下內容的錯誤：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "error_code":"APPLICATION_ERROR",
      "message":"plugin \"@brightcove/videojs-ima3\" is not compatible with template 5.28.1"
    }
    </code></pre>
    </section>
    
    <section class="bcls-section">
    <h2 id="Studio_configured_plugin">Studio 配置的插件</h2>
    
    <p>如果通過Studio加載了插件，則該插件將在插件註冊表中反映新功能：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "account_id": "1507807800001",
      "compatibility": true,
      "embed_id": "default",
      "player": {
        "template": {
          "name": "single-video-template",
          "version": "6.7.0"
        }
      },
      "player_id": "SJajDfuiW",
      "player_name": "Plugin Registry Studio Configuration",
      <span class="bcls-highlight">"plugins": [{
        "injected_version": "2.0.10",
        "name": "customEndscreen",
        "options": {
          "content": "&lt;h3&gt;This is the endscreen content&lt;/h3&gt;"
        },
        "registry_id": "@brightcove/videojs-custom-endscreen",
        "version": "2.x"
      }],
      "scripts": [
        "//players.brightcove.net/videojs-custom-endscreen/2.0.10/videojs-custom-endscreen.min.js"
      ],
      "stylesheets": [
        "//players.brightcove.net/videojs-custom-endscreen/2.0.10/videojs-custom-endscreen.css"
      ]</span>,
      "updated_at": "2017-09-26T18:09:31.940Z",
      "video_cloud": {
        "policy_key": "BCpkADawqM3YPJvvfxBgJNEGrPjTPoOw0LyCbiTPnDGtAVExTzXeAW3hcRtPpS8tNeSiA9MosLG076eMXWO8E2Lxv-V7mq1oTIgqK7Xf0HBP_TEm1i-e5zRN_VIW_SjFagYpRxuoM8btiEoD",
        "video": null
      }
    }</code>
          </pre>
    
    <p>如您在播放器配置中所見，將使用主要版本行為更新Studio中加載的插件，即，將自動應用次要版本更新。</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="Updating_registry_information">更新註冊表信息</h2>
    
    <p>您可以使用標準程序更新播放器的插件註冊表信息。例如，以下curl語句使用HTTP <code translate="No">PATCH </code>將插件從特定版本更改為主要版本更新行為的方法：</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl \
      --header "Content-Type: application/json" \
      --user $EMAIL \
      --request PATCH \
      --data '{
        "plugins": [{
          "registry_id": "@brightcove/videojs-custom-endscreen",
          "version": "2.x"
        }]
      }' \
      https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players/$PLAYER_ID/configuration</code>
          </pre>
    
    <p>請記住，進行更改後必鬚髮布您的播放器。</p>
    </section>
    
    <section class="bcls-section">
    <h2 id="Plugin_registry_API">插件註冊表API</h2>
    
    <p>播放器管理 API 中添加了兩個新端點，可以從註冊表中檢索插件信息，為您提供以下功能：</p>
    
    <ul>
      <li>檢索註冊表中的所有插件。</li>
      <li>檢索有關特定插件的信息。</li>
    </ul>
    
    <h3>獲取所有插件</h3>
    
    <p>使用以下命令檢索有關當前在註冊表中的插件的信息。</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl \
      --header "Content-Type: application/json" \
      --user $EMAIL \
      --request GET \
      https://players.api.brightcove.com/v2/plugins</code>
          </pre>
    
    <aside class="bcls-aside bcls-aside--tip">注意：在表單中添加查詢字符串<code translate="No">?template_version=$SVTVERSION </code>到端點將導致響應僅包含與指定的單個視頻模板版本兼容的插件版本。例如，要僅獲取與 Brightcove Player 模板 6.7.0 兼容的插件版本，請使用<code translate="No">?template_version=6.7.0 </code> .</aside>
    
    <p>返回的信息將類似於以下內容：</p>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">[{
      "documentation": "https://support.brightcove.com/configuring-adobe-analytics-event-tracking",
      "description": "Adobe Analytics Player Plugin",
      "id": "@brightcove/videojs-bc-aa",
      "name": "bcAa",
      "current_version": "1.x"
    }, {
      "documentation": "https://support.brightcove.com/configuring-google-analytics-event-tracking",
      "description": "Google Analytics Player Plugin",
      "id": "@brightcove/videojs-bc-ga",
      "name": "bcGa",
      "current_version": "1.x"
    }, {
      "documentation": "https://support.brightcove.com/google-tag-manager-plugin-brightcove-player",
      "description": "Google Tag Manager Player Plugin",
      "id": "@brightcove/videojs-bc-gtm",
      "name": "bcGtm",
      "current_version": "1.x"
    }, {
      "documentation": "https://support.brightcove.com/playlist-ui-plugin",
      "description": "Brightcove customizations to videojs-playlist-ui",
      "id": "@brightcove/videojs-bc-playlist-ui",
      "name": "bcPlaylistUi",
      "current_version": "3.x"
    }, {
      "documentation": "https://support.brightcove.com/tealium-plugin-brightcove-player",
      "description": "Tealium Player Plugin",
      "id": "@brightcove/videojs-bc-tealium",
      "name": "bcTealium",
      "current_version": "1.x"
    }, {
      "documentation": "https://support.brightcove.com/beta-chromecast-plugin-brightcove-player",
      "description": "A Chromecast Receiver plugin for the Brightcove Player",
      "id": "@brightcove/videojs-chromecast-receiver",
      "name": "chromecastReceiver",
      "current_version": "1.x"
    }, {
      "documentation": "https://support.brightcove.com/custom-endscreen-plugin",
      "description": "Custom endscreens for video.js.",
      "id": "@brightcove/videojs-custom-endscreen",
      "name": "customEndscreen",
      "current_version": "2.x"
    }, {
      "documentation": "https://support.brightcove.com/configuring-brightcove-player-drm",
      "description": "Cross-browser support for MPEG-DASH w/ DRM using dash.js and silverlight and HLS Fairplay DRM",
      "id": "@brightcove/videojs-drm",
      "name": "eme",
      "current_version": "5.x"
    }, {
      "documentation": "https://support.brightcove.com/advertising-ima3-plugin",
      "description": "Google Interactive Media Ads (IMA) v3 support for video.js",
      "id": "@brightcove/videojs-ima3",
      "name": "ima3",
      "current_version": "3.x"
    }, {
      "documentation": "https://support.brightcove.com/display-overlay-plugin",
      "description": "Overlay for video.js.",
      "id": "@brightcove/videojs-overlay",
      "name": "overlay",
      "current_version": "2.x"
    }, {
      "documentation": "https://support.brightcove.com/picture-picture-plugin-aka-floating-or-pinned",
      "description": "A plugin for enabling a Picture-In-Picture mode for the Brightcove Player",
      "id": "@brightcove/videojs-pip",
      "name": "pip",
      "current_version": "1.x"
    }, {
      "documentation": "https://support.brightcove.com/manual-rendition-selection-plugin",
      "description": "Quality Selection Menu UI",
      "id": "@brightcove/videojs-quality-menu",
      "name": "qualityMenu",
      "current_version": "1.x"
    }, {
      "documentation": "https://support.brightcove.com/social-media-plugin",
      "description": "Social sharing integrations for video.js.",
      "id": "@brightcove/videojs-social",
      "name": "social",
      "current_version": "3.x"
    }, {
      "documentation": "https://support.brightcove.com/advertising-ssai-plugin",
      "description": "A plugin for the Brightcove Player implementing playback of SSAI streams.",
      "id": "@brightcove/videojs-ssai",
      "name": "ssai",
      "current_version": "1.x"
    }]</code>
          </pre>
    
    <h3>獲取特定的插件信息</h3>
    
    <p>使用以下命令檢索有關特定插件的信息。請注意，插件名稱必須是URL編碼，因此，<code translate="No">@brightcove/videojs-ima3 </code>用<code translate="No">%40brightcove%2fvideojs-ima3 </code>。</p>
    
    <pre class="line-numbers">
    <code class="language-bash" translate="No">curl \
      --header "Content-Type: application/json" \
      --user $EMAIL \
      --request GET \
      https://players.api.brightcove.com/v2/plugins/%40brightcove%2fvideojs-ima3</code>
          </pre>
    
    <p>返回的信息將類似於以下內容：</p>
    
    <aside class="bcls-aside bcls-aside--information">返回的不同版本詳細信息僅供參考。如本文檔前面所示，您不需要這些信息來進行插件配置。</aside>
    
    <pre class="line-numbers">
    <code class="language-json" translate="No">{
      "versions": [{
        "scripts": ["//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js"],
        "stylesheets": ["//players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css"],
        "version_number": "3.x",
        "minimum_template_version": "6.0.0"
      }, {
        "minimum_template_version": "5.0.0",
        "version_number": "2.x",
        "stylesheets": ["//players.brightcove.net/videojs-ima3/2/videojs.ima3.min.css"],
        "scripts": ["//players.brightcove.net/videojs-ima3/2/videojs.ima3.min.js"]
      }, {
        "minimum_template_version": "1.14.0",
        "version_number": "1.x",
        "stylesheets": ["//players.brightcove.net/videojs-ima3/1/videojs.ima3.min.css"],
        "scripts": ["//players.brightcove.net/videojs-ima3/1/videojs.ima3.min.js"]
      }],
      "documentation": "https://support.brightcove.com/advertising-ima3-plugin",
      "description": "Google Interactive Media Ads (IMA) v3 support for video.js",
      "id": "@brightcove/videojs-ima3",
      "name": "ima3",
      "current_version": "3.x"
    }</code></pre>
    
    <p>儘管此響應中未顯示，但您也可以看到<code translate="No">before_template-version </code>屬性和相應的值。這將出現在較舊的插件中，並設置與該插件版本兼容的最新播放器模板版本。這<code translate="No">minimum_template_version </code>和<code translate="No">before_template-version </code>共同設置插件兼容的播放器模板版本的範圍。</p>
    </section>
    </article>