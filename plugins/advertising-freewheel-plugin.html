---
title:使用 Freewheel 外掛程式進行廣告
description: '在本主題中，您將學習如何使用 Freewheel 外掛程式來啟用影片播放廣告，以及如何使用 Studio 和自訂編碼來實作廣告'
parent: Plugins
---
 <h1>{{ page.title }}</h1>   
<article class="bcls-article">
    <summary>{{ page.description }} </summary>

  <style type="text/css">
內嵌框架{ width: 640px; height: 360px; } .video-js { width: 450px; height: 240px; float: left; margin: 15px; } .vjs-播放列表{ width: 250px; float: left; margin: 15px; }
</style>
  <section class="bcls-section">
    <h2 id="Overview">概述</h2>
    <p>這個插件為布萊特灣播放器中的 HTML5 提供飛輪廣告技術。</p>
    <!-- <p>This plugin enables FreeWheel ad technology, for HTML5, in Brightcove Player. The default rendering option for the FreeWheel plugin is set to <strong translate="No">Html5</strong> (for more information see the <code translate="No">adTechOrder</code> option below).</p> -->
  </section>
  <section class="bcls-section">
    <h2 id="Using_versions_of_the_plugin">使用外掛程式的版本</h2>
    <p>使用 Freewheel 外掛程式時，您需要使用版本化的網址。</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>版本</th>
          <th>類型</th>
          <th>版本化的 URL</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td rowspan="3">最新版本</td>
          <td>JS</td>
          <td><code translate="No">https://players.brightcove.net/videojs-freewheel/3/videojs-freewheel.min.js</code>   </td>
        </tr>
        <tr>
          <td>CSS</td>
          <td><code translate="No">https://players.brightcove.net/videojs-freewheel/3/videojs-freewheel.min.css</code>   </td>
        </tr>
        <!-- <tr>
          <td>SWF *</td>
          <td><code translate="No">https://players.brightcove.net/videojs-freewheel/3/videojs.freewheel.swf</code></td>
        </tr> -->
      </tbody>
    </table>
    <!-- <aside class="bcls-aside bcls-aside--information">* Compatible with FreeWheel Flash Plugin version 6.4.6</aside> -->
    
    <p>作為參考，插件的版本在<a href="/plugins/plugin-version-reference.html">插件版本參考</a>文檔。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Testing_the_ad_server">測試廣告伺服器</h2>
    <p>您應該做的第一件事是驗證您打算使用的廣告代碼的有效性。請確定您已複製其 URL 並瀏覽至以下頁面：<a target="_blank" rel="noopener noreferrer" href="//vi.freewheel.tv/apc/dropzone">廣告預覽器</a>  (按一下此連結會讓頁面在新視窗或分頁中開啟)。</p>
    <p>將廣告標籤網址貼到指定的表格輸入欄位中。按一下「在廣告預覽器中<strong translate="No">開啟」</strong>。一個彈出式標題<strong translate="No">在廣告預覽器中打開</strong>將顯示，然後單擊<strong translate="No">打開</strong>按鈕來測試您的廣告。按一下 [ <strong translate="No">播放</strong> ]，如果正常運作，您的廣告會與影片一起顯示。如果您的廣告代碼在這個測試環境中無法運作，它將無法與 Brightcove 播放程式搭配使用。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Using_the_correct_SDK_URL">使用正確的 SDK 網址</h2>
    <aside class="bcls-aside bcls-aside--warning">在 SDK 版本 6.24 之前，自由輪提供了一個「自動升級」網址到最新版本的 JS AdManger SDK。此 URL 始終指向最新版本的 SDK。這已經不再是這種情況。</aside> 
    <p>接下來的兩個部分提供了實作 Freewheel 的替代方案。在這兩個部分中，您將使用<code translate="No">sdkurl</code>   .在過去，您可以簡單地使<code translate="No">http://adm.fwmrm.net/p/[]/AdManager.js</code>用該選項的值，並知道它將指向最新版本的 FreeWwheel SDK。現在，您需要輸入指向特定版本的 URL，例如<code translate="No">https://mssl.fwmrm.net/libs/adm/6.24.0/AdManager.js</code>。<strong>此外</strong>，在初始設置之後，如果您希望使用最新版本的 Freewheel，您還需要在 Freewheel 發行更新版本的 SDK 時更新該值。請注意，完成這項變更後，您將需要重新發佈您的 Brightcove 播放器。</p>
    <p>如果您沒有更新 URL 並繼續使用自動升級 URL，您將永遠指向 6.23 版。</p>
    <p>您可能想要在他們的 Brightcove 播放器集成中管理自己的 SDK 版本。這涉及將<code translate="No">Html5.sdkurl</code>選項傳遞給 Freewheel 插件：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.FreeWheelPlugin({
  Html5: {
    sdkurl: '  <em>preferred-sdk-url</em>'
  }
});</code>  </pre>
  </section>
  <section class="bcls-section">
    <h2 id="Implement_using_Players_module">使用播放器模組實作</h2>
    <p>若要使用播放器模組來實作 Freewheel 外掛程式，請依照下列步驟執行：</p>
    <ol class="bcls-tasklist">
      <li>打開<strong>球員</strong>模塊並創建一個新播放器或找到您希望添加插件的播放器。</li>
      <li>按一下播放程式的連結以開啟播放程式的屬性。</li>
      <li>點擊<strong>插件</strong>在左側導航菜單中。</li>
      <li>從<strong>新增外掛程式</strong>下拉式清單中，選取<strong>自訂外掛程式</strong>。
        <figure class="bcls-figure">
          <img class="bcls-image" alt="Select Plugin" src="/assets/images/plugins/freewheel/custom-plugin.png" />
        </figure>
      </li>
      <li>在「<strong>外掛程式名稱</strong>」中輸入<code translate="No">FreeWheelPlugin</code>。</li>
      <li><strong>在這個</strong>網址中，輸入：
        <pre>
<code class="language-json" translate="No">https://players.brightcove.net/videojs-freewheel/3/videojs-freewheel.min.js</code>   </pre>
      </li>
      <li>對於<strong>  CSS </strong>網址，請輸入：
        <pre>
<code class="language-json" translate="No">https://players.brightcove.net/videojs-freewheel/3/videojs-freewheel.min.css</code>   </pre>
      </li>
      <li>在 [選<strong>項 (JSON)] </strong>文字方塊中輸入組態選項。表單中提供的選項可設定 FreeWwheel 提供的播放技術，其中<code translate="No">Flash</code>和<code translate="No">Html5</code>配置區段的位置。<a href="#exampleconfiguration">下面顯示了一個稍微改變的（基於安全原因）完整的配置</a>。存根示例如下所示：
        <pre class="line-numbers">
<code class="language-json" translate="No">{
  "Html5": {
    "sdkurl": "https://mssl.fwmrm.net/libs/adm/<span class="bcls-highlight">{LATEST_VERSION}</span>/...",
    "serverUrl": "http://cue.v.fwmrm.net/..."
    "profile": "3aaa_profile",
    ...
  }
}</code>   </pre>
<!-- <code class="language-json" translate="No">{
  "adTechOrder": ["html5"],
  "Flash": {
    "sdkurl": "https://mssl.fwmrm.net/libs/adm/<span class="bcls-highlight">{LATEST_VERSION}</span>/...",
    "serverUrl": "http://cue.v.fwmrm.net/..."
    "profile": "3aaa_profile",
    ...
  },
  "Html5": {
    "sdkurl": "https://mssl.fwmrm.net/libs/adm/<span class="bcls-highlight">{LATEST_VERSION}</span>/...",
    "serverUrl": "http://cue.v.fwmrm.net/..."
    "profile": "3aaa_profile",
    ...
  }
}</code></pre> -->
      </li>
      <li>按一下「<strong>儲存」</strong>。</li>
      <li>若要發佈播放程式，請按一下「<strong>發佈與內嵌」&gt;「發佈變更」</strong>。</li>
      <li>若要關閉開啟對話方塊，請按一下「<strong>關閉」</strong>。</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Implement_using_code">使用程式碼實作</h2>
    <p>要實現插件的播放器需要知道插件代碼的位置，如果需要的話，插件名稱和插件配置選項的樣式表。插件代碼和樣式表的位置如下：</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">https://players.brightcove.net/videojs-freewheel/3/videojs-freewheel.min.js
https://players.brightcove.net/videojs-freewheel/3/videojs-freewheel.min.css</code>   </pre>
    <p>外掛程式的名稱是<code translate="No">FreeWheelPlugin</code>。選項配置播放技術，其中<code translate="No">Flash</code>和<code translate="No">Html5</code>配置部分由 FreeWheel 提供。<a href="#exampleconfiguration">下面顯示了一個稍微改變的（基於安全原因）完整的配置</a>。存根示例如下所示：</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">{
  Html5: {
    sdkurl: "https://mssl.fwmrm.net/libs/adm/<span class="bcls-highlight">{LATEST_VERSION}</span>/...",
    serverUrl: "http://cue.v.fwmrm.net/..."
    profile: "3aaa_profile",
    ...
}</code>   </pre>
<!-- <code class="language-json" translate="No">{
  adTechOrder: ["html5"],
  Flash: {
    sdkurl: "https://mssl.fwmrm.net/libs/adm/<span class="bcls-highlight">{LATEST_VERSION}</span>/...",
    serverUrl: "http://cue.v.fwmrm.net/..."
    profile: "3aaa_profile",
    ...
  },
  Html5: {
    sdkurl: "https://mssl.fwmrm.net/libs/adm/<span class="bcls-highlight">{LATEST_VERSION}</span>/...",
    serverUrl: "http://cue.v.fwmrm.net/..."
    profile: "3aaa_profile",
    ...
}</code></pre> -->
    <p>以下顯示使用播放程式的「頁內嵌」實作，將 FreeWewheel 外掛程式與播放器的單一實體建立關聯。</p>
    <ul>
      <li>第 90 行：使用<code translate="No">link</code>標籤在 HTML 頁面中包含外掛程式<code translate="No">head</code>的 CSS。</li>
      <li>第 92 行：給標<code translate="No">video</code>籤一個<code translate="No">id</code>屬性，具有一定的值，在這種情況下<strong translate="No">  MyPlayerID </strong>。</li>
      <li>第 100 行：使用<code translate="No">script</code>標籤將外掛程式的 JavaScript 包含在<code translate="No">body</code>    HTML 網頁中。</li>
      <li>第一行：初始化插件並傳入自定義選項。</li>
      <li>第 107 行：建立對播放程式的參考。</li>
    </ul>
    <pre class="line-numbers" data-start="90">
<code class="language-html" translate="No">&lt;link href="https://players.brightcove.net/videojs-freewheel/3/videojs-freewheel.min.css" rel="stylesheet"&gt;

&lt;video-js id="myPlayerID"
  data-account="3676484086001"
  data-player="8fb8f3c6-5b2b-471f-953c-56d65267ff11"
  data-embed="default"
  class="video-js" controls&gt;&lt;/video-js&gt;

&lt;script src="https://players.brightcove.net/3676484086001/8fb8f3c6-5b2b-471f-953c-56d65267ff11_default/index.min.js"&gt;&lt;/script&gt;

&lt;script src="https://players.brightcove.net/videojs-freewheel/3/videojs-freewheel.min.js"&gt;&lt;/script&gt;

&lt;script&gt;
  var myPlayer;

  videojs.getPlayer('myPlayerID').ready(function() {
    // get a reference to the player
    myPlayer = this;

    // initialize the FreeWheel plugin
    myPlayer.FreeWheelPlugin({
      Html5: {
        sdkurl: "https://mssl.fwmrm.net/libs/adm/<span class="bcls-highlight">{LATEST_VERSION}</span>/...",
        serverUrl: "http://cue.v.fwmrm.net/..."
        profile: "3aaa_profile",
        ...
      }
    });
  });
&lt;/script&gt;</code>   </pre>

<!-- myPlayer.FreeWheelPlugin({
  adTechOrder: ["html5"],
  Flash: {
    sdkurl: "https://mssl.fwmrm.net/libs/adm/<span class="bcls-highlight">{LATEST_VERSION}</span>/...",
    serverUrl: "http://cue.v.fwmrm.net/..."
    profile: "3aaa_profile",
    ...
  },
  Html5: {
    sdkurl: "https://mssl.fwmrm.net/libs/adm/<span class="bcls-highlight">{LATEST_VERSION}</span>/...",
    serverUrl: "http://cue.v.fwmrm.net/..."
    profile: "3aaa_profile",
    ...
  }
}); -->
  </section>
  <!-- <section class="bcls-section">
    <h2 id="Rendering_options">Rendering options</h2>
    <p>The following table shows the Tech in which the FreeWheel plugin will render an ad (column 3) based on Tech selections in Brightcove Player (column 1) and the <code translate="No">adTechOrder</code> set in the plugin (column 2).</p>
    <table class="bcls-table">
      <tbody class="bcls-table__body">
        <tr>
          <th>Brightcove Player<br />
            Selected Tech</th>
          <th>FreeWheelPlugin adTechOrder</th>
          <th>FreeWheel Plugin<br />
            Selected Ad Tech</th>
        </tr>
        <tr>
          <td>html5</td>
          <td>["flash","html5"]</td>
          <td>flash</td>
        </tr>
        <tr>
          <td>html5</td>
          <td>["html5","flash"]</td>
          <td>html5</td>
        </tr>
        <tr>
          <td>html5</td>
          <td>["html5"]</td>
          <td>html5</td>
        </tr>
        <tr>
          <td>html5</td>
          <td>["flash"]</td>
          <td>flash</td>
        </tr>
        <tr>
          <td>flash</td>
          <td>["flash","html5"]</td>
          <td>flash</td>
        </tr>
        <tr>
          <td>flash</td>
          <td>["html5","flash"]</td>
          <td>flash</td>
        </tr>
        <tr>
          <td>flash</td>
          <td>["html5"]</td>
          <td>Not possible</td>
        </tr>
        <tr>
          <td>flash</td>
          <td>["flash"]</td>
          <td>flash</td>
        </tr>
      </tbody>
    </table>
    <aside class="bcls-aside bcls-aside--information">Note: For the best user experience when delivering midrolls, you should use a segmented delivery format like HLS and deliver your content from a CDN that supports byte­range requests.</aside>
  </section> -->
  <section class="bcls-section">
    <h2 id="Configuration">組態</h2>
    <p>下列設定用於配置 FreeWewheel 外掛程式：</p>
    <aside class="bcls-aside bcls-aside--information">由於 Brightcove 播放器不再支援 Flash，因此<code translate="No">adTechOrder</code>和<code translate="No">Flash</code>選項不適用。</aside> 
    <ul>
      <li><strong translate="No">廣告訂單</strong>：
        
        <ul>
          <li>類型：<code translate="No">Array</code>預設值：<code translate="No">["html5"]</code>   </li>
          <li>陣列包含要嘗試使用的廣告整合技術，依遞減優先順序排列。</li>
        </ul>
      </li>
      <li><strong translate="No">快閃記憶體</strong>：
        <ul>
          <li>類型：<code translate="No">Object</code>   </li>
          <li>技術特定飛輪配置的物件（由飛輪提供）。物件包含下列選項：
            <!-- <aside class="bcls-aside bcls-aside--information">These options can either be set dynamically (shown <a href="#Dynamic_server_URL_assignment">here</a>) or as part of the initial configuration (shown <a href="#exampleconfiguration">here</a>).</aside> -->
          </li>
          <li><strong translate="No">斯福爾</strong>：
            <ul>
              <li>類型：<code translate="No">string</code>預設值：<code translate="No">https://players.brightcove.net/videojs-freewheel/3/videojs.freewheel.swf</code>    (與快閃開發套件相容)</li>
              <li>可選值可以根據 Freewheel 閃光外掛程式版本使用。這些值可以在本文件頂端附近的 [ <strong translate="No">使用外掛程式版本</strong> ] 區段中找到。</li>
              <li>必須是<code translate="No">Flash</code>物件的子屬性。如果使用 Flash 廣告技術，則會直接套用至物件元素。</li>
            </ul>
          </li>
          <li><strong translate="No">自動播放</strong>：
            <ul>
              <li>類型：<code translate="No">boolean</code>預設值：<code translate="No">true</code>   </li>
              <li>指出內容是否自動播放。</li>
              <li>必須是<code translate="No">Flash</code>物件的子屬性。如果使用 Flash 廣告技術，則會直接套用至物件元素。</li>
            </ul>
          </li>
          <li><strong translate="No">未參與遊戲</strong>：
            <ul>
              <li>類型：<code translate="No">boolean</code>預設值：<code translate="No">false</code>   </li>
              <li>當設定<code translate="No">autoPlay</code>為 true 時，<code translate="No">unattendedPlay</code>表示使用者是否知道自動播放。</li>
              <li>必須是<code translate="No">Flash</code>物件的子屬性。如果使用 Flash 廣告技術，則會直接套用至物件元素。</li>
            </ul>
          </li>
          <li><strong translate="No">訪客自訂</strong>：
            <ul>
              <li>類型：<code translate="No">string</code>預設值：<code translate="No">unset</code>   </li>
              <li>允許發佈商傳遞廣告請求的自訂訪客 ID。當設置時，這個值將在請求有效載荷的訪問者塊<strong translate="No">中傳遞為自定義 =「自定義米德 _001" </strong>。該 ID 將在回應開啟訪客標籤中的廣告請求作為屬性返回：<strong translate="No">自定義中 =「Customid_001" </strong>。</li>
              <li>必須是<code translate="No">Flash</code>物件的子屬性。如果使用 Flash 廣告技術，則會直接套用至物件元素。</li>
            </ul>
          </li>
        </ul>
      </li>
      <li><strong translate="No"> HTML5 </strong>：
        <ul>
          <li>類型：<code translate="No">Object</code>   </li>
          <li>技術特定飛輪配置的物件（由飛輪提供）。物件包含下列選項：<aside class="bcls-aside bcls-aside--information">這些選項可以動態設定 (如<a href="#Dynamic_server_URL_assignment">下所示</a> )，也可以做為初始組態的一部分 (如<a href="#exampleconfiguration">下所示</a> )。</aside> 
          </li>
          <li><strong translate="No">自動播放類型</strong>：
            <ul>
              <li>類型：<code translate="No">integer</code>預設值：<code translate="No">1</code>   </li>
              <li>表示內容視訊將會自動播放，且使用者知道內容正在自動播放。</li>
              <li>傳入 AutoPlayType 的值會設定傳送至 Freewheel 廣告伺服器的廣告請求網址中的旗標，且可以是三個整數值之一，這些值與相關的 Freewheel SDK 常數相同：
                <ul>
                  <li><strong translate="No"> 1: 電視自由輪. 視訊資產 _ 自動播放類型</strong> :方法<code translate="No">autoPlay</code>是<strong translate="No">真的</strong>和<code translate="No">unattendedPlay</code>是<strong translate="No">錯誤的</strong> .這設置標誌 = <strong translate="No">  + 遊戲-無論如何</strong>。</li>
                  <li><strong translate="No"> 2：自由輪。視頻資產自動播放類型</strong>：表示<code translate="No">autoPlay</code>是<strong translate="No">真實的</strong>，<code translate="No">unattendedPlay</code>也是<strong translate="No">如此</strong>。這設置標誌 = <strong translate="No">  + 播放 +UAPL </strong>。</li>
                  <li><strong translate="No"> 3：自由輪。視頻資產 _ 自動播放類型無</strong>：表示<code translate="No">autoPlay</code>是<strong translate="No">假的</strong>，<code translate="No">unattendedPlay</code><strong translate="No">未設定</strong>。這設置標誌 = <strong translate="No"> -播放</strong>。</li>
                </ul>
              </li>
              <li>必須是<code translate="No">Html5</code>物件的子屬性。如果使用 Html5 廣告技術，這將直接套用至物件元素。</li>
            </ul>
          </li>
          <li><strong translate="No">訪客自訂</strong>：
            <ul>
              <li>類型：<code translate="No">string</code>預設值：<code translate="No">(optional)</code>   </li>
              <li><code translate="No">visitorCustomId</code>此選項可讓發佈商傳遞廣告請求的自訂訪客 ID。設定後，這個值會在廣告請求 URL 中傳遞為查詢字串<strong translate="No">  VCID = 自訂密碼</strong>。該 ID 將返回訪問者 JSON 塊中的廣告請求作為<strong translate="No">「自定義」：「自訂 _001」</strong>。</li>
              <li>必須是<code translate="No">Html5</code>物件的子屬性。如果使用 Html5 廣告技術，這將直接套用至物件元素。</li>
            </ul>
          </li>
          <li id="subsessionToken"><strong translate="No">子階段作業權杖</strong>：
            <ul>
              <li>類型：<code translate="No">int</code>預設值：<code translate="No">(optional)</code>   </li>
              <li>該<code translate="No">subsessionToken</code>選項允許發布者使用給定的令牌啟動子會話。設定後，這個值會在廣告請求網址中傳遞為查詢字串：
                <pre>
<code class="language-javascript" translate="No"><strong translate="No">ssto=1234567890</strong></code>   </pre>
              </li>
              <li>必須是<code translate="No">Html5</code>物件的子屬性。如果使用 Html5 廣告技術，這將直接套用至物件元素。<aside class="bcls-aside bcls-aside--information">注意：<code translate="No">subsessionToken</code>若要正常運作，您也必須在的廣告請求中包含功能<code translate="No">[flag=+sync]</code>做為參數。</aside> 
              </li>
            </ul>
          </li>
          <li id="compatibleDimensions"><strong translate="No">相容維度</strong>：
            <ul>
              <li>類型：<code translate="No">array</code>預設值：<code translate="No">(optional)</code>   </li>
              <li>
                <p><code translate="No">compatibleDimensions</code>此選項允許發佈者傳遞相容尺寸陣列。例如：</p>
                <pre>
<code class="language-javascript" translate="No">compatibleDimensions: [ {width: A, height: B}, {width: X, height: Y} ]</code>   </pre>
                <p>設定後，這個值會在廣告請求網址中傳遞為查詢字串：</p>
                <pre>
<code class="language-javascript" translate="No"><strong translate="No">cd=widthA,heightA|widthX,heightY</strong></code>   </pre>
              </li>
              <li>必須是<code translate="No">Html5</code>物件的子屬性。如果使用 Html5 廣告技術，這將直接套用至物件元素。</li>
            </ul>
          </li>
        </ul>
      </li>
      <li id="loadWithCookie"><strong translate="No">使用 Cookie 載入</strong>：
        <ul>
          <li>類型：<code translate="No">boolean</code>預設值：<code translate="No">false</code>   </li>
          <li>啟用或停用 VAST 請求的 Cookie。</li>
        </ul>
      </li>
      <li id="reqestAdsMode"><strong translate="No">請求管理模式</strong>：
        <ul>
          <li>類型：<code translate="No">string</code>預設值：<code translate="No">onload</code>   </li>
          <li>屬性的可能值為：
            <ul>
              <li><code translate="No">onload</code>：當播放器完全載入時，系統會要求廣告。</li>
              <li><code translate="No">onplay</code>：影片開始播放時，無論是使用者啟動或自動播放，都會要求廣告。</li>
              <li><code translate="No">oncue</code>：我們會在提示點的開始時間要求廣告。使用此屬性時，還要注意：
                <ul>
                  <li>只有在<code translate="No">useMediaCuePoints</code>屬性也設定為時才能運作<code translate="No">true</code>。</li>
                  <li>影片雲端廣告提示點必須在內容影片上設定。見<a href="https://studio.support.brightcove.com/media/working-cue-points-media-module.html">在媒體模塊中使用提示點</a>有關如何在內容視頻中創建提示點的說明的文檔。</li>
                  <li>如果有一個<code translate="No">temporalSlots</code>選項下<code translate="No">Flash</code>或者<code translate="No">Html5</code>屬性，該設置將被忽略。</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
        <aside class="bcls-aside bcls-aside--warning">注意：在 Freewheel 外掛程式中使用提示點廣告時，不支援推出後廣告。</aside> 
      </li>
      <li><strong translate="No">使用媒體點</strong>：
        <ul>
          <li>類型：<code translate="No">boolean</code>預設值：<code translate="No">false</code>   </li>
          <li>必須設定為 true，才能使用影片雲端廣告提示點來觸發廣告。必須與<code translate="No">requestAdsMode: 'oncue'</code>屬性和指定的值一起使用。</li>
        </ul>
      </li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="Ad_macros">廣告巨集</h2>
    <p>有廣告巨集可讓您在設定 Freewheel 時更輕鬆地進行工作。廣告巨集會以組態中任何位置的對應值取代。</p>
    <p>以下是將使用替代值的變數的完整清單：</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width:30%">巨集</th>
          <th style="width:60%">描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>{player.id} </td>
          <td>玩家 ID</td>
        </tr>
        <tr>
          <td>{mediainfo.id} </td>
          <td>視訊識別碼</td>
        </tr>
        <tr>
          <td>{mediainfo.name} </td>
          <td>影片標題</td>
        </tr>
        <tr>
          <td>{mediainfo.description} </td>
          <td>簡短說明 (最多 250 個字元)</td>
        </tr>
        <tr>
          <td>{mediainfo.tags} </td>
          <td>與視訊相關聯的標籤 (中繼資料)</td>
        </tr>
        <tr>
          <td>{mediainfo.reference_id} </td>
          <td>參考識別碼</td>
        </tr>
        <tr>
          <td>{mediainfo.duration} </td>
          <td>視訊雲端報告的影片持續時間</td>
        </tr>
        <tr>
          <td>{mediainfo.ad_keys} </td>
          <td>可以在 Studio 的媒體模組中新增和編輯的任意格式文字字串；您應該使用表單中的查詢參數
            <pre class="line-numbers">
<code class="language-javascript" translate="No">cust_params={mediainfo.ad_keys}</code>   </pre></td>
        </tr>
        <tr>
          <td>{player.duration} </td>
          <td>播放器測量的視頻持續時間（可能<code translate="No">mediainfo.duration</code>與稍微不同，可能更準確）</td>
        </tr>
        <tr>
          <td>{document.referrer} </td>
          <td>參照頁面網址</td>
        </tr>
        <tr>
          <td>{window.location.href} </td>
          <td>目前的網頁 URL</td>
        </tr>
        <tr>
          <td>{player.url} </td>
          <td>玩家的網址</td>
        </tr>
        <tr>
          <td>{timestamp} </td>
          <td>自 1/1/70 以來的目前本地時間 (以毫秒為單位)</td>
        </tr>
        <tr>
          <td>{random} </td>
          <td>一個隨機數 0-1 萬億</td>
        </tr>
      </tbody>
    </table>
    <aside class="bcls-aside bcls-aside--information"> 
      <p>注意：如果您希望使用視訊 ID 做為 Freewheel <code translate="No">videoAssetCustomId</code>，您可以使用<code translate="No">{mediainfo.id}</code>廣告巨集來執行此動作。例如，在下面的配置中，您可以執行以下操作：</p>
      <pre class="line-numbers">
<code class="language-javascript" translate="No">'videoAssetCustomId' = '{mediainfo.id}';</code>   </pre>
      <p>一個 Freewheel 配置問題需要注意：如果<code translate="No">Asset ID</code>在伺服器的 Freewheel 廣告管理器設定中未設定視訊<strong translate="No">  ID，則會傳回錯誤訊息</strong>。</p>
    </aside> /
  </section>
  <section class="bcls-section">
    <h2 id="exampleconfiguration">組態範例</h2>
    <aside class="bcls-aside bcls-aside--information"> 
      <p>注意：如果您需要在配置中使用 HTTPS URL，請將以下內容替換為此文檔中的配置中顯示的 URL：</p>
      <table class="bcls-table">
        <tbody class="bcls-table__body">
          <tr>
            <td>SDK 網址</td>
            <!-- <td>https://mssl.fwmrm.net/p/release/latest-AS3/adm/prd/AdManager.swf<br />
              https://mssl.fwmrm.net/p/release/latest-JS/adm/prd/AdManager.js</td> -->
              <td>https://mssl.fwmrm.net/p/release/latest-JS/adm/prd/AdManager.js</td>
          </tr>
          <tr>
            <td>伺服器 URL</td>
            <td>https://cue.v.fwmrm.net/ad/g/1</td>
          </tr>
        </tbody>
      </table>
    </aside> 
    <p>&nbsp; </p>
    <pre class="line-numbers">
<code class="language-json" translate="No">"plugins": [{
  "name": "FreeWheelPlugin",
  "options": {
    "Html5": {
      "keyValues": [{
        "feature": "simpleAds",
        "module": "DemoPlayer"
      }, {
        "feature": "trackingURLs"
      }],
      "networkId": 99999,
      "profile": "global-js",
      "sdkurl": "https://mssl.fwmrm.net/libs/adm/<span class="bcls-highlight">{LATEST_VERSION}</span>/...",
      "serverUrl": "http://cue.v.fwmrm.net/ad/h/5",
      "siteSectionCustomId": "<strong translate="No">your value here</strong>",
      "temporalSlots": [{
        "adUnit": "preroll",
        "id": "Preroll_1",
        "timePosition": 0
      }, {
        "adUnit": "postroll",
        "id": "Postroll_1",
        "timePosition": 60
      }, {
        "adUnit": "overlay",
        "id": "Overlay_1",
        "timePosition": 5
      }],
      "videoAssetCustomId": "<strong translate="No">your value here</strong>",
      "videoAssetDuration": 500
    },
    "debug": true,
    "prerollTimeout": 1000,
    "timeout": 5000
  }
}]</code>   </pre>

<!-- "Flash": {
  "networkId": 99999,
  "profile": "2aaa_profile",
  "sdkurl": "https://mssl.fwmrm.net/libs/adm/<span class="bcls-highlight">{LATEST_VERSION}</span>/...",
  "serverUrl": "http://cue.v.fwmrm.net/ad/h/5",
  "siteSectionCustomId": "<strong translate="No">your value here</strong>",
  "swfurl": "https://players.brightcove.net/videojs-freewheel/3/videojs.freewheel.swf",
  "temporalSlots": [{
    "adUnit": "preroll",
    "id": "Preroll_1",
    "timePosition": 0
  }, {
    "adUnit": "postroll",
    "id": "Postroll_1",
    "timePosition": 60
  }, {
    "adUnit": "midroll",
    "id": "Midroll_1",
    "timePosition": 5
  }, {
    "adUnit": "overlay",
    "id": "Overlay_1",
    "timePosition": 10
  }],
  "videoAssetCustomId": "<strong translate="No">your value here</strong>",
  "videoAssetDuration": 500
},

"adTechOrder": [
      "flash",
      "html5"
    ], -->
  </section>
  <section class="bcls-section">
    <h2 id="Events">活動</h2>
    <p>插件在加載，初始化和播放過程中發出一些自定義事件類型。您可以像處理任何其他事件一樣聆聽廣告架構事件：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.on('ads-ad-started', function(event) {
  console.log('event', event);
});</code>   </pre>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width:35%">事件</th>
          <th style="width:65%">傳送時間：</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>廣告-請求</td>
          <td>根據要求提供廣告資料。</td>
        </tr>
        <tr>
          <td>廣告載入</td>
          <td>在廣告請求後有可用的廣告資料時。</td>
        </tr>
        <tr>
          <td>廣告-廣告開始</td>
          <td>廣告已開始播放。</td>
        </tr>
        <tr>
          <td>廣告-廣告</td>
          <td>廣告已經播放完畢。</td>
        </tr>
        <tr>
          <td>廣告-暫停</td>
          <td>廣告已暫停。</td>
        </tr>
        <tr>
          <td>廣告播放</td>
          <td>廣告會從暫停中繼續。</td>
        </tr>
        <tr>
          <td>廣告-第一四分位</td>
          <td>廣告播放了其總持續時間的 25%。</td>
        </tr>
        <tr>
          <td>廣告-中點</td>
          <td>廣告播放了其總持續時間的 50%。</td>
        </tr>
        <tr>
          <td>廣告-第三四分位</td>
          <td>廣告播放的總持續時間的 75%。</td>
        </tr>
        <tr>
          <td>廣告-按一下</td>
          <td>觀眾點擊播放廣告。</td>
        </tr>
        <tr>
          <td>廣告-磁碟區變更</td>
          <td>播放廣告的音量已變更。</td>
        </tr>
        <tr>
          <td>廣告-網格已啟動</td>
          <td>線性廣告網繭 (已排序的廣告群組) 中的第一個廣告已開始。</td>
        </tr>
        <tr>
          <td>廣告-網格端</td>
          <td>線性廣告網繭 (已排序的廣告群組) 中的最後一個廣告已完成。</td>
        </tr>
        <tr>
          <td>廣告-完成</td>
          <td>所有線性廣告都已完成播放。</td>
        </tr>
        <tr>
          <td>廣告請求之前</td>
          <td>此事件會公開在播放程式物件上，並在提交廣告請求之前觸發。通常它用於播放列表的內容中，通過以下方式更新 Free輪配置設置：<code translate="No">player.FreeWheelPlugin.settings.Html5</code>或<code translate="No">player.FreeWheelPlugin.settings.Flash</code>   </td>
        </tr>
      </tbody>
    </table>
  </section>
  <section class="bcls-section">
    <h2 id="Dynamic_server_URL_assignment">動態伺服器 URL 指派</h2>
    <p>您可以使用<code translate="No">fw-before-ad-request</code>事件來動態指派伺服器 URL。您將使用該<code translate="No">on()</code>方法來監聽廣告請求，然後分配所需的服務器 URL。當然，您需要在代碼中為佔位符提供所需的服務器 URL：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.on('fw-before-ad-request', function () {
  player.FreeWheelPlugin.settings.Html5.serverUrl = '[your server url]'
  player.FreeWheelPlugin.settings.Flash.serverUrl = '[your server url]'
})</code>   </pre>
    <p>如果您先前已設定伺服器 URL，顯示的程式碼將覆寫先前的組態。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Demos">示範</h2>
    <!-- <p>The following demos use slightly different FreeWheel configurations and the resulting player. Both configurations will play a pre-roll, a mid-roll at 5 seconds and then a post-roll. The configurations are the same, except that the <code translate="No">adtechOrder</code> is different. In the first demo <code translate="No">html5</code> is first, as shown here:</p> -->
    <p>這個示範將播放前卷，在 5 秒後播放一個中卷，然後播放一個後卷。設定<code translate="No">adTechOrder</code>為<code translate="No">html5</code>第一個，如下所示：</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">"adTechOrder": [
  "html5",
  "flash"
],</code>   </pre>
    <!-- <p>In the second the order is reversed.</p> -->
    <h3>廣告科技順序:html5, 閃光燈</h3>
    <p>這個演示使用<code translate="No">html5</code>第一個在<code translate="No">adtechOder</code>   .</p>
    <iframe src="https://players.brightcove.net/1752604059001/24351871-efb6-4c3a-9002-dc8acd9192c6_default/index.html?videoId=4172255216001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe>
    <p>以下是與播放器使用的實際配置。請注意，這可以用於工作室的<strong translate="No">選項</strong>值。</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "Flash": {
    "networkId": 90750,
    "profile": "3pqa_profile",
    "sdkurl": "https://mssl.fwmrm.net/libs/adm/<span class="bcls-highlight">{LATEST_VERSION}</span>/...",
    "serverUrl": "//cue.v.fwmrm.net/ad/g/1",
    "siteSectionCustomId": "<strong translate="No">your value here</strong>",
    "swfurl": "https://players.brightcove.net/videojs-freewheel/3/videojs.freewheel.swf",
    "temporalSlots": [{
      "adUnit": "preroll",
      "id": "Preroll_1",
      "timePosition": 0
    }, {
      "adUnit": "postroll",
      "id": "Postroll_1",
      "timePosition": 60
    }, {
      "adUnit": "midroll",
      "id": "Midroll_1",
      "timePosition": 5
    }],
    "videoAssetCustomId": "<strong translate="No">your value here</strong>",
    "videoAssetDuration": 500
  },
  "Html5": {
    "keyValues": [{
      "feature": "simpleAds",
      "module": "DemoPlayer"
    }, {
      "feature": "trackingURLs"
    }],
    "networkId": 96749,
    "profile": "global-js",
    "sdkurl": "https://mssl.fwmrm.net/libs/adm/<span class="bcls-highlight">{LATEST_VERSION}</span>/...",
    "serverUrl": "//demo.v.fwmrm.net/ad/g/1",
    "siteSectionCustomId": "<strong translate="No">your value here</strong>",
    "temporalSlots": [{
      "adUnit": "preroll",
      "id": "Preroll_1",
      "timePosition": 0
    }, {
      "adUnit": "postroll",
      "id": "Postroll_1",
      "timePosition": 60
    }, {
      "adUnit": "midroll",
      "id": "Midroll_1",
      "timePosition": 5
    }],
    "videoAssetCustomId": "<strong translate="No">your value here</strong>",
    "videoAssetDuration": 500
  },
  "adTechOrder": [
    "html5",
    "flash"
  ],
  "debug": true,
  "prerollTimeout": 1000,
  "timeout": 5000
}</code>   </pre>
    <!-- <h3>adtech order: flash, html5</h3>
    <p>This demo uses <code translate="No">flash</code> first in the <code translate="No">adtechOder</code>.</p>
    <iframe src="https://players.brightcove.net/1752604059001/616d343c-33f6-45c3-8484-b889eb8095e1_default/index.html?videoId=4172255216001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe>
    <p>Following is the actual configuration used with the player. Note that this can be used for the <strong translate="No">options</strong> value in Studio.</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "Flash": {
    "networkId": 90750,
    "profile": "3pqa_profile",
    "sdkurl": "https://mssl.fwmrm.net/libs/adm/<span class="bcls-highlight">{LATEST_VERSION}</span>/...",
    "serverUrl": "http://cue.v.fwmrm.net/ad/g/1",
    "siteSectionCustomId": "<strong translate="No">your value here</strong>",
    "temporalSlots": [{
      "adUnit": "preroll",
      "id": "Preroll_1",
      "timePosition": 0
    }, {
      "adUnit": "postroll",
      "id": "Postroll_1",
      "timePosition": 60
    }, {
      "adUnit": "midroll",
      "id": "Midroll_1",
      "timePosition": 5
    }],
    "videoAssetCustomId": "<strong translate="No">your value here</strong>",
    "videoAssetDuration": 500
  },
  "Html5": {
    "keyValues": [{
      "feature": "simpleAds",
      "module": "DemoPlayer"
    }, {
      "feature": "trackingURLs"
    }],
    "networkId": 96749,
    "profile": "global-js",
    "sdkurl": "https://mssl.fwmrm.net/libs/adm/<span class="bcls-highlight">{LATEST_VERSION}</span>/...",
    "serverUrl": "http://cue.v.fwmrm.net/ad/g/1",
    "siteSectionCustomId": "<strong translate="No">your value here</strong>",
    "temporalSlots": [{
      "adUnit": "preroll",
      "id": "Preroll_1",
      "timePosition": 0
    }, {
      "adUnit": "postroll",
      "id": "Postroll_1",
      "timePosition": 60
    }, {
      "adUnit": "midroll",
      "id": "Midroll_1",
      "timePosition": 5
    }],
    "videoAssetCustomId": "<strong translate="No">your value here</strong>",
    "videoAssetDuration": 500
  },
  "adTechOrder": [
    "flash",
    "html5"
  ],
  "debug": true,
  "prerollTimeout": 1000,
  "timeout": 5000
}</code></pre> -->
    <h3>播放清單</h3>
    <p>此示範使用 HTML 第一個配置與播放清單。您會在播放清單中看到每個影片的預捲、5 秒鐘的中捲，以及播放後的影片。</p>
    <iframe src="https://players.brightcove.net/1752604059001/r1bhBb0Pe_default/index.html?playlistId=4845949311001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" width="428" height="150"></iframe>
  </section>
  <section class="bcls-section">
    <h2 id="Player_Ad_Libraries">播放器廣告庫</h2>
    <p>該視<a href="https://github.com/videojs/videojs-contrib-ads">頻/視頻的聯繫方式廣告</a>  GitHub 存儲庫包含一個插件，它提供了通過視頻廣告庫與布萊特灣播放器工作所需的共同功能。此外掛程式提供影片廣告整合所需的一般功能，並負責廣告整合商的許多問題，減少您為廣告整合所撰寫的程式碼。</p>
    <h3 id="contrib-ads-properties">性質</h3>
    <p><strong translate="No">視頻聯繫廣告</strong>提供了一些屬性，可以是有幫助的。它們是：</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>名稱</th>
          <th>資料類型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>廣告</td>
          <td>字串</td>
          <td>播放廣告的唯一識別碼</td>
        </tr>
        <tr>
          <td>廣告索引</td>
          <td>編號</td>
          <td>在指定時間播放的廣告索引；索引會識別廣告網繭中廣告的序數值</td>
        </tr>
        <tr>
          <td>廣告持續時間</td>
          <td>編號</td>
          <td>以秒為單位的廣告持續時間</td>
        </tr>
        <tr>
          <td>廣告類型</td>
          <td>字串</td>
          <td>可以是<strong translate="No">預捲</strong>、中<strong translate="No">音</strong>或<strong translate="No">後捲</strong> </td>
        </tr>
        <tr>
          <td>廣告目前時間 ()</td>
          <td>函數</td>
          <td>返回廣告播放的當前時間的函數</td>
        </tr>
      </tbody>
    </table>
    <p>下列程式碼會示範如何使用屬性：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">myPlayer.on('ads-ad-started',function( evt ){
  console.log('*****ads-ad-started event passed to event handler', evt);
<span class="bcls-highlight">  console.log('myPlayer.ads.ad.id',myPlayer.ads.ad.id);
  console.log('myPlayer.ads.ad.index',myPlayer.ads.ad.index);
  console.log('myPlayer.ads.ad.duration',myPlayer.ads.ad.duration);
  console.log('myPlayer.ads.ad.type',myPlayer.ads.ad.type);</span>
  setTimeout(function(){
    <span class="bcls-highlight">console.log('****myPlayer.ads.ad.currentTime()',myPlayer.ads.ad.currentTime());</span>
  },500);
  setTimeout(function(){
    <span class="bcls-highlight">console.log('****myPlayer.ads.ad.currentTime()',myPlayer.ads.ad.currentTime());</span>
  },1000);
});</code>   </pre>
    <p>從上面的代碼控制台中的輸出如下所示：</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="console of contrib-ads properties" src="/assets/images/plugins/freewheel/contrib-ads-properties.png" /></figure>
    <h3 id="contrib-ads-methods">方法</h3>
    <p><strong translate="No">視頻系統廣告</strong>提供了一些可以幫助的方法。它們是：</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>方法</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>中斷 ()</td>
          <td>這個方法返回 true，其中一個集成可能會播放廣告之間的開始線性模式和結束線性模式之間的時間。這是廣告模式的一部分。</td>
        </tr>
        <tr>
          <td>播放 ()</td>
          <td><strong translate="No">已停用</strong> </td>
        </tr>
        <tr>
          <td>內容建立 ()</td>
          <td>如果內容在廣告後繼續，則傳回 true。這是廣告模式的一部分。</td>
        </tr>
        <tr>
          <td>以下模式 ()</td>
          <td>如果播放器處於廣告模式，則傳回 true。</td>
        </tr>
      </tbody>
    </table>
  </section>
  <section class="bcls-section">
    <h2 id="Known_issues">已知問題</h2>
    
    <h3>使用飛輪動態重複使用同一個玩家</h3>
    <p>如果您要動態載入影片並重新使用相同的播放器，FreeWewheel 組態設定將會包含與 FreeEwheel 外掛程式實例化時所設定的值相同，但有兩個例外狀況。第一個例外是如果您使用的是廣告巨集。第二個例外是您可以使用更新設置<code translate="No">player.FreeWheelPlugin.settings.Html5</code>或者<code translate="No">player.FreeWheelPlugin.settings.Flash</code>在一個<code translate="No">fw-before-ad-request</code>事件。</p>
    <h3>在廣告播放期間調整播放器大小</h3>
    <p>如果播放廣告或影片播放期間調整播放器的大小，除非呼叫播放器的尺寸功能來調整播放器大小，否則廣告內容將不會調整大小。使用其他方法 (例如：樣式寬度和高度) 調整播放器大小，不會調整廣告大小。</p>
    <p>使<code translate="No">player.dimensions(width,height)</code>用調整播放器的大小時，您必須觸發<code translate="No">fw-resizeplayer</code>事件，以便插件知道尺寸已更改。這是因為某些 VPAID 廣告會保留廣告的預設尺寸，而且不會在播放器調整大小時自動調整大小。</p>
    <p>這是一個例子：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.dimensions(960,540);
player.trigger('fw-resizeplayer');</code>   </pre>
    <h3>重疊廣告</h3>
    <p>如果 Freewheel 外掛程式在 Flash 中顯示廣告，則無法點選重疊廣告。如果 Freewheel 外掛程式在 HTML5 中顯示廣告，則覆蓋不會以正確的座標顯示。按一下 HTML5 重疊廣告後，不會暫停內容播放程式。</p>
    <h3>即時飛輪</h3>
    <p>直播中的 Freewheel 廣告可以在<a href="https://www.brightcove.com/en/services">布萊特灣全球服務（BGS）的協助下實施</a>。</p>
    <h3>已付</h3>
    <p>如果廣告控制列已啟用，則無法透過 VPAD 控制項繼續廣告。</p>
  </section>
  <section class="bcls-section">
    <h2 id="changelog">變更記錄檔</h2>
    <p>請參閱 F <a href="http://players.brightcove.net/release-notes/brightcove-player-freewheel/index.html">  reewheel 外掛程式版本說明</a>。</p>
    <p>對於較舊版本，請參閱此處的<a href="/plugins/changelog/advertising-freewheel-plugin-changelog.html">變更記錄檔</a>。</p>
  </section>
</article>