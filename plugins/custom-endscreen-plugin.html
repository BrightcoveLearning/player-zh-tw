---
title:自定義 Endscreen 插件
description: '在本主題中，您將了解 Custom Endscreen 插件的使用以及如何使用 Studio 和通過自定義編碼來實現它。'
parent: Plugins
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
    <summary>{{ page.description }}</summary>

  <section class="bcls-section">
    <h2 id="Overview">概述</h2>
    <p>Custom Endscreen插件允許在視頻播放結束時顯示客戶提供的HTML。</p>
    <p>下面的示例視頻演示了Custom Endscreen插件的用法。在此短片的結尾，您將看到以下HTML格式顯示的文本：</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;strong&gt;Content&lt;/strong&gt; for &lt;em&gt;custom&lt;/em&gt; end screen</code></pre>
    <iframe src="https://players.brightcove.net/1752604059001/0b0bd7d7-6907-4e12-a644-747b38fab305_default/index.html?videoId=5701193190001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen="" allow="encrypted-media" width="640" height="360"></iframe>
  </section>
  <section class="bcls-section">
    <h2 id="Implement_using_Players_module">使用播放器模組實作</h2>
    <p>自定義最終屏幕可以通過以下方式實現<a href="https://studio.support.brightcove.com/players/configuring-player-endscreen.html">編輯端屏幕屬性</a>或使用自定義的最終屏幕插件。要使用Players模塊實現自定義的最終屏幕插件，請按照以下步驟操作：</p>
    <ol class="bcls-tasklist">
      <li>打開<strong>球員</strong>模塊並創建一個新播放器或找到您希望添加插件的播放器。</li>
      <li>單擊播放器的鏈接以打開播放器的屬性。</li>
      <li>點擊<strong>端屏</strong>在左側導航菜單中。</li>
      <li>接下來，對於<strong>播放器結束畫面</strong>類型，單擊向下箭頭並選擇<strong>風俗</strong>。</li>
      <li>在<strong>自定義HTML</strong>文本框。
        <pre class="line-numbers">
<code class="language-json" translate="No">{
  "content": "&lt;strong&gt;Content&lt;/strong&gt; for &lt;em&gt;custom&lt;/em&gt; end screen"
}</code></pre>
      </li>
      <li>點擊<strong>保存</strong>。</li>
      <li>若要發佈播放程式，請按一下「<strong>發佈與內嵌」&gt;「發佈變更」</strong>。</li>
      <li>若要關閉開啟對話方塊，請按一下「<strong>關閉」</strong>。</li>
    </ol>
  </section>
  <section class="bcls-section">
    <h2 id="Implement_using_code">使用程式碼實作</h2>
    <div class="video-cloud-only">
      <p>要實現插件的播放器需要知道插件代碼的位置，如果需要的話，插件名稱和插件配置選項的樣式表。插件代碼和樣式表的位置如下：</p>
      <pre class="line-numbers">
<code class="language-javascript" translate="No">https://players.brightcove.net/videojs-custom-endscreen/2/videojs-custom-endscreen.min.js</code></pre>
      <pre class="line-numbers">
<code class="language-javascript" translate="No">https://players.brightcove.net/videojs-custom-endscreen/2/videojs-custom-endscreen.css</code></pre>
      <p>插件的名稱是<code translate="No">customEndscreen</code>，而一組選項的示例是：</p>
      <pre class="line-numbers">
<code class="language-javascript" translate="No">{
  "content": "<strong>Content</strong> for <em>custom</em> end screen"
}</code></pre>
      <p>下圖顯示了使用播放器的頁內嵌入實現將自定義最終屏幕插件與播放器的單個實例相關聯。</p>
      <ul>
        <li>第12行：使用<code translate="No">link</code>標籤在 HTML 頁面中包含外掛程式<code translate="No">head</code>的 CSS。</li>
        <li>第十四行：給<code translate="No">video</code>標記一個<code translate="No">id</code>在這種情況下具有一些值的屬性<strong>myPlayerID</strong>。</li>
        <li>第23行：使用<code translate="No">script</code>標籤將外掛程式的 JavaScript 包含在<code translate="No">body</code>    HTML 網頁中。</li>
        <li>第27行：建立對播放程式的參考。</li>
        <li>第28-30行：初始化插件並傳遞自定義選項。</li>
      </ul>
      <pre class="line-numbers" data-start="12">
<code class="language-html" translate="No">  &lt;link rel="stylesheet" type="text/css" href="https://players.brightcove.net/videojs-custom-endscreen/2/videojs-custom-endscreen.css"&gt;

  &lt;video-js id="myPlayerID"
    data-account="1752604059001"
    data-player="decfdaf5-0a6e-43f6-82d3-39d125c413c4"
    data-embed="default"
    data-video-id="4077874637001"
    class="video-js" controls&gt;&lt;/video-js&gt;

  &lt;script src="https://players.brightcove.net/1752604059001/decfdaf5-0a6e-43f6-82d3-39d125c413c4_default/index.min.js"&gt;&lt;/script&gt;

  &lt;script type="text/javascript" src="https://players.brightcove.net/videojs-custom-endscreen/2/videojs-custom-endscreen.min.js"&gt;&lt;/script&gt;

  &lt;script type="text/javascript"&gt;
    videojs.getPlayer('myPlayerID').ready(function() {
      var myPlayer = this;
      myPlayer.customEndscreen({
        "content": "&lt;strong&gt;Content&lt;/strong&gt; for &lt;em&gt;custom&lt;/em&gt; end screen"
      })
    });
  &lt;/script&gt;</code></pre>
    </div>
    <div class="player-only">
      <p>要實現插件的播放器需要知道插件代碼的位置，如果需要的話，插件名稱和插件配置選項的樣式表。插件代碼和樣式表的位置如下：</p>
      <ul>
        <li>https://players.brightcove.net/videojs-custom-endscreen/2/videojs-custom-endscreen.min.js</li>
        <li>https://players.brightcove.net/videojs-custom-endscreen/2/videojs-custom-endscreen.css</li>
      </ul>
      <p>插件的名稱是<code translate="No">customEndscreen</code>，而一組選項的示例是：</p>
      <pre class="line-numbers">
<code class="language-javascript" translate="No">{
  "content": "<strong>Content</strong> for <em>custom</em> end screen"
}</code></pre>
      <p>下圖顯示了使用播放器的頁內嵌入實現將自定義最終屏幕插件與播放器的單個實例相關聯。</p>
      <ul>
        <li>第1行：使用<code translate="No">link</code>標籤在 HTML 頁面中包含外掛程式<code translate="No">head</code>的 CSS。</li>
        <li>第3行：給標<code translate="No">video</code>籤一個<code translate="No">id</code>屬性，具有一定的值，在這種情況下<strong>  MyPlayerID </strong>。</li>
        <li>第12行：使用<code translate="No">script</code>標籤將外掛程式的 JavaScript 包含在<code translate="No">body</code>    HTML 網頁中。</li>
        <li>第16行：建立對播放程式的參考。</li>
        <li>第七至十九號線：初始化插件並傳遞自定義選項。</li>
      </ul>
      <pre class="line-numbers" data-start="1">
<code class="language-html" translate="No">  &lt;link rel="stylesheet" type="text/css" href="https://players.brightcove.net/videojs-custom-endscreen/2/videojs-custom-endscreen.css"&gt;

  &lt;video-js id="myPlayerID"
    data-account="1752604059001"
    data-player="decfdaf5-0a6e-43f6-82d3-39d125c413c4"
    data-embed="default"
    class="video-js"
    controls&gt;&lt;/video-js&gt;

  &lt;script src="https://players.brightcove.net/1752604059001/decfdaf5-0a6e-43f6-82d3-39d125c413c4_default/index.min.js"&gt;&lt;/script&gt;

  &lt;script type="text/javascript" src="https://players.brightcove.net/videojs-custom-endscreen/2/videojs-custom-endscreen.min.js"&gt;&lt;/script&gt;

  &lt;script type="text/javascript"&gt;
    videojs.getPlayer('myPlayerID').ready(function() {
      var myPlayer = this;
      myPlayer.customEndscreen({
        "content": "&lt;strong&gt;Content&lt;/strong&gt; for &lt;em&gt;custom&lt;/em&gt; end screen"
      })
    });
  &lt;/script&gt;</code></pre>
    </div>
  </section>
  <section class="bcls-section">
    <h2 id="Property">財產</h2>
    <p>以下插件屬性用於控制“自定義最終屏幕"插件：</p>
    <ul>
      <li><code translate="No">content</code>：
        <ul>
          <li>類型：<code translate="No">string</code></li>
          <li>在自定義最終屏幕上呈現的任何字符串文字或HTML。</li>
        </ul>
      </li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="Customize_the_endscreen">自定義最終屏幕</h2>
    <p>您可以使用CSS定制終端屏幕的外觀。以下是一些您可以做什麼的示例。確保測試您的實現，以確保它們可以與您的頁面內容一起使用。</p>
    <aside class="bcls-aside bcls-aside--information">本節代碼使用相對定位，可以配合響應式播放器使用。要使您的播放器響應，請參閱<a href="/styling/responsive-sizing-brightcove-player.html">響應式尺寸</a>文檔或使用<strong>球員</strong>模塊來設置<strong>漿紗</strong>設置為<strong>反應靈敏</strong> .
    <p>這是帶有重新啟動視頻按鈕和社交分享按鈕的最終屏幕的顯示方式。</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="default custom endscreen" src="/assets/images/plugins/custom-endscreen/endscreen-default.png" /></figure>
    <h3>更改按鈕大小</h3>
    <p>假設您要更改端屏按鈕的大小。這些按鈕圖像是可伸縮矢量圖形（SVG）格式，因此它們可以在所有平台上快速加載。因此，您無法使用<code translate="No">width</code>和<code translate="No">height</code> CSS屬性。</p>
    <p>相反，由於這些按鈕是XML文本文件，因此您可以使用<code translate="No">font-size</code> CSS屬性。</p>
    <p>使用以下代碼使兩個按鈕變小：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">.vjs-overlay-buttons {
  font-size: .5em;
}</code></pre>
    <p>使用百分比值應具有相同的效果：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">.vjs-overlay-buttons {
  font-size: 50%;
}</code></pre>
    <p>結果應如下所示：</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="small endscreen buttons" src="/assets/images/plugins/custom-endscreen/endscreen-small-buttons.png" /></figure>
    <p>或者，您可以獨立控制每個按鈕的大小：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">.vjs-restart-control {
  font-size: .5em;
}
.vjs-trigger-social-control {
  font-size: .5em;
}</code></pre>
    <h3>將內容移到按鈕下方</h3>
    <p>在本文檔的前面，您學習瞭如何向終端屏幕添加內容。要進行審查，您可以將任何HTML添加到插件。下面的代碼將指向我們主頁的鏈接添加到最終屏幕：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">{
  "content": "&lt;a href='https://www.brightcove.com'&gt;Visit our home page&lt;/a&gt;"
}</code></pre>
    <p>默認情況下，您添加的內容顯示在最終屏幕按鈕上方：</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="content above endscreen buttons" src="/assets/images/plugins/custom-endscreen/endscreen-content-above.png" /></figure>
    <p>使用以下CSS將HTML內容置於端屏幕按鈕下方：</p>
    <ul>
      <li>190-193行：從頂部放置按鈕。這些元素已經在您的頁面上居中。</li>
      <li>194-196行：刪除整個覆蓋的默認填充，以幫助使您的自定義文本居中。</li>
      <li>第197-202行：從底部放置您的自定義文本，並將其水平居中。</li>
    </ul>
    <pre class="line-numbers" data-start="190">
<code class="language-javascript" translate="No">.vjs-overlay-buttons {
  position: absolute;
  top: 5em;
}
.vjs-custom-overlay {
  padding: 0;
}
.vjs-endscreen-overlay-content {
  position: absolute;
  bottom: 5em;
  text-align: center;
  width: 100%;
}</code></pre>
    <p>結果應如下所示：</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="content below endscreen buttons" src="/assets/images/plugins/custom-endscreen/endscreen-content-below.png" /></figure>
    <h3>顯示垂直內容和按鈕</h3>
    <p>您還可以更改HTML內容和端屏幕按鈕的佈局。默認情況下，它們是水平顯示的，您的內容在按鈕上方。下面的代碼將您的內容浮動到按鈕的左側，並垂直顯示按鈕：</p>
    <ul>
      <li>205-210行：從頂部和左側放置按鈕。小寬度導致按鈕垂直對齊。</li>
      <li>第211-213行：刪除整個覆蓋的默認填充。</li>
      <li>
        <p>214-223行：將自定義文本放置在按鈕的左側，水平和垂直居中於疊加層的一半。</p>
        <aside class="bcls-aside bcls-aside--information">有關如何水平和垂直居中元素的詳細信息，請參閱 W3C 文檔<a href="//www.w3.org/Style/Examples/007/center.en.html">以事物為中心</a> .</aside>
      </li>
    </ul>
    <pre class="line-numbers" data-start="205">
<code class="language-javascript" translate="No">.vjs-overlay-buttons {
  position: absolute;
  width: 10%;
  top: 20%;
  left: 50%;
}
.vjs-custom-overlay {
  padding: 0;
}
.vjs-endscreen-overlay-content {
  position: absolute;
  float: left;
  width: 50%;
  text-align: center;
  top: 45%;
  transform: translate(0, -50%)
  -webkit-transform: translate(0,-50%);
  -ms-transform: translate(0,-50%);
}
</code></pre>
    <p>結果應如下所示：</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="vertical content and endscreen buttons" src="/assets/images/plugins/custom-endscreen/endscreen-vertical.png" /></figure>
    <p>通過覆蓋默認的CSS屬性，您可以創造性地設計最終屏幕的外觀。在瀏覽器中，檢查元素以查找元素類名稱和值。要快速查看如何執行此操作，請參閱<a href="/styling/customizing-player-appearance.html">自定義播放器外觀</a>文檔。</p>
  </section>
  <section class="bcls-section video-cloud-only">
    <h2 id="Use_mailto_with_video_name">使用帶視頻名稱的mailto</h2>
    <p>您可能希望允許視頻的觀看者通過電子郵件向您發送問題或評論。您可以使用HTML來做到這一點<strong>郵寄</strong>自定義最終屏幕中的鏈接，如下所示：</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="mailto customer endscreen" src="/assets/images/plugins/custom-endscreen/custom-endscreen-mailto.png" /></figure>
    <p>單擊該鏈接將打開客戶的默認電子郵件客戶端。以下代碼顯示瞭如何使用視頻的元數據（在本例中為視頻名稱）自動成為電子郵件的主題。</p>
    <p>以下部分說明瞭如何執行該特定任務，此外，一旦您從<a href="/references/video-metadata-mediainfo.html">媒體信息</a>屬性，則可以在mailto鏈接中使用任何視頻元數據。</p>
    <ul>
      <li>235行：包括customEndscreen插件的CSS。</li>
      <li>第236-241行：CSS更改播放器的大小。</li>
      <li>第245-251行：使用了標準的頁內嵌入代碼。注意<code translate="No">id</code>被添加。</li>
      <li>第253行：為最終屏幕插件指定JavaScript代碼的來源。</li>
      <li>第256,257,270行：用於在播放器上使用代碼的標准設置。</li>
      <li>262行：聽著<code translate="No">loadstart</code>事件。這是視頻開始加載及其元數據的時間，可在<code translate="No">myPlayer.mediainfo</code>可用。</li>
      <li>第263行：URL編碼視頻的名稱並分配給變量。對於要用作mailto鏈接中主題的值，HTML標準要求對字符串進行URL編碼。</li>
      <li>264-265行：建立<code translate="No">&lt;a href="mailto"&gt;</code>關聯。</li>
      <li>第266-268行：致電<code translate="No">customEndscreen()</code>方法，並使用創建的mailto鏈接獲取最終屏幕的內容。</li>
    </ul>
    <pre class="line-numbers" data-start="229">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;End screen with title as subject&lt;/title&gt;

  &lt;link href="https://players.brightcove.net/videojs-custom-endscreen/2/videojs-custom-endscreen.css" rel='stylesheet'&gt;
  &lt;style type="text/css"&gt;
    .video-js {
      width: 600px;
      height: 338px;
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

  &lt;video-js id="myPlayerID"
    data-video-id="1507781667001"
    data-account="1507807800001"
    data-player="default"
    data-embed="default"
    class="video-js" controls&gt;&lt;/video-js&gt;
  &lt;script src="https://players.brightcove.net/1507807800001/default_default/index.min.js"&gt;&lt;/script&gt;

  &lt;script src="https://players.brightcove.net/videojs-custom-endscreen/2/videojs-custom-endscreen.min.js"&gt;&lt;/script&gt;

  &lt;script type="text/javascript"&gt;
    videojs.getPlayer('myPlayerID').ready(function() {
      var myPlayer = this,
        subjectEncoded,
        theMailto,
        theLink;

      myPlayer.on('loadstart',function(){
        subjectEncoded = encodeURI(myPlayer.mediainfo.name);
        theMailto = 'mailto:nowhere@mozilla.org?subject=' + subjectEncoded;
        theLink = '&lt;a href="' + theMailto + '"&gt;Email a Comment&lt;/a&gt;&lt;br /&gt;&lt;br/&gt;';
        myPlayer.customEndscreen({
          "content": theLink
        })
      })
    });
  &lt;/script&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
  </section>
  <section class="bcls-section">
    <h2 id="Using_macros">使用宏</h2>
    <p>這<code translate="No">content</code>為自定義最終屏幕提供的字符串現在可能包含宏（由videojs-contrib-ads支持）。例如，如果您希望最終屏幕包含播放器中當前視頻的名稱和描述，則可以使用類似於以下代碼：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').on('loadstart', function() {
  var myPlayer = this;

  // +++ Call endscreen method +++
  myPlayer.customEndscreen({
    content: '{mediainfo.name} - {mediainfo.description}'
  });
});</code></pre>
    <p>這將導致以下最終屏幕：</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="using macros" src="/assets/images/plugins/custom-endscreen/using-macros.png" /></figure>
    <p>這是可用宏的完整列表：</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width:30%">巨集</th>
          <th style="width:60%">描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>{player.id}</td>
          <td>玩家 ID</td>
        </tr>
        <tr>
          <td>{mediainfo.id}</td>
          <td>視訊識別碼</td>
        </tr>
        <tr>
          <td>{mediainfo.name}</td>
          <td>影片標題</td>
        </tr>
        <tr>
          <td>{mediainfo.description}</td>
          <td>簡短說明 (最多 250 個字元)</td>
        </tr>
        <tr>
          <td>{mediainfo.tags}</td>
          <td>與視訊相關聯的標籤 (中繼資料)</td>
        </tr>
        <tr>
          <td>{mediainfo.reference_id}</td>
          <td>參考識別碼</td>
        </tr>
        <tr>
          <td>{mediainfo.duration}</td>
          <td>視訊雲端報告的影片持續時間</td>
        </tr>
        <tr>
          <td>{mediainfo.ad_keys}</td>
          <td>可以在 Studio 的媒體模組中新增和編輯的任意格式文字字串；您應該使用表單中的查詢參數
            <pre class="line-numbers">
  <code class="language-javascript" translate="No">cust_params={mediainfo.ad_keys}</code></pre></td>
        </tr>
        <tr>
          <td>{player.duration}</td>
          <td>播放器測量的視頻持續時間（可能<code translate="No">mediainfo.duration</code>與稍微不同，可能更準確）</td>
        </tr>
        <tr>
          <td>{document.referrer}</td>
          <td>參照頁面網址</td>
        </tr>
        <tr>
          <td>{window.location.href}</td>
          <td>目前的網頁 URL</td>
        </tr>
        <tr>
          <td>{timestamp}</td>
          <td>自 1/1/70 以來的目前本地時間 (以毫秒為單位)</td>
        </tr>
        <tr>
          <td>{random}</td>
          <td>隨機數 0-1 萬億 (用來建立獨特的曝光。這樣可防止廣告快取在瀏覽器中，並防止曝光差異)。</td>
        </tr>
      </tbody>
    </table>
  </section>
  <section class="bcls-section">
    <h2 id="Known_issues">已知的問題</h2>
    <ul>
      <li>在極少數情況下，您始終需要手動保持控制欄可見，並使用自定義的最終屏幕插件，您需要做一些小改動才能在顯示最終屏幕後正確地使控制欄起作用。默認情況下，終端屏幕插件會禁用控制欄。要啟用控制欄，因為它始終可見，因此您需要使用JavaScript <code translate="No">player.controls(true)</code>之後<code translate="No">ModalDialog</code>的<code translate="No">modalopen</code>事件已調度。</li>
    </ul>
  </section>
  <section class="bcls-section">
    <h2 id="changelog">變更記錄檔</h2>
    <p>見<a href="http://players.brightcove.net/release-notes/brightcove-player-custom-endscreen/index.html">自定義 Endscreen 插件發行說明</a> .</p>
    <p>有關歷史發行說明，請參閱<a href="/plugins/changelog/custom-endscreen-plugin-changelog.html">更新日誌在這裡</a> .</p>
  </section>
</article>