---
title:「廣告與 IM3 插件」
description:「本主題涵蓋 IMA 外掛程式的使用，以及如何使用 Studio 和自訂編碼來實作。「
parent: "Plugins"
---
 <h1>{{ page.title }}</h1>    
<article class="bcls-article">
  <summary>{{ page.description }} </summary>

  <section class="bcls-section">
    <h2 id="Introduction">簡介</h2>
    <p>
      IMA 插件將布萊特灣播放器與谷歌的互動媒體廣告（IMA）整合為 HTML5 版 3。這可讓您為您的播放器請求和追蹤廣告、VPAYE 和 VMAP 廣告。有關谷歌 IMA 的詳細信息，請參閱<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/">使用 IMA HTML5 SDK 版本 3 </a>文件。
    </p>
  </section>


  <section class="bcls-section">
    <h2 id="Player_sample">播放器樣本</h2>

    <p>
      以下範例影片示範如何使用 IMA 外掛程式。播放視頻以查看預滾動，在 5 秒鐘可跳過的中滾動，然後最後一個後卷。
    </p>
    <video-js data-account="1752604059001"
      data-player="H1Qvsb12"
      data-embed="default"
      controls=""
      data-video-id="4607357817001"
      data-playlist-id=""
      data-application-id=""
      width="600" height="340"
      playsinline></video-js>
    <script src="https://players.brightcove.net/1752604059001/H1Qvsb12_default/index.min.js"></script>
  </section>

  <section class="bcls-section">
    <h2 id="Testing_the_ad_server">測試廣告伺服器</h2>

    <p>
      您應該做的第一件事是驗證您打算使用的廣告代碼的有效性。請確定您已複製其 URL 並瀏覽至以下頁面：<a target="_blank" rel="noopener noreferrer" href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/vastinspector">視訊套件檢閱器</a>  (按一下此連結會導致頁面在新視窗或分頁中開啟)。
    </p>

    <p>
      將廣告標籤網址貼到<strong translate="No">輸入類型</strong>表單輸入欄位。按一下 [ <strong translate="No">測試廣告]，您就會看到您的廣告播放，</strong>並播放 Google 提供的影片。如果您的廣告代碼在這個測試環境中無法運作，它將無法與 Brightcove 播放程式搭配使用。
    </p>

    <aside class="bcls-aside bcls-aside--information">注意：VAST 廣告代碼可由您的廣告供應商代管，或者您可以複製 XML 並將其託管在您自己的網址上。</aside> 
  </section>

  <section class="bcls-section">
    <h2 id="Implement_using_Players_module_advertising_section">實施使用播放器模塊-廣告部分</h2>

    <p>
      在文檔的這一部分，您將使用 Studio 來實現廣告使用<strong>廣告</strong>部分。在這種情況下，您僅限於表單提供的選項。如果您希望使用本節中提供的許多可用選項中的一些自定義實現，請使用<a href="#Implement_using_Players_module_plugins_section">實現使用播放器模塊- <strong>插件</strong>部分</a>，提供了通過 JSON 提供選項的機會。
    </p>

    <div id="player" class="video-cloud-only">
      <video-js data-account="20318290001" data-player="E16-WGGOe" data-embed="default" data-video-id="4043519495001" class="video-js" controls="" crossorigin="anonymous" width="640" height="360">&nbsp; </video-js>
      <script src="https://players.brightcove.net/20318290001/E16-WGGOe_default/index.min.js"></script>
    </div>

    <p>若要使用播放器模組來實作 IMA 外掛程式，請依照下列步驟執行：</p>

    <ol class="bcls-tasklist">
      <li>打開<strong>球員</strong>模塊，然後創建一個新播放器或找到您希望添加廣告功能的播放器。</li>
      <li>按一下播放程式的連結以開啟播放程式的屬性。</li>
      <li>點擊<strong>廣告</strong>在左側導航菜單中。</li>
      <li>核取「<strong>啟用用戶端 (IMA)」</strong>核取方塊。</li>
      <li>輸入廣告<strong translate="No">伺服器</strong>的伺服器網址。</li>
      <li>
        選取 [請<strong translate="No">求廣告] </strong>設定。
        <ul>
          <li>
            <strong translate="No">載入時</strong> -在播放器載入時立即要求廣告（這通常是 DFP /VPADE 的最佳體驗）。
          </li>
          <li><strong translate="No">播放中</strong> -第一個廣告請求會延遲到播放啟動為止。</li>
          <li>
            <strong translate="No">隨選</strong> -所有廣告請求都將使用該<code translate="No">player.ima3.adrequest()</code>方法以程式設計方式啟動。此模式不支援預先播放或後續廣告。
          </li>
          <li>
            <strong translate="No">提示點上</strong> -廣告請求會在已傳送的廣告提示點上啟動。如需完整詳細資訊，請參閱使用廣告提<a href="/advertising/displaying-ads-using-ad-cue-points.html">示點顯示廣告</a>文件。
          </li>
        </ul>
      </li>
      <li>
        選取廣告<strong translate="No">  VPAD 模式</strong>。VPAD 模式用於在 IMA 廣告中啟用 VPAD 2 支援。
        <ul>
          <li><strong translate="No">啟用</strong> -在具有不同域名的 iframe 中播放 VPAY 廣告</li>
          <li><strong translate="No">不安全</strong> -在具有相同域名的 iframe 中播放 VPAY 廣告</li>
          <li><strong translate="No">禁用</strong> -V付費廣告拋出錯誤</li>
        </ul>
      </li>
      <li>
        設定「<strong translate="No">逾時」</strong>值。這是廣告在播放前初始化的等待時間上限 (以毫秒為單位)。
      </li>
      <li>
        做出<strong>硬超時的選擇</strong>。取消勾選此選項可能會導致載入速度緩慢的廣告中斷視訊播放。
      </li>
      <li>
        設定重新導向的<strong>最大數目</strong>。這會指定後續重新導向會被拒絕，且廣告載入中止之前的重新導向數目上限。重新導向的次數會直接影響延遲，因此使用者體驗。
      </li>
      <li>對於<strong>外掛程式版本</strong>，強烈建議您使用最新版本。</li>
      <li>
        查看一個例子，填寫的表單：
        <figure class="bcls-figure">
          <img class="bcls-image" alt="IMA3 properties in Studio" src="/assets/images/plugins/ima/studio-ima-plugin-props.png" />
        </figure>
      </li>
      <li>按一下「<strong>儲存」</strong>。</li>
      <li>若要發佈播放程式，請按一下「<strong>發佈與內嵌」&gt;「發佈變更」</strong>。</li>
      <li>若要關閉開啟對話方塊，請按一下「<strong>關閉」</strong>。</li>
    </ol>

    <p>
      儲存對廣告屬性的變更時，IMA 外掛程式將被設定為外掛程式設定的一部分。由於您通過<strong translate="No">廣告</strong>部分添加它們，JavaScript 和 CSS 將被隱藏。
    </p>

    <p>
      IMA 外掛程式確實支援 UI 這個區段中無法使用的其他屬性。如需使用更多組態選項的方法，請參閱本文件的下一節。
    </p>

    <aside class="bcls-aside bcls-aside--tip">注意：您可能希望<code translate="No">serverUrl</code>在客戶端動態構建（這意味著 IM3 插件已經被初始化），例如在用戶登錄後。您可以通過在<strong translate="No">選項中將該值設置為空字符串來完成此操作</strong><code translate="No">{ "serverUrl": "" }</code>，然後以編程方式分配該值。</aside> 
  </section>

  <section class="bcls-section">
    <h2 id="Implement_using_Players_module_plugins_section">使用播放器模塊實現-插件部分</h2>

    <p>
      如果您希望配置 IMA3 插件超出<strong>廣告</strong>部分提供的選項，您可以使用<strong>插件</strong>部分，它提供了一種通過 JSON 提供選項的方法。
    </p>

    <p>要實現 IM3 插件，您將添加插件的功能名稱和 URL 插件的 JavaScript 和 CSS 文件：</p>

    <ol class="bcls-tasklist-restart">
      <li>打開<strong>球員</strong>模塊並創建一個新播放器或找到您希望添加插件的播放器。</li>
      <li>按一下播放程式的連結以開啟播放程式的屬性。</li>
      <li>點擊<strong>插件</strong>在左側導航菜單中。</li>
      <li>從<strong>新增外掛程式</strong>下拉式清單中，選取<strong>自訂外掛程式</strong>。
        <figure class="bcls-figure">
          <img class="bcls-image" alt="Select Plugin" src="/assets/images/plugins/ima/custom-plugin.png" />
        </figure></li>
      <li>在「<strong>外掛程式名稱</strong>」中輸入<code translate="No">ima3</code>。</li>
      <li>
        <strong>在這個</strong>網址中，輸入：
        <pre>
<code class="language-json" translate="No">https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js</code>   </pre>
      </li>
      <li>
        對於<strong>  CSS </strong>網址，請輸入：
        <pre>
<code class="language-json" translate="No">https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css</code>   </pre>
      </li>
      <!-- ** choose one of the following two steps, delete the other ** -->
      <li>
        在 [選<strong>項 (JSON)] </strong>文字方塊中輸入組態選項。
        <pre class="line-numbers">
<code class="language-json" translate="No">{
  "serverUrl": "//pubads.g.doubleclick.net/gampad/ads?sz=400x300&amp;iu=%2F6062...",
  "timeout": 5000,
  "debug": true
}</code>   </pre>
      </li>
      <li>按一下「<strong>儲存」</strong>。</li>
      <li>若要發佈播放程式，請按一下「<strong>發佈與內嵌」&gt;「發佈變更」</strong>。</li>
      <li>若要關閉開啟對話方塊，請按一下「<strong>關閉」</strong>。</li>
    </ol>
  </section>

  <section class="bcls-section">
    <h2 id="JSON_vs_JavaScript_notation">文字符號</h2>

    <p>
      如果你檢查<strong translate="No">選項</strong>在上面的部分，您會看到以 JSON 格式提供的配置信息。如果您使用代碼來實現 IM3 插件，則使用 JavaScript 設置選項的符號略有不同。
    </p>

    <p>在這裡您可以看到您可以在 Studio 中使用的 JSON 格式的選項：</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "requestMode": "onload",
  "serverUrl": "//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap.xml?cust_params={mediainfo.ad_keys}",
  "timeout": 5000
}</code>   </pre>

    <p>如果您使用 JavaScript 來配置您的選項，JSON 格式將起作用，但您也可以使用 JavaScript 語法，如下所示：</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">{
  requestMode: 'onload',
  serverUrl: '//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap',
  timeout: 5000
}</code>   </pre>
  </section>

  <section class="bcls-section">
    <h2 id="Options">選項</h2>

    <p>
      video.js IM3 外掛程式建立在<a href="https://github.com/brightcove/videojs-ads">  video.js 廣告架構之上，</a>並接受廣告架構提供的任何選項。看一下廣告框架<a href="https://github.com/videojs/videojs-contrib-ads/blob/main/docs/index.md">自述文件</a>有關當前可覆蓋設置集的詳細信息。這裡記錄了 IMA 外掛程式的特定選項和廣告架構選項。
    </p>
    <p>選項包括：</p>
    <ul>
      <li><a href="#clickTrackingElement">按一下追蹤元素</a> </li>
      <li><a href="#debug">除錯</a> </li>
      <li><a href="#debugContribAds">除錯連接器</a> </li>
      <li><a href="#disableCustomPlaybackForIOS10Plus">停用自訂反向作業系統 10Plus </a> </li>
      <li><a href="#hardTimeouts">硬體逾時</a> </li>
      <li><a href="#ima3SdkSettings">影像軟體設定</a> </li>
      <li><a href="#requestMode">要求模式</a> </li>
      <li><a href="#serverUrl">伺服器 URL </a> </li>
      <li><a href="#showVpaidControls">顯示配對控制項</a> </li>
      <li><a href="#timeout">逾時</a> </li>
      <li><a href="#useMediaCuePoints">使用媒體點</a> </li>
      <li><a href="#usePlayerAutoplayHandling">使用播放器自動播放處理</a> </li>
      <li><a href="#vpaidMode"> vPaidMode </a> </li>
    </ul>

    <h3 id="clickTrackingElement">按一下追蹤元素</h3>

    <p>類型：<code translate="No">HTMLElement</code>預設值：未定義</p>

    <p>
      如果 HTML 廣告技術用於<a href="https://developers.google.com/web/fundamentals/design-and-ux/input/touch">自訂廣告播放</a>模式，這會指定替代 HTML 元素，用來追蹤不支援影片元素輸入事件的裝置上的廣告點選。更多詳細資料可在參數說明文件中取得<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdDisplayContainer">  IMA 廣告顯示器容器</a>。如果您提供點擊追蹤元素，您有責任在適當的時間在適當的平台上顯示和隱藏該元素。在大多數情況下，最好將此設定保持未定義，並允許外掛程式和 IMA 管理廣告互動。
    </p>

    <h3 id="debug">除錯</h3>

    <p>類型：<code translate="No">boolean</code>預設值：<code translate="No">false</code>   </p>

    <p>
      如果調試設置為 true，廣告框架將在播放期間輸出有關其當前狀態的其他信息。這對於診斷廣告整合中的問題或意外行為非常方便。
    </p>

    <p>此選項是廣告架構的一部分，設定如下：</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  debug: true
});</code>   </pre>

    <p>下面的屏幕截圖顯示通過打開調試顯示的廣泛信息。</p>

    <figure class="bcls-figure">
      <img class="bcls-image" alt="debug output in console" src="/assets/images/plugins/ima/console-debug.png" />
    </figure>

    <h3 id="debugContribAds">除錯連接器</h3>

    <p>類型：<code translate="No">boolean</code>預設值：<code translate="No">false</code>   </p>
    <p>用於啟用視頻聯繫廣告的調試日誌記錄。若要讓 ID3 <code translate="No">oncue</code>要求運作，接收的 ID3 TXXX 框架必須包含含下列欄位的 JSON 資料：</p>
    <ul>
      <li>廣告提示標籤格式：
        <ul>
          <li>名稱：必填-必須是字符串<code translate="No">adCue</code>   </li>
          <li>識別碼：必要-一個唯一的值，用於識別廣告，因為時間是相對於直播中的廣告</li>
          <li>伺服器 URL：選用性-僅覆寫此廣告的 IM3 配置<code translate="No">serverUrl</code>   </li>
          <li>持續時間：可選-作為<code translate="No">breaklength</code>參數附加到服務器 url</li>
        </ul>
        範例：<code translate="No">{"name": "adCue", "id": 123}</code>   
      </li>
      <li>廣告取消標籤格式：
        <ul>
          <li>名稱：必要-必須是字串值<code translate="No">adCancel</code>   </li>
          <li>識別碼：必要-一個唯一的值，用於識別廣告取消，因為時間在直播中是相對的</li>

        </ul>
        範例：<code translate="No">{"name": "adCancel", "id": 234}</code>   
      </li>
    </ul>

    <h3 id="disableCustomPlaybackForIOS10Plus">停用自訂反向作業系統 10Plus</h3>

    <p>類型：<code translate="No">boolean</code>預設值：<code translate="No">false</code>   </p>

    <p>
      此屬性是<code translate="No">ima3SdkSettings</code>物件的一部分。它充當吸氣劑和 setter 來控制是否禁用 iOS 10+ 瀏覽器上的自定義播放。行為如下：
    </p>

    <ul>
      <li>
        如果內容影片為內嵌，則廣告會內嵌播放，這會啟用可略過的廣告。不過，廣告會保持內嵌狀態，而不支援 iOS 的原生全螢幕功能。
      </li>
      <li>如果為錯誤，廣告將會在與您的內容相同的播放器中播放。</li>
    </ul>

    <p>如需此設定的使用範例，請參閱本文件的<a href="#skippable-ads">  iOS 可略過廣告</a>部分。</p>



    <h3 id="hardTimeouts">硬體逾時</h3>

    <p>類型：<code translate="No">boolean</code>預設值：<code translate="No">true</code>   </p>

    <p>
      放棄在逾時後完成載入的廣告。這樣可避免在播放內容影片和內容影片開始播放之後停止播放速度緩慢的廣告。<code translate="No">timeout</code>   
    </p>

    <p>此選項是廣告架構的一部分，設定如下：</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  hardTimeouts: true
});</code>   </pre>

    <p>將此選項設定為<code translate="No">false</code>會在廣告前顯示內容閃爍。</p>

    <h3 id="ima3SdkSettings">影像軟體設定</h3>

    <p>類型：<code translate="No">object</code>預設值：未定義</p>

    <p>
      如果有提供，此物件的屬性會用來設定<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.ImaSdkSettings">  IMA SDK 載入完成後的頁面層級 Ima3SDK 設定</a>。此對象的屬性預計將是<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.ImaSdkSettings">  SDK </a>設置對象上的 setter 方法的駱駝套裝等效，減去 'set ' 前綴。例如，如果您在初始化插件時提供了此對象：
    </p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  ima3SdkSettings: {
    'numRedirects': 3,
    'ppid': 'publisher-provided-id'
  }
}</code>   </pre>

    <p>然後，video.js IMA 插件將運行在 IMA 加載時看起來像這樣的代碼：</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">window.google.ima.ImaSdkSettings.setNumRedirects(3);
window.google.ima.ImaSdkSettings.setPpid('publisher-provided-id');</code>   </pre>

    <h3 id="requestMode">要求模式</h3>

    <p>類型：<code translate="No">string</code>預設值：<code translate="No">onload</code>   </p>

    <p>這個選項是廣告框架的一部分配置如下：</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  requestMode: 'onplay'
});</code>   </pre>

    <p>此選項有四個可能的值：</p>

    <ul>
      <li>
        <code translate="No">onload</code>：播放器載入時，會立即要求廣告。這通常是 DFP/VPREE 的最佳體驗。
      </li>
      <li>
        <code translate="No">onplay</code>：第一個廣告請求會延遲到播放啟動為止。這對於將廣告請求視為播放廣告請求的廣告聯播網很重要，因此您不會想要在播放請求之前提出廣告請求。這會導致廣告最終放棄，或者客戶對顯示的廣告收到較少的收益。
      </li>
      <li>
        <code translate="No">ondemand</code>：只有在使用手動<code translate="No">player.ima3.adrequest()</code>方式啟動時，才會播放廣告。此模式不支援預先播放或後續廣告。
      </li>
      <li>
        <code translate="No">oncue</code>：此選項的行為會根據是否與選<code translate="No">useMediaCuePoints</code>項搭配使用而有所不同。
        <h4>搭配視訊雲端使用提示點</h4>

        <p>
          您可以在 Studio 中為影片建立廣告提示點，然後在觸發提示點時播放廣告。如需完整詳細資訊，請參閱使用廣告提<a href="/advertising/displaying-ads-using-ad-cue-points.html">示點數的多媒體廣告</a>文件。
        </p>

        <h4>在即時串流中使用提示點</h4>

        <p>
          廣告會根據即時串流中的 ID3 提示點來申請。若要讓這種類型的要求正常運作，接收的 ID3 TXXX 框架必須包含具有下列欄位的 JSON 資料：
        </p>

        <ul>
          <li><code translate="No">name</code>：必要的；必須是字串值<code translate="No">adCue</code>   </li>
          <li><code translate="No">id</code>：必要；識別廣告時間在即時串流中相對的唯一值</li>
          <li><code translate="No">serverUrl</code>：可選；附加為中斷長度參數至伺服器 url</li>
          <li><code translate="No">duration</code>：選擇性；廣告持續時間</li>
        </ul>

        <p>範例：</p>

        <pre class="line-numbers">
<code class="language-json" translate="No">{"name": "adCue", "id": 123}</code>   </pre>

        <p>
          您也可以使用取消使用建立的即時串流中的 ID3 提<code translate="No">adCue</code>示點<code translate="No">adCancel</code>。傳送的物件必須使用下列格式：
        </p>

        <pre class="line-numbers">
<code class="language-json" translate="No">{"name": "adCancel", "id": 123}</code>   </pre>

        <p><code translate="No">name</code>和都<code translate="No">id</code>是必需的。</p>

        <ul>
          <li>Android 不支援即時 ID3 廣告提示。</li>
          <li>iOS 不支援即時 ID3 廣告取消提示。</li>
        </ul>
      </li>
    </ul>

    <h3 id="serverUrl">伺服器 URL</h3>

    <p>類型：<code translate="No">string</code>或<code translate="No">function</code>   </p>

    <p>預設值 (一般 Google 廣告)：</p>

    <pre class="line-numbers">
<code class="language-html" translate="No">//pubads.g.doubleclick.net/gampad/ads?sz=400x300&amp;iu=%2F6062%2Fiab_vast_samples&amp;ciu_szs=300x250%2C728x90&amp;gdfp_req=1&amp;env=vp&amp;output=xml_vast2&amp;unviewed_position_start=1&amp;url=[referrer_url]&amp;correlator=[timestamp]&amp;cust_params=iab_vast_samples%3Dlinear</code>   </pre>

    <p>
      在這裡，您將提供網址到您的廣告服務器。此選項可以在布賴特灣工作室中進行配置，如上圖所示。您也可以在程式碼中設定值。接下來會顯示兩個範例。（記住，你應該<a href="#Testing_the_ad_server">測試廣告代碼</a>在嘗試在插件中使用它之前在您的服務器上。）
    </p>

    <p>如果值是字串，則代表要求廣告的廣告伺服器網址，並且可以在程式碼中設定，如下所示：</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  serverUrl: 'your ad server'
});</code>   </pre>

    <p>
      如果該值是一個函數，函數參數是一個<code translate="No">callback</code>函數，應該以您的服務器 URL 作為參數調用。這提供了非同步處理程序的支援，例如標頭出價。在下列範例中，您會看到來自<code translate="No">mediainfo</code>物件的資訊，用來判斷應根據帳戶 ID 使用哪些廣告網址：
    </p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">// Initialize IMA plugin
myPlayer.ima3({
  serverUrl: function(callback) {
    if (myPlayer.mediainfo.id === '4034552795001') {
      callback('https://pubads.g.doubleclick.net/.../url1');
    } else {
      callback('https://pubads.g.doubleclick.net/.../url2');
    }
  },
  requestMode: 'onload',
  debug: true,
  debugContribAds: true
});</code>   </pre>

    <h3 id="showVpaidControls">顯示配對控制項</h3>

    <p>類型：<code translate="No">boolean</code>預設值：<code translate="No">false</code>   </p>

    <p>
      設置為顯示<code translate="No">true</code>對 VPAD 廣告的自定義布萊特灣控制。根據 VPADE 的實施，它們可能會或可能不起作用，因此 Brightcove 建議您先使用您的廣告測試此功能，然後再將它們啟用在製作中。
    </p>



    <h3 id="timeout">超時</h3>

    <p>類型：<code translate="No">number</code>預設值：<code translate="No">4000</code>   </p>

    <p>在略過廣告爆發前等待廣告播放的時間上限 (以毫秒為單位)。</p>

    <p>這個選項是廣告框架的一部分配置如下：</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  timeout: 5000
});</code>   </pre>

    <p>
      在內部 Brightcove 測試中，發現四秒似乎足夠長，足以容納大多數情況下的緩慢初始化，但仍然足夠短，無法初始化的失敗看起來不像播放器或內容視頻的失敗。
    </p>

    <aside class="bcls-aside bcls-aside--tip">注意：如果您在工作室和使用 JavaScript 的 HTML 頁面的插件配置中設置超時，JavaScript 配置將具有優先級。</aside> 

    <h3 id="useMediaCuePoints">使用媒體點</h3>

    <p>類型：<code translate="No">boolean</code>預設值：<code translate="No">false</code>   </p>

    <p>啟用<strong translate="No">廣告提</strong>示點 (如 Studio 中所定義) 來觸發廣告播放。</p>

    <p>如果要使用影片雲端廣告提示點來觸發廣告，外掛程式設定中必須遵循以下條件：</p>

    <ul>
      <li><code translate="No">useMediaCuePoints</code>：真</li>
      <li><code translate="No">requestMode</code>：字串<code translate="No">oncue</code>   </li>
      <li><code translate="No">serverUrl</code>：必須指向有效的 VAST 廣告</li>
    </ul>

    <p>
      如果您使用 Studio 來設定廣告，當您選取 [開<strong>啟提</strong>示點] 時<code translate="No">useMediaCuePoints</code>，<code translate="No">requestMode</code>選項將為您正確設置。
    </p>

    <h3 id="usePlayerAutoplayHandling">使用播放器自動播放處理</h3>

    <p>類型：<code translate="No">boolean</code>預設值：<code translate="No">false</code>   </p>

    <p>
      設定<code translate="No">true</code>為使用布萊特灣玩家的核心自動遊戲處理。否則，使用 IM3 外掛程式的預設自動播放處理。
    </p>

    <h3 id="vpaidMode">vPaidMode</h3>

    <p>類型：<code translate="No">string</code>預設值：<code translate="No">ENABLED</code>   </p>

    <p>在 IMA HTML5 軟體開發套件中指定「雙重付費」模式。</p>

    <p>此選項有三個可能的值：</p>

    <ul>
      <li><code translate="No">ENABLED</code>：在具有不同網域的 iframe 中播放 VPAY 廣告。</li>
      <li><code translate="No">INSECURE</code>：在具有相同網域的 iframe 中播放 VPAY 廣告。</li>
      <li><code translate="No">DISABLED</code>：V付費廣告拋出錯誤。</li>
    </ul>

    <p>此選項的設定如下：</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  vpaidMode: 'DISABLED'
});</code>   </pre>
  </section>

  <section class="bcls-section">
    <h2 id="Properties">性質</h2>
    <p>外掛程式只存在一個屬性：</p>
    <ul>
      <li>HTML5：這是插件初始化時可以加載的唯一廣告技術。</li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Ad_macros_and_the_serverUrl">廣告巨集和伺服器 URL</h2>

    <p>
      建立廣告伺服器網址時，有廣告巨集可讓您的工作更輕鬆。這些巨集可讓您在伺服器 URL 中使用變數，IM3 外掛程式將取代適當的值。例如，下面的服務器 URL 包含一些變量：
    </p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{"serverUrl": "//myadserver.com/ad?video={mediainfo.id}&amp;duration={player.duration}"}</code>   </pre>

    <p>IM3 外掛程式會取代適當的值，而實際使用的伺服器 URL 會顯示如下：</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{"serverUrl": "//myadserver.com/ad?video=12340001&amp;duration=60"}</code>   </pre>

    <p>以下是將使用替代值的變數的完整清單：</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 30%;">巨集</th>
          <th style="width: 60%;">描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>{document.referrer} </td>
          <td>參照頁面網址。<aside class="bcls-aside bcls-aside--tip"> 
              <p>在播放器 iframe 中，<code translate="no">{document.referrer}</code>可能無法判斷嵌入的網站 URL，因為傳回的值將取決於瀏覽器設定的反向連結原則和/或網站實作。值得注意的是，Chrome 現在默認為起<strong>源跨源</strong>策略，這意味著在播放器框架<code translate="no">{document.referrer}</code>內只能獲得原點。如果您需要在播放器中提供引用，您可以對 iframe 元素設置限制較少的策略，或者通過<code translate="no">網頁網址</code>以不同的方式，例如查詢參數。</p>
              <p>如需詳細資訊，請參閱 Mozilla 的<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy">推薦政策</a>文件。</p>
            </aside> 
          </td>
        </tr>
        <tr>
          <td>{mediainfo.ad_keys} </td>
          <td>
            可以在 Studio 的媒體模組中新增和編輯的任意格式文字字串；您應該使用表單中的查詢參數
            <pre class="line-numbers">
<code class="language-javascript" translate="No">cust_params={mediainfo.ad_keys}</code>   </pre>
          </td>
        </tr>
        <tr>
          <td>{mediainfo.description} </td>
          <td>簡短說明 (最多 250 個字元)</td>
        </tr>
        <tr>
          <td>{mediainfo.duration} </td>
          <td>視訊雲端報告的影片持續時間</td>
        </tr>
        <tr>
          <td>{mediainfo.id} </td>
          <td>視訊識別碼</td>
        </tr>
        <tr>
          <td>{mediainfo.name} </td>
          <td>影片標題</td>
        </tr>
        <tr>
          <td>{mediainfo.reference_id} </td>
          <td>參考識別碼</td>
        </tr>
        <tr>
          <td>{mediainfo.tags} </td>
          <td>與視訊相關聯的標籤 (中繼資料)</td>
        </tr>
        <tr>
          <td>{player.duration} </td>
          <td>
            播放器測量的視頻持續時間（可能<code translate="No">mediainfo.duration</code>與稍微不同，可能更準確）。請注意，如果視頻未加載，則返回 0。請小心使用此巨集計時您的廣告請求。
          </td>
        </tr>
        <tr>
          <td>{player.height} </td>
          <td>目前的播放器高度</td>
        </tr>
        <tr>
          <td>{player.id} </td>
          <td>玩家 ID</td>
        </tr>
        <tr>
          <td>{player.pageUrl} </td>
          <td>網頁網址：返回文檔引用，如果在 iframe，否則窗口位置。<aside class="bcls-aside bcls-aside--tip"> 
              <p>在播放器 iframe 中，<code translate="no">{player.pageUrl}</code>可能無法判斷嵌入的網站 URL，因為傳回的值將取決於瀏覽器設定的反向連結原則和/或網站實作。值得注意的是，Chrome 現在默認為起<strong>源跨源</strong>策略，這意味著在播放器框架<code translate="no">{player.pageUrl}</code>內只能獲得原點。如果您需要在播放器中提供引用，您可以對 iframe 元素設置限制較少的策略，或者通過<code translate="no">網頁網址</code>以不同的方式，例如查詢參數。</p>
              <p>如需詳細資訊，請參閱 Mozilla 的<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy">推薦政策</a>文件。</p>
            </aside> 
          </td>
        </tr>
        <tr>
          <td>{player.width} </td>
          <td>目前播放器寬度</td>
        </tr>
        <tr>
          <td>{playlist.id} </td>
          <td>從播放清單資訊物件中提取</td>
        </tr>
        <tr>
          <td>{playlist.name} </td>
          <td>從播放清單資訊物件中提取</td>
        </tr>
        <tr>
          <td>{random} </td>
          <td>
            隨機數 0-1 萬億 (用來建立獨特的曝光。這樣可防止廣告快取在瀏覽器中，並防止曝光差異)。
          </td>
        </tr>
        <tr>
          <td>{timestamp} </td>
          <td>自 1/1/70 以來的目前本地時間 (以毫秒為單位)</td>
        </tr>
        <tr>
          <td>{window.location.href} </td>
          <td>目前的網頁 URL</td>
        </tr>
      </tbody>
    </table>

    <aside class="bcls-aside bcls-aside--tip">注意：擷取 iframe 播放器或圖庫頁面內體驗的父 URL 時，建議使<code translate="No">window.location.href</code>用。原因是使用標準內嵌程式碼的網頁內體驗會在執行階段動態建構 iframe，以避免樣式和指令碼問題。由於 iframe 是通過 JavaScript 生成的，因此它具有相同的<code class="notransalate">窗口位置</code>的父頁面並遵循同源策略。瀏覽器不幸地對待<code class="notransalate">文檔.referrer</code>這些生成的 iframe 不同。Chrome、Safari 和 Opera 全部設置<code class="notransalate">文檔.referrer</code>到<code class="notransalate">窗口位置</code>父頁面，但僅限於 http（不是 https）。Firefox 正確遵循規格，並將<code class="notransalate">文檔 .引用設置</code>為父頁面的引用者。所有瀏覽器都正確設置<code class="notransalate">文檔.referrer</code>到 https 中父頁面的引用。

    <h4>預設值和廣告巨集</h4>

    <p>
      您可以為廣告巨集提供預設值。一個默認值可以在宏中提供，在這種情況下，將在變量未定義的地方使用此值。語法為：
    </p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">{macro=default}</code>   </pre>

    <p>例如，</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">http://example.com/ad/{pageVariable.adConf=1234}</code>   </pre>

    <p>將解析<code translate="No">window.adConf</code>為以下內容：</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">http://example.com/ad/1234</code>   </pre>
  </section>

  <section class="bcls-section">
    <h2 id="Dynamic_macros">動態巨集</h2>

    <p>動態巨集可讓您存取下列項目中的值：</p>

    <ul>
      <li>視頻的<code translate="No">customFields</code>對象通過<code translate="No">mediainfo.customFields</code>多變的。</li>
      <li>DOM 的對<code translate="No">window</code>象通過<code translate="No">pageVariable</code>變量。</li>
    </ul>

    <p>例如，您可以在廣告請求中使用下列項目：</p>

    <pre class="line-numbers">
<code class="language-html" translate="No">//myadserver.com/ad?l={<span class="bcls-highlight">pageVariable.navigator.language</span>}&amp;category={<span class="bcls-highlight">mediainfo.customFields.type</span>}</code>   </pre>

    <p>對於這些<code translate="No">pageVariable</code>值，只允許使用特定的值類型，如下表所示：</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>類型</th>
          <th>會發生什麼</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>字串</td>
          <td>無需變更即可使用</td>
        </tr>
        <tr>
          <td>編號</td>
          <td>自動轉換為字串</td>
        </tr>
        <tr>
          <td>布林</td>
          <td>自動轉換為字串</td>
        </tr>
        <tr>
          <td>空</td>
          <td>返回字符串<strong translate="No">空</strong> </td>
        </tr>
        <tr>
          <td>未定義</td>
          <td>記錄警告並傳回空字串</td>
        </tr>
        <tr>
          <td>其他</td>
          <td>記錄警告並傳回空字串</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="bcls-section">
    <h2 id="TCF_macros">TCF 巨集</h2>
    <p>如果同意管理平台或 CMP（本質上是將一系列廣告技術全部整合到一個易於使用的平台中），支持<a href="https://github.com/InteractiveAdvertisingBureau/GDPR-Transparency-and-Consent-Framework/blob/master/TCFv2/IAB%20Tech%20Lab%20-%20CMP%20API%20v2.md">GDPR 透明度和同意框架 (TCF)</a>正在使用中，額外的宏可用。語法是<code>{tcf.*}</code>，<code>  * </code>是<a href="https://github.com/InteractiveAdvertisingBureau/GDPR-Transparency-and-Consent-Framework/blob/master/TCFv2/IAB%20Tech%20Lab%20-%20CMP%20API%20v2.md#tcdata">  TCDATA </a>對象中的屬性。</p>
    <p>最常用的宏是：</p>
    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>名稱</th>
          <th>價值</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>{tcf.gdprApplies} </td>
          <td>GDPR 是否適用於目前的工作階段</td>
        </tr>
        <tr>
          <td>{tcf.tcString} </td>
          <td>同意字串</td>
        </tr>
      </tbody>
    </table>
    <p>由於<code>  GDPrapplies </code>是一個布爾值，許多廣告服務器期望這個值作為一個整數，所以提供一個額外<code>{tcf.gdprAppliesInt}</code>的將返回 1 或 0。</p>
    <p>如果播放器位於 iframe 中，如果在任何父框架中檢測到 TCF API 以獲得與<code>後消息</code>  API 的同意，則將添加一個代理。CMP 必須在播放器之前載入。</p>
    <h3>巨集中的預設值</h3>
    <p>一個默認值可以在宏中提供，在這種情況下，這個值將被用於無法解析的地方，例如</p>
    <pre class="line-numbers"><code class="language-html" translate="No">http://example.com/ad/{pageVariable.adConf=1234}</code>   </pre>
    變得
    <pre class="line-numbers"><code class="language-html" translate="No">http://example.com/ad/1234</code>   </pre>
    如果<code>視窗未</code>定義。</p>
  </section>


  <section class="bcls-section">
    <h2 id="Custom_ad_macros">自訂廣告巨集</h2>

    <p>
      雖然上述<strong translate="No">動態巨集</strong>技術是透過巨集存取特定資訊的最佳方法，但您可能已定義從廣告伺服器向廣告伺服器請求廣告時所使用的自訂值，而無法透過動態巨集接觸。在這種情況下，您可以通過覆蓋<code translate="No">adMacroReplacement()</code>方法利用您的值。覆寫此方法時，可讓您傳遞廣告請求的專用值。
    </p>

    <p>
      以下是覆寫<code translate="No">adMacroReplacement()</code>方法的範例。在此範例中，自訂值會定義為頁面 DOM 的一部分，因此可以根據每頁自訂廣告請求。在此範例中，<code translate="No">mySite.category</code>是儲存廣告請求資訊的位置。
    </p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">brightcovePlayer.ima3.adMacroReplacement = function (url) {
  <span class="bcls-highlight">  var parameters = {
    '{category}': mySite.category
  };</span>
  for (var i in parameters) {
    url = url.split(i).join(encodeURIComponent(parameters[i]));
  }
  return url;
}</code>   </pre>

    <p>使用特定的值將有助於澄清正在發生的事情。假設您的請求網址到廣告服務器如下：</p>

    <pre class="line-numbers">
<code class="language-html" translate="No">//myadserver.com/myads?adWord={category}</code>   </pre>

    <p>
      並假設頁面<code translate="No">mySite.category</code>中動態分配的值是字符串<strong translate="No">釣杆</strong>。然後，您的<code translate="No">adMacroReplacement()</code>方法版本被稱為後，您的廣告請求網址將顯示為：
    </p>

    <pre class="line-numbers">
<code class="language-html" translate="No">//myadserver.com/myads?adWord=fishing-pole</code>   </pre>

    <p>
      總而言之，當您覆寫<code translate="No">adMacroReplacement()</code>方法時，它可讓您使用自訂值做為廣告巨集，並將值動態指派給 URL 廣告請求。
    </p>
  </section>

  <section class="bcls-section">
    <h2 id="Methods">方法</h2>

    <p>
      當您需要與 IMA SDK 進行交互時，您需要等待<code translate="No">ima3-ready</code>事件發生成功使用 SDK 之前發送。這包括以下兩種方法。
    </p>

    <h3>播放器 .ima3 代理請求（）</h3>

    <p>
      呼叫此方法會在收到廣告回應時立即建立隨選廣告要求。叫用此方法會建立新的 IMA AdManager，這表示任何先前的廣告回應資訊 (例如，先前的 VAST 回覆中傳回的後續廣告) 都會遺失。Brightcove 建議您只在未知道廣告時序的前期知識，或者您將撥打所有隨選廣告通話時，才使用此方法。在所有其他情況下，將所有廣告資料放在初始化外掛程式初始化的 VAST 呼叫中是有意義的。
    </p>

    <p>以下是使用時需要考慮的兩個要點<code translate="No">player.ima3.adrequest( )</code>：</p>

    <ul>
      <li>該方法用於<strong translate="No">一經請求</strong>僅請求模式。</li>
      <li>不建議在預先播放時使用此方法，因為內容會在廣告請求完成之前播放，導致內容閃爍。</li>
    </ul>

    <h5>參數</h5>

    <ul>
      <li>
        <strong translate="No">廣告標籤的附件網址</strong><code translate="No">String</code>路徑。您可以且應該傳遞相對 URL。此參數是選擇性的，如果沒有傳遞參數，則會使用已設定<code translate="No">serverUrl</code>的參數。
      </li>
    </ul>

    <h5>傳回：</h5>

    <ul>
      <li>沒什麼</li>
    </ul>

    <p>範例</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3.adrequest('//pubads.g.doubleclick.net/gampad/ads?sz=640x360&amp;iu=/6062/iab_vast_samples/skippable&amp;ciu_szs=300x250,728x90&amp;impl=s&amp;gdfp_req=1&amp;env=vp&amp;output=xml_vast2&amp;unviewed_position_start=1&amp;url=[referrer_url]&amp;correlator=[timestamp]');</code>   </pre>

    <h3>播放器. 圖片 3. 設定輸入設定 ()</h3>

    <p>此方法可讓您為 HTML5 版的 IMA SDK 設定廣告顯示設定。</p>

    <p>
      如果尚未有廣告管理員，這個方法會儲存您的設定，並在建立廣告管理員時使用您提供的設定。如果廣告管理員已經存在，則會更新為使用您的設定。在任何一種情況下，未來建立的任何新廣告管理員都會使用您提供的最新設定。您可以直接存取 IMA SDK 來建立<code translate="No">AdsRenderingSettings</code>物件。<a href="https://developers.google.com/interactive-media-ads/docs/sdks/android/v3/api/reference/com/google/ads/interactivemedia/v3/api/AdsRenderingSettings">提供多種設定。</a> 
    </p>

    <h5>參數</h5>

    <ul>
      <li><strong translate="No"> Google.ima.Add 轉譯設定</strong>物件</li>
    </ul>

    <h5>傳回：</h5>

    <ul>
      <li>沒什麼</li>
    </ul>

    <p>範例：</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">var adsRenderingSettings = new google.ima.AdsRenderingSettings();
adsRenderingSettings.bitrate = 2500;
adsRenderingSettings.enablePreloading = true;
player.ima3.setAdsRenderingSettings(adsRenderingSettings);</code>   </pre>
  </section>

  <section class="bcls-section">
    <h2 id="Googles_AdsManager">谷歌的廣告經理</h2>

    <p>
      有一些方法和屬性可<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdsManager">以從谷歌的</a>谷歌。您可以使用接口的屬性/方法來檢索信息。不建議使用執行操作的方法<code translate="No">destroy</code>，如<code translate="No">setAutoPlayAdBreaks</code>，<code translate="No">stop</code>。例如，您可以使用的一種方法如下所示：
    </p>

    <h3>廣告管理員. 取得維護時間</h3>

    <p>類型：<code translate="No">google.ima.AdsManager.getRemainingTime</code>   </p>

    <p>用法：<code translate="No">myPlayer.ima3.adsManager.getRemainingTime()</code>   </p>

    <p>
      呼叫此方法會傳回目前廣告的剩餘時間量。如果廣告無法使用或播放完成，則會傳回-1。有關更多信息，請參閱 Google 的<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdsManager#getRemainingTime">文件</a>方法上。
    </p>
  </section>

  <section class="bcls-section">
    <h2 id="Accessing_the_IMA_SDK_directly">直接存取 IMA SDK</h2>

    <p>在執行階段，外掛程式物件上有許多 IMA 設定可用。例如，若要判斷您要使用的廣告 ID：</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">var adId = player.ima3.currentAd.getAdId();</code>   </pre>

    <p>
      請小心直接與這些屬性互動。呼叫錯誤的方法可能會導致未預期的結果和廣告無法正確播放。
    </p>

    <h3>廣告載入程式</h3>

    <p>類型：<code translate="No">google.ima.AdsLoader</code>   </p>

    <p>
      用來建立廣告請求的物件。請參閱<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js#ima.AdsManager">影像載入程式</a>。在外掛程式觸發之前<code translate="No">adsready</code>，廣告載入程式可能無法使用。
    </p>

    <h3>廣告管理員</h3>

    <p>類型：<code translate="No">google.ima.AdsManager</code>   </p>

    <p>
      負責播放廣告的對象。請參閱<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js#ima.AdsManager">影像. 廣告管理員</a>。直到外掛程式觸發之前<code translate="No">adsready</code>，廣告管理員才能使用。
    </p>

    <h3>廣告顯示容器</h3>

    <p>類型：<code translate="No">google.ima.AdDisplayContainer</code>   </p>

    <p>
      負責管理廣告顯示元素的物件。請參閱<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js#ima.AdDisplayContainer">影像. 廣告顯示容器</a>。在外掛程式觸發之前<code translate="No">adsready</code>，廣告顯示容器可能無法使用。
    </p>

    <h3>目前 D</h3>

    <p>類型：<code translate="No">google.ima.Ad</code>   </p>

    <p>
      廣告播放時，會封裝目前廣告相關資訊的物件。請參閱<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js#ima.Ad">影像廣告</a>。
    </p>
  </section>

  <section class="bcls-section">
    <h2 id="Events">活動</h2>

    <p>
      插件在加載，初始化和播放過程中發出一些自定義事件類型。您可以像處理其他事件一樣聆聽 IMA3 和廣告架構事件：
    </p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.on('ima3error', function(event) {
  console.log('event', event);
});</code>   </pre>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th style="width: 35%;">事件</th>
          <th style="width: 65%;">傳送時間：</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>影像 3 就緒</td>
          <td>ima3 外掛程式程式碼已載入並準備好載入 IMA SDK。</td>
        </tr>
        <tr>
          <td>圖像 3 錯誤</td>
          <td>從谷歌載入 IM3 SDK 時發生錯誤。如果發生，則不會顯示任何廣告。</td>
        </tr>
        <tr>
          <td>圖像 3 廣告錯誤</td>
          <td>
            在 IM3 SDK 中發生錯誤。您應該驗證您的廣告配置和設置，以確保您的 DoubleClick 帳戶配置正確。您可以在<a href="https://support.google.com/dfp_premium/">  DoubleClick 支援網站找到常見的疑難排解工作，</a>或與您的 DoubleClick 帳戶代表聯絡。
          </td>
        </tr>
        <tr>
          <td>廣告-請求</td>
          <td>根據要求提供廣告資料。</td>
        </tr>
        <tr>
          <td>廣告載入</td>
          <td>在廣告請求後有可用的廣告資料時。</td>
        </tr>
        <tr>
          <td>廣告-廣告開始</td>
          <td>廣告已開始播放。</td>
        </tr>
        <tr>
          <td>廣告-廣告</td>
          <td>廣告已經播放完畢。</td>
        </tr>
        <tr>
          <td>廣告-暫停</td>
          <td>廣告已暫停。</td>
        </tr>
        <tr>
          <td>廣告播放</td>
          <td>廣告會從暫停中繼續。</td>
        </tr>
        <tr>
          <td>廣告-跳過廣告</td>
          <td>已略過廣告。</td>
        </tr>
        <tr>
          <td>廣告-第一四分位</td>
          <td>廣告播放了其總持續時間的 25%。</td>
        </tr>
        <tr>
          <td>廣告-中點</td>
          <td>廣告播放了其總持續時間的 50%。</td>
        </tr>
        <tr>
          <td>廣告-第三四分位</td>
          <td>廣告播放的總持續時間的 75%。</td>
        </tr>
        <tr>
          <td>廣告-按一下</td>
          <td>觀眾點擊播放廣告。</td>
        </tr>
        <tr>
          <td>廣告-磁碟區變更</td>
          <td>播放廣告的音量已變更。</td>
        </tr>
        <tr>
          <td>廣告-網格已啟動</td>
          <td>線性廣告網繭 (已排序的廣告群組) 中的第一個廣告已開始。</td>
        </tr>
        <tr>
          <td>廣告-網格端</td>
          <td>線性廣告網繭 (已排序的廣告群組) 中的最後一個廣告已完成。</td>
        </tr>
        <tr>
          <td>廣告-完成</td>
          <td>所有線性廣告都已完成播放。</td>
        </tr>
      </tbody>
    </table>

    <h3 id="Re-dispatched_events">重新傳送的<code translate="No">ima3-</code>前置詞事件</h3>

    <p>
      在 HTML 模式下使用 IMA3 插件時，所有<strong translate="No">廣告錯誤事件</strong> , <strong translate="No">廣告事件</strong>和<strong translate="No">AdsManagerLoadedEvents</strong>重新分配給播放器。重新傳送事件時，它們會加上前綴<code translate="No">ima3-</code>。下表顯示重新傳送的事件：
    </p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>重新傳送的事件</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>圖像 3 廣告錯誤</td>
        </tr>
        <tr>
          <td>已載入映像 3 廣告管理員</td>
        </tr>
        <tr>
          <td>已完成影像 3 全部廣告</td>
        </tr>
        <tr>
          <td>影像 3 按一下</td>
        </tr>
        <tr>
          <td>影像 3 完成</td>
        </tr>
        <tr>
          <td>圖像 3 內容暫停請求</td>
        </tr>
        <tr>
          <td>ima3 第一四分位</td>
        </tr>
        <tr>
          <td>影像 3 硬逾時</td>
        </tr>
        <tr>
          <td>影像 3 載入</td>
        </tr>
        <tr>
          <td>影像 3 中點</td>
        </tr>
        <tr>
          <td>影像 3 已暫停</td>
        </tr>
        <tr>
          <td>影像 3 就緒</td>
        </tr>
        <tr>
          <td>影像 3 恢復</td>
        </tr>
        <tr>
          <td>影像 3 已啟動</td>
        </tr>
        <tr>
          <td>ima3-第三四分位元</td>
        </tr>
        <tr>
          <td>已變更的影像 3 磁碟區</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section class="bcls-section">
    <h2 id="Live_video_and_IMA3">即時視訊和 IMAP 3</h2>

    <p>
      如果您使用的是 IM3 插件的 3.1.0+ 版本，您可以在直播活動中使用預錄。當每個觀眾開始觀看直播活動時，預錄將播放，而不是直播活動開始的一次。在即時模組中設定您的活動時，如使用即時模組文件<a href="https://live.support.brightcove.com/live-module/creating-and-managing-live-events-using-live-module.html">建立和管理即時事</a>件所示，系統會提示您選取播放器。您需要為您選取的播放器設定廣告，如<a href="/advertising/step-step-implementing-advertising.html">逐步所示：實施廣告</a>文件。
    </p>

    <p>請注意下列實作的詳細資訊：</p>

    <ul>
      <li>只有前卷才會播放。不支援中卷和後捲。</li>
      <li>
        「<strong translate="No">請求廣告」</strong>類型必須是「<strong translate="No">載入中」</strong>或「播<strong translate="No">放中」</strong>。
      </li>
      <li>您必須使用的是<strong translate="No">  3.1.0 版或更高版本</strong>的 IM3 外掛程式，如前所述。</li>
    </ul>
  </section>

  <section class="bcls-section">
    <h2 id="Player_Ad_Libraries">播放器廣告庫</h2>

    <p>
      該視<a href="https://github.com/videojs/videojs-contrib-ads">頻/視頻的聯繫方式廣告</a>  GitHub 存儲庫包含一個插件，它提供了通過視頻廣告庫與布萊特灣播放器工作所需的共同功能。此外掛程式提供影片廣告整合所需的一般功能，並負責廣告整合商的許多問題，減少您為廣告整合所撰寫的程式碼。該插件是完全記錄的，以<a href="https://github.com/videojs/videojs-contrib-ads/blob/main/docs/index.md">索引頁</a>作為最好的起點。
    </p>

    <p>
      有可以從插件使用的方法，事件和屬性。完整詳情請參閱<a href="https://github.com/videojs/videojs-contrib-ads/blob/main/docs/integrator/api.md">影片-聯絡人廣告 API 參考資料</a>。這裡提供了可用工具的取樣，從方法開始：
    </p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>方法</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>以下模式 ()</td>
          <td><code translate="No">true</code>如果播放器處於廣告模式，則傳回。</td>
        </tr>
        <tr>
          <td>等候中斷 ()</td>
          <td>如果廣告破發還沒有開始此方法<code translate="No">true</code>在廣告模式期間返回。</td>
        </tr>
        <tr>
          <td>內容建立 ()</td>
          <td>這個方法<code translate="No">true</code>在廣告模式期間傳回一個廣告片斷結束後，但內容恢復播放之前。</td>
        </tr>
      </tbody>
    </table>

    <p>該插件還傳送許多事件，這裡列出了一些事件：</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>事件</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>Adstart</td>
          <td>直接解僱作為調用的結果<code translate="No">startLinearAdMode()</code>。</td>
        </tr>
        <tr>
          <td>堅持</td>
          <td>直接發射作為調用的結果<code translate="No">endLinearAdMode()</code>。</td>
        </tr>
        <tr>
          <td>準備預先轉換</td>
          <td>表示您的廣告外掛程式可能會透過呼叫來啟動預先播放廣告片段<code translate="No">startLinearAdMode()</code>。</td>
        </tr>
      </tbody>
    </table>

    <p>該插件還提供了許多屬性，這裡列出了一些屬性：</p>

    <table class="bcls-table">
      <thead class="bcls-table__head">
        <tr>
          <th>名稱</th>
          <th>資料類型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody class="bcls-table__body">
        <tr>
          <td>廣告</td>
          <td>字串</td>
          <td>播放廣告的唯一識別碼</td>
        </tr>
        <tr>
          <td>廣告索引</td>
          <td>編號</td>
          <td>在指定時間播放的廣告索引；索引會識別廣告網繭中廣告的序數值</td>
        </tr>
        <tr>
          <td>廣告持續時間</td>
          <td>編號</td>
          <td>以秒為單位的廣告持續時間</td>
        </tr>
        <tr>
          <td>廣告類型</td>
          <td>字串</td>
          <td>
            可以是<strong translate="No">預捲</strong>、中<strong translate="No">音</strong>或<strong translate="No">後捲</strong> 
          </td>
        </tr>
        <!-- <tr>
      <td>ads.ad.currentTime</td>
      <td>function</td>
      <td>A function that returns the current time of ad playback</td>
      </tr> -->
      </tbody>
    </table>

    <p>下列程式碼會示範如何使用屬性：</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">var myPlayer,
  player = bc('myPlayerID');
player.ima3({
  serverUrl: '//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap.xml'
});
player.ready(function () {
  myPlayer = this;
  myPlayer.on('ads-ad-started', function (evt) {
    console.log('ads-ad-started event passed to event handler', evt);
    console.log('myPlayer.ads.ad.id', myPlayer.ads.ad.id);
    console.log('myPlayer.ads.ad.index', myPlayer.ads.ad.index);
    console.log('myPlayer.ads.ad.duration', myPlayer.ads.ad.duration);
    console.log('myPlayer.ads.ad.type', myPlayer.ads.ad.type);
  });
});</code>   </pre>

    <p>從上面的代碼控制台中的輸出如下所示：</p>

    <figure class="bcls-figure">
      <img class="bcls-image" alt="console of contrib-ads properties" src="/assets/images/plugins/ima/contrib-ads-properties.png" />
    </figure>
  </section>
  <!-- <section class="bcls-section">
      <h2 id="Ad_network_flow">Ad network flow</h2>
      <p>For those wishing to see a bit more "under the hood", a browser's development tools Network tab can reveal interesting details about the key files being downloaded as part of the ad process.</p>
      <p>In this example using the IMA3 plugin, you first see the plugin's SWF version being downloaded. Note that the screenshots are from a desktop, so the browser is getting the Flash version of the plugin.</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="network flow SWF" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/ads-learning-guide-network-plugin-swf.png" /></figure>
      <p>The next ads related file to download is the VMAP document.</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="network flow VMAP" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/ads-learning-guide-network-vmap.png" /></figure>
      <p>Last to load is a VAST document for a particular ad.</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="nework flow VAST" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/ads-learning-guide-network-vast.png" /></figure>
      </section> -->

  <section class="bcls-section">
    <h2 id="Implement_using_code">使用程式碼實作</h2>

    <p>
      要實現 IM3 插件播放器需要知道插件代碼，樣式表，插件名稱和插件配置選項的位置。插件代碼和樣式表的位置如下：
    </p>

    <pre class="line-numbers">
<code class="language-html" translate="No">https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js</code>   </pre>

    <pre class="line-numbers">
<code class="language-html" translate="No">https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css</code>   </pre>

    <p>插件的名稱是<code translate="No">ima3</code>，一組選項的示例是：</p>

    <pre class="line-numbers">
<code class="language-json" translate="No">{
  "serverUrl": "//pubads.g.doubleclick.net/gampad/ads?sz=400x300&amp;iu=%2F6062...",
  "timeout": 5000
}</code>   </pre>

    <p>下列範例會使用播放程式的「頁內嵌」實作，將 IMA 外掛程式與播放程式的單一執行個體產生關聯。</p>

    <aside class="bcls-aside bcls-aside--information">在下面的代碼中，你看到該<code translate="No">bc()</code>方法被調用來初始化 Brightcove 播放器，然後 IM3 插件之後立即初始化。這是因為 IM3 插件才能正常運行，它需要在播放器初始化後立即加載，然後再初始化任何其他插件。在<code translate="No">videojs.getPlayer('myPlayerID').ready(...)</code>或發送<code translate="No">loadedmetadata</code>事件時初始化 IM3 外掛程式會導致外掛程式無法如預期般運作。</aside> 

    <ul>
      <li>
        第十二行：使用<code translate="No">link</code>標籤在 HTML 頁面中包含外掛程式<code translate="No">head</code>的 CSS。
      </li>
      <li>
        第 15 行：給標<code translate="No">video</code>籤一個<code translate="No">id</code>屬性，具有一定的值，在這種情況下<strong translate="No">  MyPlayerID </strong>。
      </li>
      <li>
        第 23 行：使用<code translate="No">script</code>標籤將外掛程式的 JavaScript 包含在<code translate="No">body</code>    HTML 網頁中。
      </li>
      <li>
        第二十六至二十九號線：使用該<code translate="No">bc()</code>方法初始化播放器，然後調用該<code translate="No">ima3()</code>方法。
      </li>
      <li>
        第 30-33 行：在播放器上<code translate="No">ready</code>，會建立玩家的參考。該評論顯示為指出您可以在哪裡放置代碼以添加其他播放器行為，超出 IM3 插件設置和配置。
      </li>
    </ul>

    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;IMA3 Plugin Code Example&lt;/title&gt;
  &lt;style&gt;
    .video-js {
      height: 344px;
      width: 610px;
    }
  &lt;/style&gt;
  &lt;link href="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet"&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;video-js id="myPlayerID"
    data-video-id="3851380732001"
    data-account="1752604059001"
    data-player="Hy3gDJHu"
    data-embed="default"
    class="video-js"
    controls&gt;&lt;/video-js&gt;
  &lt;script src="https://players.brightcove.net/1752604059001/Hy3gDJHu_default/index.min.js"&gt;&lt;/script&gt;
  &lt;script src="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js"&gt;&lt;/script&gt;
  &lt;script&gt;
    var myPlayer;
    var player = bc('myPlayerID');
    player.ima3({
      serverUrl: '//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap.xml'
    });
    player.ready(function() {
      myPlayer = this;
      //Do something
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code>   </pre>
  </section>
  <!-- <section class="bcls-section">
      <h2 id="Creating_an_ad_tag_based_on_media_info">Creating an ad tag based on media info</h2>
      <p>A common use-case for programmatic ads is to create an ad tag based on media info, retrieved from the <code translate="No">mediainfo</code> object. Because the ad tag can be passed in as an option during plugin initialization, it may seem appropriate to defer
      plugin initialization until media info is available. As seen in the <a href="#Implement_using_code"> previous section</a>, however, plugin initialization cannot be deferred. Instead, initialization can happen at the usual time, but the ad
      tag can be set later when the necessary media info becomes available.</p>
      <p>Here is an example of how this works. Note that the properties of the <code translate="No">mediainfo</code> object cannot be used until the <code translate="No">loadedmetadata</code> event has been dispatched, which is standard practice.</p>
      <aside class="bcls-aside bcls-aside--warning">This technique will NOT work if <code translate="No">autoplay</code> is true AND the ad request type is <code translate="No">onplay</code>. In this case you MUST set the <code translate="No">serverUrl</code> in the initial IMA3 plugin configuration.</aside>
      <pre class="line-numbers">
      <code class="language-javascript" translate="No">var myPlayer;
      // Initialize player
      var player = bc('myPlayerID');
      // Initialize IMA plugin
      // A blank serverUrl is used here because we want metadata from the video
      player.ima3({
      serverUrl: "",
      requestMode: 'onplay',
      debug: true
      });
      // When the player's ready, let's get started
      player.ready(function(){
      myPlayer = this;
      myPlayer.one("loadedmetadata", function(){
      // Now we have metadata, we can set up the ad with information from mediainfo
      if (<span class="bcls-highlight">myPlayer.mediainfo.id</span> === '4034552795001') {
      myPlayer.ima3.settings.serverUrl = "https://pubads.g.doubleclick.net/";
      } else {
      myPlayer.ima3.settings.serverUrl = "https://example.com/ads/";
      }
      });
      });</code></pre>
      </section> -->

  <section class="bcls-section">
    <h2 id="Hybrid_implementation">混合式實作</h2>

    <p>
      到目前為止，在這個文檔中，你已經看到了在 Studio 中實現的 IMA 插件，然後在代碼中。有些客戶喜歡執行混合實現，其中基本插件在 Studio 中添加，但然後在頁面的 JavaScript 中進行配置。本節將討論此混合式實作。
    </p>

    <p>
      正如你剛剛在前面的一節中看到的，當實現 IM3 插件純粹在代碼中你操縱的功能格式插件。當您在 Studio 中安裝插件，然後在頁面中配置時，您必須將該插件視為對象。例如，假設您已經使用 Studio 安裝了 IMA3 插件，如下所示，注意沒有<strong>廣告標籤</strong>提供：
    </p>

    <figure class="bcls-figure">
      <img class="bcls-image" alt="Partial Studio Install" src="/assets/images/plugins/ima/partial-studio-install.png" />
    </figure>

    <p>現在，在頁面的 JavaScript 中，您可以分配屬性值（請記住，現在將插件視為對象），如下所示：</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  myPlayer.ima3.settings.serverUrl = 'http://solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap.xml';
});</code>   </pre>

    <p>當然，其他屬性可以用這種方式分配值。</p>
  </section>

  <section class="bcls-section">
    <h2 id="Debugging_assistance">除錯協助</h2>

    <p>
      偵錯廣告播放問題時，有兩個選項可供協助。如果您不做任何動作，您只會在主控台中看到廣告開始和完成時間的相關資訊：
    </p>

    <figure class="bcls-figure">
      <img class="bcls-image" alt="debug output in console" src="/assets/images/plugins/ima/default-console-debug.png" />
    </figure>

    <p>
      本文檔前面提到的第一個選項<a href="#Options">選項</a>部分。這會在插件級別打開調試。您將看到其他調試信息：
    </p>

    <figure class="bcls-figure">
      <img class="bcls-image" alt="debug output in console" src="/assets/images/plugins/ima/console-debug.png" />
    </figure>

    <p>
      第二個選項利用谷歌提供的工具。您可以指<strong translate="No">定一個指向谷歌提供的 JavaScript 文件的值</strong>選項。這裡顯示了一個示例配置：
    </p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">var myPlayer = bc('myPlayerID');
myPlayer.ima3({
  "serverUrl": "//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap.xml",
  "debug": true,
  <span class="bcls-highlight">"sdkurl": "//imasdk.googleapis.com/js/sdkloader/ima3_debug.js"</span>
});
myPlayer.ready(function() {
  myPlayer = this;
});</code>   </pre>

    <p>
      展開的除錯資訊會顯示類似下列內容。(黃色突出顯示的資訊來自外掛程式的偵錯，而藍色突出顯示的資訊是由 Google 工具產生的。)
    </p>

    <figure class="bcls-figure">
      <img class="bcls-image" alt="debug output in console" src="/assets/images/plugins/ima/console-debug-google.png" />
    </figure>

    <aside class="bcls-aside bcls-aside--information">注意：插件的調試信息和谷歌信息之間沒有依賴關係。它們可以單獨使用或一起使用。</aside> 

    <p>
      有關 Google 的 IMA 錯誤的更多詳細信息，請參閱<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdError">類 google.ima.AdError</a>谷歌的部分<strong translate="No">Google IMA HTML5 SDK API</strong>文檔。
    </p>
  </section>

  <section class="bcls-section">
    <h2 id="Known_issues">已知問題</h2>

    <h3>子母畫面已停用</h3>
    <p>
      實作 IM3 外掛程式時，<a href="/general/player-configuration-guide.html#picture_in_picture_control">子母畫面控制項會</a>停用。這是一個故意的設計決策。
    </p>

    <h3>在工作室中設置自動播放</h3>

    <p>
      如果您使用 IM3 外掛程式來顯示廣告，請勿在 Studio 中設定自動播放。在 Studio 中設定自動播放可能會導致廣告播放失敗。如需進一步資訊，請參閱「<a href="/playback/autoplay-considerations.html">自動播放考量」</a>文件。
    </p>

    <h3><em>進一步了解</em> 和 <em>廣告倒數計時器</em> 默認情況下不再顯示</h3>
    <p>使用谷歌的 IMA SDK 中的<code translate="No">useStyledLinearAds</code>屬性存在解決方法。將此值設定為 true，如下所示：</p>
    <pre class="line-numbers"><code class="language-javascript" translate="No">adsRenderingSettings.useStyledLinearAds=true;</code>   </pre>
    <p>有關更多詳細信息，請參閱谷歌的谷歌<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/client-side/reference/js/google.ima.AdsRenderingSettings#useStyledLinearAds"> . 圖像. 廣告渲染設置</a>文檔。</p>

    <h3>安卓瀏覽器：解除預捲動靜音，影片不會自動播放</h3>

    <p>
      在 Android 上使用 Chrome (最新版本) 並在播放預先播放時將播放器取消靜音時，播放程式不會在預先播放結束後自動開始播放影片。如果您將廣告取消靜音，Brightcove Player 的音量持續性功能也會取消內容的靜音，因為觀眾的目的是聆聽音訊。然而，在較新版本的 Chrome Android 上，未靜音的內容將無法自動播放，並且已新增開始播放的使用者手勢要求。這是一個操作系統/設備級別的設置，而不是布萊特灣可以覆蓋的東西。
    </p>

    <h3>預先播放的「目前時間」顯示可能不正確</h3>

    <p>這個問題與 IMA SDK 報告目前時間的方式有限制。目前沒有記錄的解決方法。</p>

    <h3>未靜音的中音可能無法在 Safari 11 桌面上播放</h3>

    <p>
      由於谷歌的 IMA SDK 改變，未靜音的中間可能無法在 Safari 11 桌面上播放。Safari 11（桌面版和可能是 iOS）拒絕自動播放時，引入了新的行為，觸發錯誤並取消廣告。以這種方式受到影響的 Midrolls 會觸發廣告錯誤 400，錯誤碼 1205 表示無法播放自動播放。
    </p>

    <h3>支援的環境</h3>

    <p>
      如要查看平台、廣告標準和影片媒體的支援組合，請參閱 Google 的<a href="https://developers.google.com/interactive-media-ads/video_features_and_sdk_versions">影片功能和 SDK 相容性</a>文件。該文件和<a href="https://developers.google.com/interactive-media-ads/docs/vastinspector_dual">視訊套件檢閱器</a>將協助您診斷嘗試的 IM3 廣告設定，這些設定無法運作。
    </p>

    <aside class="bcls-aside bcls-aside--information">注意：若要使用視訊套件檢閱器，您需要您的 VAST 廣告代碼或 VAST 廣告回應。然後，您可以將其粘貼到給定的文本字段，然後單擊<strong translate="No">測試廣告</strong>按鈕。</aside> 

    <h3>覆蓋和全螢幕轉換</h3>

    <p>
      video.js 使用<a href="https://www.w3.org/TR/fullscreen/">全屏API</a>在可用的地方。不同的瀏覽器會以不同的方式實作全螢幕轉換，而且在進出全螢幕模式時，可能會產生外觀上的差異。在大多數實現中，被取入全屏的元素在幾何上縮放（即縮放）從其原始到目標大小。不過，大部分的覆疊廣告都設計為以固定大小顯示，因此在動畫完成之前，它們可能會變成扭曲。
    </p>
    <!-- <h3>Midrolls and live streams/VMAP live streams</h3>
      <p>Midrolls play immediately if they are configured for live streams. The reason this occurs is that in live video time is relative. If a midroll says 10 seconds, it's not clear what 10 seconds is relative to. Is it 10 seconds from the start of
      the stream, or 10 seconds from the start of the time the user started playback? A better solution for a live streams is using ID3 metadata that gives unambiguous cue points when an ad should be played.</p> -->

    <h3 id="skippable-ads">iOS 裝置上的可略過廣告</h3>

    <p>使用 IMA3 外掛程式，符合以下條件時，可略過的廣告可在 iPhone 上播放：</p>

    <ul>
      <li>該<code translate="No">playsinline</code>屬性存在於元<code translate="No">video</code>素</li>
      <li>
        該<code translate="No">disableCustomPlaybackForIOS10Plus</code>設置被傳遞給插件，並設置為<code translate="No">true</code>   
      </li>
    </ul>

    <p>對於該<code translate="No">playsinline</code>屬性，只需將其作為<code translate="No">video</code>標籤中的屬性包含即可：</p>

    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id="player"
  width="640"
  height="360"
  data-video-id="4524585416001"
  data-account="4360108595001"
  data-player="r12ukws9l"
  data-embed="default"
  class="video-js"
  <span class="bcls-highlight">playsinline</span>
  controls&gt;&lt;/video-js&gt;
</code>   </pre>

    <aside class="bcls-aside bcls-aside--information">注意：該<code translate="No">playsinline</code>屬性僅適用於 iOS 10+。</aside> 

    <p>
      對於<code translate="No">disableCustomPlaybackForIOS10Plus</code>設定，請將其指定為下列屬性<code translate="No">ima3SdkSettings</code>：
    </p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  ima3SdkSettings: {
    "disableCustomPlaybackForIOS10Plus": true
  }
})
</code>   
</pre>

    <p>如果您正在使用 Studio 並希望在那裡使用該設置，請將其添加到您的 IM3 插件配置中：</p>

    <pre class="line-numbers">
<code class="language-javascript" translate="No">{
  "ima3SdkSettings": {
    "disableCustomPlaybackForIOS10Plus": true
  }
}</code>   </pre>

    <p>
      有關此設置的完整詳細信息，請參閱<a href="#disableCustomPlaybackForIOS10Plus">disableCustomPlaybackForIOS10Plus</a>進入<code translate="No">ima3SdkSettings</code>本文件的部分。
    </p>

    <p><strong translate="No">可略過的廣告限制：</strong> </p>

    <ul>
      <li>
        [ <strong translate="No">略過廣告</strong> ] 按鈕 <em>可能會部分覆蓋在廣告控制列</em> 在某些行動裝置上。這使得終端使用者難以實際跳過廣告。用戶可以捏合縮放，使行動設備上的<strong translate="No">跳過廣告</strong>按鈕更大，以便能夠點擊它。
      </li>
      <li>
        <strong translate="No"> iPhone </strong>不含<code translate="No">playsinline</code>和<code translate="No">disableCustomPlaybackForIOS10Plus</code>   -無法播放可略過的廣告。
      </li>
      <li>
        <strong translate="No"> iPhone </strong>與<code translate="No">playsinline</code>和<code translate="No">disableCustomPlaybackForIOS10Plus</code>   -廣告是內聯播放，但如果使用全屏，廣告不會顯示，但廣告的音頻將播放。換句話說，全螢幕中的可略過廣告無法正常運作。
      </li>
      <li><strong translate="No"> iPad </strong> -廣告以內嵌方式播放，但無法在全螢幕模式下使用跳過功能</li>
    </ul>

    <h3>如何使用使用<code translate="No">playsinline</code>和進行全螢幕時，預先播放廣告無法運作</h3>

    <p>
      如果<code translate="No">playsinline</code>在 iOS 10 iPad 和 iPhone 上使用，允許觀看未全螢幕的影片，則會開始播放預拍廣告，並按下全螢幕按鈕，廣告將不會繼續播放。這是谷歌 IMA 實施的一個限制，谷歌沒有計劃糾正這個問題。
    </p>

    <h3>與 gpt_proxy.js 的衝突</h3>

    <p>
      如果將 GPT 代理指令碼與 IMA3 搭配使用，而<strong translate="No">  ADTechOder </strong>是<strong translate="No">  HTML5 </strong>，則可能會發生播放問題。IMA3 插件在使用任何腳本時都會受到影響<strong translate="No">窗口.google</strong>或者<strong translate="No">window.google.ima</strong> .建議您檢查您是否使用 Brightcove 播放器，如果是這樣，請不要在這些情況下加載代理。
    </p>

    <h3>調整<strong translate="No">略過廣告大小</strong>按鈕</h3>

    <p>
      您無法調整 [ <strong translate="No">略過廣告</strong> ] 按鈕的大小。Brightcove 播放器 API 沒有方法或屬性來指定「<strong translate="No">跳過廣告</strong>」按鈕的大小。在開發者層級，如果發佈商使用 VPAID 廣告，則廣告可以實現自己的<strong translate="No">跳過廣告</strong>按鈕和邏輯，以符合 Brightcove 播放器的 UI 和元素分佈。
    </p>

    <h3>在 iOS 上無法自動播放廣告</h3>

    <p>
      雖然不是 IMA3 外掛程式，但知道這<code translate="No">autoplay</code>是受限制的 iOS，所以廣告在製作使用者手勢之後才會開始播放。
    </p>

    <h3 id="Ad_cue_point_issues">廣告提示點問題</h3>

    <p>
      有關使用廣告提示點的特定問題，請參閱<strong translate="No">已知的問題</strong>的部分<a href="/advertising/displaying-ads-using-ad-cue-points.html#Known_issues">使用廣告提示點顯示廣告</a>文檔。
    </p>

    <h3>IM3 開發套件的<code>網址</code>參數</h3>
    <p>Google 廣告管理員的<code>網址</code>參數是傳送廣告請求的完整網址。請注意，此值會由 IMA SDK 自動設定，並且實際上會覆寫您可能提供的任何值。</p>
  </section>

  <section class="bcls-section">
    <h2 id="Changelog">變更記錄檔</h2>
    <p>請參閱<a href="http://players.brightcove.net/release-notes/brightcove-player-ima3/index.html">  IM3 外掛程式版本說明</a>。</p>
    <p>如需歷史版本說明，請參閱此處的<a href="/plugins/changelog/advertising-ima3-plugin-changelog.html">變更記錄檔</a>。</p>

  </section>
</article>