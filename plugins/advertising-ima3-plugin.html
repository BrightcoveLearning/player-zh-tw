<!doctype html>
<html lang="zh-TW">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  
  <title>使用 IM3 外掛程式進行廣告</title>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">  
  <link data-react-helmet="true" rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500&amp;display=swap">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/site/prism.css">
  <link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/site/styles.css">
  <link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/site/landing-page.css">
  <link rel="stylesheet" href="https://support.brightcove.com/site-assets/css/site/tabs.css">
  <link rel="stylesheet" href="/assets/css/local.css">
  <link href="https://fonts.googleapis.com/css?family=Lato&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/381443caa8.js" crossorigin="anonymous"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/google-analytics.js"></script>
  <script src="/assets/js/sajari-head.js"></script>
</head>

<body class="body">

<header>
  <div class="div-header">
    <a href="/"><img class="product-logo" src="https://support.brightcove.com/site-assets/images/site/product-logos/Player_Logo.svg" alt="產品標誌" style="max-height: 100px;max-width: 232px;"/></a>
<!-- GTranslate: https://gtranslate.io/ -->
<select onchange="doGTranslate(this);"><option value="">選擇語言</option><option value="en|en" translate="No">English</option><option value="en|zh-TW" translate="No">繁體中文</option><option value="en|fr" translate="No">Français</option><option value="en|de" translate="No">Deutsche</option><option value="en|ja" translate="No">日本語</option><option value="en|ko" translate="No">한국어</option><option value="en|es" translate="No">Español</option></select>

<script>
/* <![CDATA[ */
function doGTranslate(lang_pair) {if(lang_pair.value)lang_pair=lang_pair.value;if(lang_pair=='')return;var lang=lang_pair.split('|')[1];var plang=location.hostname.split('.')[0];if(plang.length !=2 && plang.toLowerCase() != 'zh-cn' && plang.toLowerCase() != 'zh-tw')plang='en';location.href=location.protocol+'//'+(lang == 'en' ? '' : lang+'.')+location.hostname.replace('www.', '').replace(RegExp('^' + plang + '\\.'), '')+location.pathname+location.search;}
/* ]]> */
</script>

    <select id="site_select" class="bcls-select" style="margin-right: 1rem;">
      <option value="">其他布萊特灣文件</option>
      
        
          <option value="https://support.brightcove.com">文件首頁</option>
        
      
        
          <option value="https://audience.support.brightcove.com">布萊特灣觀眾</option>
        
      
        
          <option value="https://beacon.support.brightcove.com">布萊特灣燈塔</option>
        
      
        
          <option value="https://campaign.support.brightcove.com">布萊特灣戰役</option>
        
      
        
          <option value="https://engage.support.brightcove.com">布萊特灣參與</option>
        
      
        
          <option value="https://live.support.brightcove.com">Brightcove Live</option>
        
      
        
          <option value="https://gallery.support.brightcove.com">Brightcove 圖庫</option>
        
      
        
          <option value="https://ssai.support.brightcove.com">布萊特灣</option>
        
      
        
          <option value="https://social.support.brightcove.com">布萊特灣社會</option>
        
      
        
          <option value="https://studio.support.brightcove.com">視訊雲端工作室</option>
        
      
        
          <option value="https://player.support.brightcove.com">布萊特灣球員開發</option>
        
      
        
          <option value="https://apis.support.brightcove.com">視訊雲端平台 API</option>
        
      
        
          <option value="https://sdks.support.brightcove.com">視訊雲端裝置開發套件</option>
        
      
        
          <option value="https://integrations.support.brightcove.com">整合與 CMS 連接器</option>
        
      
        
          <option value="https://general.support.brightcove.com">視訊雲端一般資訊</option>
        
      
        
          <option value="https://zencoder.support.brightcove.com">Zencoder</option>
        
      
    </select>


    <span class="secondary-nav"><a href="https://supportportal.brightcove.com/s/login/?"><img src="https://support.brightcove.com/site-assets/images/site/support.png" alt="支持"/>聯繫支持</a><span style="vertical-align: top;margin-left:1em;margin-right:1em;">|</span><a href="https://status.brightcove.com/"><img src="https://support.brightcove.com/site-assets/images/site/status.png" alt="系統狀態"/>系統狀況</a></span><br/>
    
  </div>
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb arr-right">
      
      <li class="breadcrumb-item"><a href="/">首頁</a></li>
      
      
      
      <li class="breadcrumb-item"><a href="/plugins/">外掛程式</a></li>
      
      <li class="breadcrumb-item active" aria-current="page">使用 IM3 外掛程式進行廣告</li>
    </ol>
  </nav>
</header>
<div class="container">
    <div class="row">
      <div class="col-sm-3 left-side-bar">
        <nav class="sidenav" id="side_nav">
          
            
            <h5><a href="/index.html">首頁</a></h5>
            
          
            
              <h5 class="submenu-header"><a href="/getting-started/index.html">開始使<strong>用 + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/training/developer-basics-videos.html">開發人員基本資訊</a></li>
                  
                
                  
                    <li><a href="/getting-started/what-brightcove-player.html">什麼是布萊特灣玩家？</a></li>
                  
                
                  
                    <li><a href="/getting-started/overview-brightcove-player.html">概述：布萊特灣玩家</a></li>
                  
                
                  
                    <li><a href="/getting-started/learning-guide-video-advertising.html">學習指南：影片廣告</a></li>
                  
                
                  
                    <li><a href="/getting-started/overview-brightcove-player-plugins.html">概述：布萊特灣播放器外掛程式</a></li>
                  
                
                  
                    <li><a href="/training/player-development-training-videos.html">玩家開發訓練影片</a></li>
                  
                
                  
                    <li><a href="/getting-started/step-step-brightcove-player.html">逐步：布萊特灣玩家</a></li>
                  
                
                  
                    <li><a href="/getting-started/step-step-player-customization.html">逐步：玩家自訂</a></li>
                  
                
                  
                    <li><a href="/training/training-demand-developing-brightcove-player.html">訓練：與布萊特灣玩家一起進行開發</a></li>
                  
                
                  
                    <li><a href="/getting-started/learning-guide-using-rest-apis.html">學習指南：使用其他應用程式介</a>面</li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/basics/index.html">學習基本知識<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/basics/developer-basics-advanced-player-code.html">進階播放程式碼</a></li>
                  
                
                  
                    <li><a href="/basics/developer-basics-autoplaying-video.html">自動播放視訊</a></li>
                  
                
                  
                    <li><a href="/basics/developer-basics-custom-plugin-converting-code.html">自定義插件-轉換代碼</a></li>
                  
                
                  
                    <li><a href="/basics/developer-basics-custom-plugin-passing-data.html">自定義插件-傳遞數據</a></li>
                  
                
                  
                    <li><a href="/basics/developer-basics-custom-plugin-using-studio.html">自定義插件-使用工作室</a></li>
                  
                
                  
                    <li><a href="/basics/developer-basics-custom-plugin-why-and-how.html">自定義插件-為什麼和如何</a></li>
                  
                
                  
                    <li><a href="/training/developer-basics-videos.html">開發人員基本資訊</a></li>
                  
                
                  
                    <li><a href="/basics/developer-basics-generating-player-code.html">產生播放程式代碼</a></li>
                  
                
                  
                    <li><a href="/basics/developer-basics-preparing-write-code.html">準備撰寫程式碼</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/references/index.html">參考資料<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/references/brightcove-player-5-6-migration-guide.html">布萊特灣玩家 5 至 6 轉移指南</a></li>
                  
                
                  
                    <li><a href="https://docs.brightcove.com/brightcove-player/current-release/index.html">布萊特灣播放器 API 文檔（外部網站）</a></li>
                  
                
                  
                    <li><a href="/references/brightcove-player-cookies.html">布萊特灣球員曲奇</a></li>
                  
                
                  
                    <li><a href="/references/brightcove-player-error-reference.html">布萊特灣玩家錯誤參考</a></li>
                  
                
                  
                    <li><a href="https://groups.google.com/forum/embed/?place=forum/bcplayerdev#!forum/bcplayerdev">布萊特灣球員公告論壇</a></li>
                  
                
                  
                    <li><a href="/references/brightcove-player-system-requirements.html">布萊特灣玩家系統需求</a></li>
                  
                
                  
                    <li><a href="/references/catalog-search-architecture.html">目錄搜尋架構</a></li>
                  
                
                  
                    <li><a href="https://general.support.brightcove.com/general/known-issues-studio-brightcove-player-and-apis.html">已知問題</a></li>
                  
                
                  
                    <li><a href="/references/player-catalog.html">播放器目錄</a></li>
                  
                
                  
                    <li><a href="/references/player-feature-support-browser.html">瀏覽器支援播放器功能</a></li>
                  
                
                  
                    <li><a href="/references/player-metadata-bcinfo.html">來自 bcinfo 的播放器中繼資料</a></li>
                  
                
                  
                    <li><a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html">播放器方法/事件 API（外部網站）</a></li>
                  
                
                  
                    <li><a href="/references/guide-playlist-api.html">播放清單 API 指南</a></li>
                  
                
                  
                    <li><a href="/references/video-metadata-mediainfo.html">來自媒體資訊的視訊中繼資料</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/plugins/index.html">外掛程式<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/plugins/360degvr-video-plugin.html">360 度影片</a></li>
                  
                
                  
                    <li><a href="/plugins/ad-only-plugin.html">僅廣告</a></li>
                  
                
                  
                    <li><a href="/plugins/advertising-freewheel-plugin.html">廣告與飛輪插件</a></li>
                  
                
                  
                    <li><a href="/plugins/advertising-ima3-plugin.html">使用 IM3 外掛程式進行廣告</a></li>
                  
                
                  
                    <li><a href="/plugins/upgrading-ima3-plugin-version-3.html">升級至 IM3 外掛程式版本 3 </a></li>
                  
                
                  
                    <li><a href="/plugins/implementing-server-side-ads-brightcove-player.html">廣告與 SAI </a></li>
                  
                
                  
                    <li><a href="/plugins/chromecast-plugin-brightcove-player.html">鉻</a></li>
                  
                
                  
                    <li><a href="/plugins/custom-endscreen-plugin.html">自訂螢幕終止畫面</a></li>
                  
                
                  
                    <li><a href="/plugins/display-error-messages-plugin.html">顯示錯誤訊息</a></li>
                  
                
                  
                    <li><a href="/plugins/display-thumbnail-previews-plugin.html">顯示縮圖預覽</a></li>
                  
                
                  
                    <li><a href="/plugins/configuring-brightcove-player-drm.html">DRM </a></li>
                  
                
                  
                    <li><a href="/plugins/google-tag-manager-plugin-brightcove-player.html">谷歌代碼管理工具</a></li>
                  
                
                  
                    <li><a href="/plugins/hls-plugin.html">HLS </a></li>
                  
                
                  
                    <li><a href="/plugins/live-dvrux-plugin.html">直播 DVRUX </a></li>
                  
                
                  
                    <li><a href="/plugins/display-overlay-plugin.html">覆疊</a></li>
                  
                
                  
                    <li><a href="/plugins/overview-brightcove-player-plugins.html">概述：玩家外掛程式</a></li>
                  
                
                  
                    <li><a href="/plugins/picture-picture-plugin-aka-floating-or-pinned.html">子母畫面</a></li>
                  
                
                  
                    <li><a href="/plugins/playerplugin-version-testing.html">播放器/插件版本測試</a></li>
                  
                
                  
                    <li><a href="/plugins/playlist-ui-plugin.html">播放清單 UI </a></li>
                  
                
                  
                    <li><a href="/plugins/changelog/index.html">外掛程式變更記錄</a></li>
                  
                
                  
                    <li><a href="/plugins/plugin-registry.html">外掛程式登錄</a></li>
                  
                
                  
                    <li><a href="/plugins/plugin-version-reference.html">外掛程式版本參考</a></li>
                  
                
                  
                    <li><a href="/plugins/quality-selection-plugin.html">品質選擇</a></li>
                  
                
                  
                    <li><a href="/plugins/social-sharing-plugin.html">社交媒體</a></li>
                  
                
                  
                    <li><a href="/plugins/tealium-plugin-brightcove-player.html">茶葉標籤管理程式</a></li>
                  
                
                  
                    <li><a href="/plugins/video-seo-schema-generator-plugin.html">視頻 SEO 模式生成器</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/advertising/index.html">廣告<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/advertising/ad-events-and-ad-objects.html">廣告事件和廣告物件</a></li>
                  
                
                  
                    <li><a href="/plugins/ad-only-plugin.html">僅廣告外掛程式</a></li>
                  
                
                  
                    <li><a href="/plugins/advertising-freewheel-plugin.html">廣告與飛輪插件</a></li>
                  
                
                  
                    <li><a href="/plugins/advertising-ima3-plugin.html">使用 IM3 外掛程式進行廣告</a></li>
                  
                
                  
                    <li><a href="/advertising/client-side-preroll-with-live-ssai.html">使用即時 SSAI 的客戶端預先廣告</a></li>
                  
                
                  
                    <li><a href="/advertising/displaying-ads-using-ad-cue-points.html">使用廣告提示點顯示廣告</a></li>
                  
                
                  
                    <li><a href="/advertising/flash-no-longer-valid-ima.html">閃光燈在 IMA 中不再有效</a></li>
                  
                
                  
                    <li><a href="/advertising/guide-ad-partner-integration.html">指南：廣告合作夥伴整合</a></li>
                  
                
                  
                    <li><a href="/advertising/guide-contrib-ads-migration.html">指南：接觸式廣告移轉</a></li>
                  
                
                  
                    <li><a href="/plugins/implementing-server-side-ads-brightcove-player.html">與布萊特灣玩家一起實施 SSAI </a></li>
                  
                
                  
                    <li><a href="/advertising/jump-start-header-bidding-ad.html">跳躍開始：標頭出價廣告</a></li>
                  
                
                  
                    <li><a href="/advertising/jump-start-outstream-ad.html">跳躍開始：外游廣告</a></li>
                  
                
                  
                    <li><a href="/advertising/jump-start-pre-roll-ad.html">跳躍開始：播放前廣告</a></li>
                  
                
                  
                    <li><a href="/advertising/known-issues-server-side-ad-insertion-ssai.html">已知問題：伺服器端廣告插入 (SSAI) </a></li>
                  
                
                  
                    <li><a href="/getting-started/learning-guide-video-advertising.html">學習指南：影片廣告</a></li>
                  
                
                  
                    <li><a href="/advertising/step-step-implementing-advertising.html">逐步：實作廣告</a></li>
                  
                
                  
                    <li><a href="/advertising/testing-pre-release-advertising-plugins.html">測試發行前廣告外掛程式</a></li>
                  
                
                  
                    <li><a href="/advertising/using-dfp-premium-brightcove-player.html">與布萊特灣玩家一起使用 DFP 加值</a></li>
                  
                
                  
                    <li><a href="/advertising/using-player-enhancements-live-ssai-brightcove-player.html">使用即時 SSAI 和進階播放器工具組</a></li>
                  
                
                  
                    <li><a href="/advertising/video-cloud-ssai-ad-tag-validation.html">視訊雲端 SSAI 廣告標籤驗證</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/publish/index.html">發佈影片與播放器<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/publish/assigning-video-player-programmatically.html">以程式設計方式將視訊指派給播放程式</a></li>
                  
                
                  
                    <li><a href="/publish/available-options-advanced-page-embed-code.html">進階 (頁內) 內嵌程式碼的可用選項</a></li>
                  
                
                  
                    <li><a href="/publish/available-options-standard-iframe-embed-code.html">標準 (iframe) 內嵌程式碼的可用選項</a></li>
                  
                
                  
                    <li><a href="/publish/brightcove-player-loader.html">布萊特灣玩家裝載機</a></li>
                  
                
                  
                    <li><a href="/publish/bulk-updating-brightcove-default-player.html">大量更新布萊特灣預設播放器</a></li>
                  
                
                  
                    <li><a href="https://studio.support.brightcove.com/publish/choosing-correct-embed-code.html">選擇正確的內嵌程式碼</a></li>
                  
                
                  
                    <li><a href="/publish/delaying-player-instantiation.html">延遲播放程式實例化</a></li>
                  
                
                  
                    <li><a href="/publish/pre-release-player.html">發行前播放程式</a></li>
                  
                
                  
                    <li><a href="/publish/syndication-strategies.html">聯合發行策略</a></li>
                  
                
                  
                    <li><a href="/publish/using-non-brightcove-player.html">使用非亮灣玩家</a></li>
                  
                
                  
                    <li><a href="https://studio.support.brightcove.com/publish/using-multiple-players-one-page.html">在一個頁面上使用多個玩家</a></li>
                  
                
                  
                    <li><a href="https://studio.support.brightcove.com/publish/using-reference-ids.html">使用參考 ID </a></li>
                  
                
                  
                    <li><a href="">視訊轉譯檢查器</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/troubleshooting/index.html">疑難排解<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/troubleshooting/brightcove-playback-technology-app.html">布萊特灣播放技術應用程式</a></li>
                  
                
                  
                    <li><a href="/references/brightcove-player-error-reference.html">布萊特灣玩家錯誤參考</a></li>
                  
                
                  
                    <li><a href="/troubleshooting/brightcove-player-information-modal.html">布萊特灣球員資訊模態</a></li>
                  
                
                  
                    <li><a href="/troubleshooting/brightcove-player-troubleshooting-guide.html">布萊特灣玩家疑難排解指南</a></li>
                  
                
                  
                    <li><a href="/troubleshooting/creating-charles-log.html">創建查理日誌</a></li>
                  
                
                  
                    <li><a href="/troubleshooting/creating-network-log.html">建立網路記錄</a></li>
                  
                
                  
                    <li><a href="/troubleshooting/domain-restrictions-messaging.html">網域限制訊息</a></li>
                  
                
                  
                    <li><a href="/plugins/display-error-messages-plugin.html">顯示錯誤訊息外掛程式</a></li>
                  
                
                  
                    <li><a href="/troubleshooting/manually-setting-player-version.html">手動設定播放程式版本</a></li>
                  
                
                  
                    <li><a href="/plugins/playerplugin-version-testing.html">播放器/插件版本測試</a></li>
                  
                
                  
                    <li><a href="/troubleshooting/player-informational-properties.html">玩家資訊屬性</a></li>
                  
                
                  
                    <li><a href="/code-samples/brightcove-player-sample-live-custom-error-message.html">範例：即時自訂錯誤訊息</a></li>
                  
                
                  
                    <li><a href="/troubleshooting/step-step-brightcove-player-debugger.html">逐步：布萊特灣播放器除錯器</a></li>
                  
                
                  
                    <li><a href="/troubleshooting/running-network-path-trace.html">執行網路路徑追蹤</a></li>
                  
                
                  
                    <li><a href="/troubleshooting/using-player-reference.html">使用播放器參照</a></li>
                  
                
                  
                    <li><a href="/troubleshooting/vetting-brightcove-player-releases.html">評審布萊特灣球員發布</a></li>
                  
                
                  
                    <li><a href="/troubleshooting/viewing-player-configuration.html">檢視播放程式組態</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/styling/index.html">造型與外觀<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/styling/customizing-player-appearance.html">自訂播放程式外觀</a></li>
                  
                
                  
                    <li><a href="/styling/customizing-player-appearance-legacy-skin.html">自訂玩家外觀-舊版外觀</a></li>
                  
                
                  
                    <li><a href="/styling/brightcove-player-sample-player-styling-playground.html">玩家造型遊樂場</a></li>
                  
                
                  
                    <li><a href="/styling/quick-start-player-customization-legacy-skin.html">快速入門：玩家自訂-傳統造型</a></li>
                  
                
                  
                    <li><a href="/getting-started/step-step-player-customization.html">逐步：玩家自訂</a></li>
                  
                
                  
                    <li><a href="/styling/responsive-sizing-brightcove-player.html">適用於布萊特灣玩家的反應尺寸</a></li>
                  
                
                  
                    <li><a href="/styling/sizing-player.html">調整播放器大小</a></li>
                  
                
                  
                    <li><a href="/styling/skins-and-player-versions.html">外觀與播放程式版本</a></li>
                  
                
                  
                    <li><a href="https://studio.support.brightcove.com/media/styling-captions.html">樣式註解</a></li>
                  
                
                  
                    <li><a href="/styling/styling-playlists.html">設定播放清單樣式</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/playback/index.html">播放<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/playback/autoplay-considerations.html">自動播放注意事項</a></li>
                  
                
                  
                    <li><a href="/troubleshooting/brightcove-playback-technology-app.html">布萊特灣播放技術應用程式</a></li>
                  
                
                  
                    <li><a href="/playback/xdr-with-bcplayer.html">與布萊特灣播放器的跨裝置履歷</a></li>
                  
                
                  
                    <li><a href="https://studio.support.brightcove.com/publish/deep-linking.html">深層連結</a></li>
                  
                
                  
                    <li><a href="/playback/delivering-hls-video.html">提供 HLS 視訊</a></li>
                  
                
                  
                    <li><a href="/playback/determining-which-rendition-will-play.html">決定要播放哪些轉譯</a></li>
                  
                
                  
                    <li><a href="/playback/guide-playback-technology.html">指南：播放技術</a></li>
                  
                
                  
                    <li><a href="/plugins/hls-plugin.html">HLS 外掛程式</a></li>
                  
                
                  
                    <li><a href="/playback/ios-and-brightcove-player.html">iOS 和布萊特灣播放器</a></li>
                  
                
                  
                    <li><a href="/playback/overview-https-support.html">概述：HTTPS 支援</a></li>
                  
                
                  
                    <li><a href="/plugins/quality-selection-plugin.html">品質選擇外掛程式</a></li>
                  
                
                  
                    <li><a href="/playback/static-url-delivery.html">靜態 URL 傳送</a></li>
                  
                
                  
                    <li><a href="/playback/streaming-playready-protected-content-dynamic-delivery.html">串流播放就緒受保護的內容</a></li>
                  
                
                  
                    <li><a href="/playback/using-brightcove-player-tve.html">在 TVE 中使用布萊特灣玩家</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/content-protection/index.html">DRM 與內容保護<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="https://studio.support.brightcove.com/players/configuring-player-content-restrictions.html">設定播放程式內容限制</a></li>
                  
                
                  
                    <li><a href="/content-protection/creating-dash-drm-manifest-brightcove-player.html">為布萊特灣玩家建立破折號 DRM 資訊清單</a></li>
                  
                
                  
                    <li><a href="/troubleshooting/domain-restrictions-messaging.html">網域限制訊息</a></li>
                  
                
                  
                    <li><a href="/plugins/configuring-brightcove-player-drm.html">DRM 外掛程式</a></li>
                  
                
                  
                    <li><a href="/content-protection/overview-content-protection.html">概述：內容保護</a></li>
                  
                
                  
                    <li><a href="/content-protection/policy-keys.html">原則金鑰</a></li>
                  
                
                  
                    <li><a href="/content-protection/restricting-video-playback-using-ip-address.html">使用 IP 位址限制視訊播放</a></li>
                  
                
                  
                    <li><a href="/content-protection/signed-urls-and-token-auth-live-stream.html">具有即時串流的已簽署 URL 和權杖驗證</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/coding-topics/index.html">編碼主題<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/publish/brightcove-player-loader.html">布萊特灣玩家裝載機</a></li>
                  
                
                  
                    <li><a href="/references/catalog-search-architecture.html">目錄搜尋升級</a></li>
                  
                
                  
                    <li><a href="/code-samples/brightcove-player-sample-trigger-rewind-custom-event.html">自訂事件</a></li>
                  
                
                  
                    <li><a href="/playback/guide-playback-technology.html">指南：播放技術</a></li>
                  
                
                  
                    <li><a href="/coding-topics/programmatically-localizing-brightcove-player.html">本地化布萊特灣玩家</a></li>
                  
                
                  
                    <li><a href="/coding-topics/localizing-plugins.html">本地化外掛程式</a></li>
                  
                
                  
                    <li><a href="/coding-topics/player-events.html">玩家事件</a></li>
                  
                
                  
                    <li><a href="/coding-topics/overview-components.html">概述：元件</a></li>
                  
                
                  
                    <li><a href="/playback/overview-https-support.html">概述：HTTPS 支援</a></li>
                  
                
                  
                    <li><a href="/coding-topics/overview-player-api.html">概述：播放器 API </a></li>
                  
                
                  
                    <li><a href="/coding-topics/pass-data-plugin.html">將資料傳遞給外掛程式</a></li>
                  
                
                  
                    <li><a href="/coding-topics/react-player-loader.html">反應播放器載入器</a></li>
                  
                
                  
                    <li><a href="/coding-topics/reporting-brightcove-player-configurations.html">有關布萊特灣玩家配置的報告</a></li>
                  
                
                  
                    <li><a href="/coding-topics/requirejs-and-brightcove-player.html">要求 JS 和布萊特灣玩家</a></li>
                  
                
                  
                    <li><a href="/coding-topics/step-step-plugin-development.html">逐步：外掛程式開發</a></li>
                  
                
                  
                    <li><a href="/coding-topics/step-step-videojs-plugin-generator.html">逐步：Video.js 外掛程式產生器</a></li>
                  
                
                  
                    <li><a href="/coding-topics/using-bc-and-getplayer-methods.html">使用 BC（）和獲取播放器（）方法</a></li>
                  
                
                  
                    <li><a href="/troubleshooting/viewing-player-configuration.html">檢視播放程式組態</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/general/index.html">一般資訊<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="https://studio.support.brightcove.com/publish/adding-application-id-player-embed-code.html">將應用程式 ID 新增至播放程式內嵌程式碼</a></li>
                  
                
                  
                    <li><a href="/general/adding-captions-videos-programmatically.html">以程式設計方式將字幕新增至視訊</a></li>
                  
                
                  
                    <li><a href="https://studio.support.brightcove.com/media/adding-chapters-video.html">新增章節至視訊</a></li>
                  
                
                  
                    <li><a href="/general/brightcove-player-6-now-default-version.html">布萊特灣球員 6 現在預設版本</a></li>
                  
                
                  
                    <li><a href="/general/brightcove-player-accessibility.html">布萊特灣玩家無障礙</a></li>
                  
                
                  
                    <li><a href="/plugins/custom-endscreen-plugin.html">自訂螢幕外掛程式</a></li>
                  
                
                  
                    <li><a href="/plugins/display-overlay-plugin.html">顯示覆蓋外掛程式</a></li>
                  
                
                  
                    <li><a href="/references/guide-playlist-api.html">指南：播放清單 API </a></li>
                  
                
                  
                    <li><a href="/general/identify-and-delete-low-performing-videos.html">識別和刪除效能不佳的影片</a></li>
                  
                
                  
                    <li><a href="/general/implementing-cue-points-programmatically.html">以程式設計方式實作提示點</a></li>
                  
                
                  
                    <li><a href="/general/implementing-playlists.html">實作播放清單</a></li>
                  
                
                  
                    <li><a href="/general/implementing-modaldialog.html">實現模式對話框</a></li>
                  
                
                  
                    <li><a href="/general/live-hls.html">即時 HLS </a></li>
                  
                
                  
                    <li><a href="/general/live-stream-configuration.html">即時串流組態</a></li>
                  
                
                  
                    <li><a href="/general/multiple-audio-tracks.html">多個音軌</a></li>
                  
                
                  
                    <li><a href="/general/player-configuration-guide.html">播放程式組態指南</a></li>
                  
                
                  
                    <li><a href="/general/playing-live-streams.html">播放即時串流</a></li>
                  
                
                  
                    <li><a href="/plugins/playlist-ui-plugin.html">播放清單 UI 插件</a></li>
                  
                
                  
                    <li><a href="/content-protection/signed-urls-and-token-auth-live-stream.html">具有即時串流的已簽署 URL 和權杖驗證</a></li>
                  
                
                  
                    <li><a href="/plugins/social-sharing-plugin.html">社交媒體外掛程式</a></li>
                  
                
                  
                    <li><a href="https://apis.support.brightcove.com/player-management/getting-started/step-step-player-management.html">逐步：玩家管理</a></li>
                  
                
                  
                    <li><a href="/styling/styling-playlists.html">設定播放清單樣式</a></li>
                  
                
                  
                    <li><a href="/general/using-screen-reader-brightcove-player.html">使用螢幕閱讀程式與布萊特灣播放器</a></li>
                  
                
                  
                    <li><a href="/general/versions-brightcove-player-documentation.html">布萊特灣玩家文件的版本</a></li>
                  
                
                  
                    <li><a href="/general/volume-control.html">音量控制</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/code-samples/index.html">程式碼範例<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/code-samples/index-thumb.html">依群組的程式碼範例</a></li>
                  
                
                  
                    <li><a href="/code-samples/index.html">程式碼範例索引</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/amp/index.html">放大器<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/amp/amp-using-video-cloud-video.html">AMP 使用視訊雲端視訊</a></li>
                  
                
                  
                    <li><a href="/amp/amp-using-external-video.html">使用外部視訊的 AMP </a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/training/index.html">訓練<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/training/online-training-courses.html">所有線上訓練課程</a></li>
                  
                
                  
                    <li><a href="/training/developer-basics-videos.html">開發人員基本資訊</a></li>
                  
                
                  
                    <li><a href="/training/player-development-training-videos.html">玩家開發訓練影片</a></li>
                  
                
                  
                    <li><a href="/training/register-training.html">註冊參加講師指導訓練</a></li>
                  
                
                  
                    <li><a href="/training/training-demand-developing-brightcove-player.html">訓練：與布萊特灣玩家一起進行開發</a></li>
                  
                
                  
                    <li><a href="https://apis.support.brightcove.com/player-management/getting-started/training-demand-quick-start-player-management.html">訓練：玩家管理快速入門</a></li>
                  
                
                  
                    <li><a href="/training/brightcove-university.html">布萊特灣大學培訓課程</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/release-notes/index.html">版本說明<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/release-notes/brightcove-player-release-notes.html">布萊特灣玩家發行紀錄</a></li>
                  
                
                  
                    <li><a href="/release-notes/brightcove-player-prerelease-notes.html">布萊特灣玩家預先發行紀錄</a></li>
                  
                
              </ul>
            
          
            
              <h5 class="submenu-header"><a href="/support/index.html">支援<strong> + </strong></a></h5>
              <ul class="sidenav-submenu" style="display:none;">
                
                  
                    <li><a href="/support/brightcove-answer.html">布萊特灣答案</a></li>
                  
                
                  
                    <li><a href="/support/viewing-brightcove-system-status-page.html">檢視布萊特灣系統狀態頁面</a></li>
                  
                
                  
                    <li><a href="/support/contact-sales.html">聯絡銷售人員</a></li>
                  
                
                  
                    <li><a href="/support/opening-case-with-brightcove-support.html">開啟支援案例</a></li>
                  
                
              </ul>
            
          
      </nav>
    </div>
    <div class="col-lg-7" style="background-color: white;color: #333333;margin-top: -1em;margin-bottom: -1em;padding-bottom:1em;">
  <!-- bootstrap layout -->

<p id="bc_veggie_burger_wrapper" style="display: none;"><img id="bc_veggie_burger" src="/assets/images/feather/menu.svg" alt="導覽功能表"/></p>

<!-- search bar -->
<div id="nav-search-box" style="margin-top: 1rem;"></div>
<!-- in-page navigation for narrow screens -->
<details class="centered-inpage-nav" id="centered_inpage_nav">
  <summary><h6 class="toc">頁面內容</h6></summary>
  <nav id="centered_toc"></nav>
  <ul id="centered_in_page_toc" class="list-none"></ul>
</details>
<!-- open in new tab/window -->
<a id="open_new_tab" href="#" target="_blank" style="display: none;"><img src="/assets/images/feather/external-link.svg" alt="在新分頁中開啟" style="margin-top:4em;width: 1.5em;"/></a>



  
    


<article class="bcls-article">
    <h1>使用 IM3 外掛程式進行廣告</h1>
    <summary>本主題涵蓋了IMA插件的使用以及如何使用Studio以及通過自定義編碼來實現它。</summary>
    <style type="text/css">
        iframe {
            width: 640px;
            height: 360px;
        }
    </style>
    <p>
        IMA插件將Brightcove播放器與Google的HTML5版本3的交互式媒體廣告（IMA）集成在一起。這樣，您就可以為播放器請求和跟踪VAST，VPAID和VMAP廣告。有關谷歌 IMA 的詳細信息，請參閱<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/">使用 IMA HTML5 SDK 版本 3 </a>文件。
    </p>

    <section class="bcls-section">
        <h2 id="Player_sample">播放器樣本</h2>

        <p>
            以下範例影片示範如何使用 IMA 外掛程式。播放視頻以查看預滾動，在 5 秒鐘可跳過的中滾動，然後最後一個後卷。
        </p>

        <div>
            <iframe src="https://players.brightcove.net/1752604059001/H1Qvsb12_default/index.html?videoId=4607357817001" allowfullscreen="" webkitallowfullscreen="" mozallowfullscreen=""></iframe>
        </div>
        <!-- <aside class="bcls-aside bcls-aside--information">Note: Initial behavior concerning the timing of loading of video advertisements is described in the <a href="#requestMode">requestMode</a> option. Be sure to check this as default behavior is undesirable for some types of ad servers/networks.</aside> -->
    </section>

    <section class="bcls-section">
        <h2 id="Testing_the_ad_server">測試廣告伺服器</h2>

        <p>
            您應該做的第一件事是驗證您打算使用的廣告代碼的有效性。請確定您已複製其 URL 並瀏覽至以下頁面：<a target="_blank" rel="noopener noreferrer" href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/vastinspector">視頻套件檢查器</a>（點擊此鏈接將導致頁面在新窗口或新標籤頁中打開）。
        </p>

        <p>
            將廣告代碼網址粘貼到<strong translate="No">Input type</strong>表單輸入字段。請點擊<strong translate="No">Test Ad</strong>然後您會看到廣告在播放，其中插入了Google提供的視頻。如果您的廣告代碼在這個測試環境中無法運作，它將無法與 Brightcove 播放程式搭配使用。
        </p>

        <aside class="bcls-aside bcls-aside--information">
            注意：VAST 廣告代碼可由您的廣告供應商代管，或者您可以複製 XML 並將其託管在您自己的網址上。
        </aside>
    </section>

    <section class="bcls-section">
        <h2 id="Implement_using_Players_module_advertising_section">使用播放器模塊實施-廣告部分</h2>

        <p>
            在本文檔的此部分中，您將使用Studio通過以下方式實施廣告：<strong>廣告</strong>部分。在這種情況下，您僅限於表單提供的選項。如果您希望使用本節中未提供的許多可用選項中的一些自定義實現，請使用<a href="#Implement_using_Players_module_plugins_section">使用Players模塊實施- <strong>外掛程式</strong>部分</a>，這提供了通過JSON提供選項的機會。
        </p>

        <div id="player" class="video-cloud-only">
            <video-js data-account="20318290001" data-player="E16-WGGOe" data-embed="default" data-video-id="4043519495001" class="video-js" controls="" crossorigin="anonymous" width="640" height="360">&nbsp;</video-js>
            <script src="https://players.brightcove.net/20318290001/E16-WGGOe_default/index.min.js"></script>
        </div>

        <p>要使用“播放器”模塊實施IMA插件，請按照以下步驟操作：</p>

        <ol class="bcls-tasklist">
            <li><strong>開啟 PLAYER 模組並建立新的播放器，或找出您要新增廣告功能的播放程式。</strong></li>
            <li>按一下播放程式的連結以開啟播放程式的屬性。</li>
            <li>按一下左側導覽選單中的「<strong>廣告</strong>」。</li>
            <li>核取「<strong>啟用用戶端 (IMA) </strong>」核取方塊。</li>
            <li>輸入<strong translate="No">Server URL</strong>用於廣告服務器。</li>
            <li>
                選擇<strong translate="No">Request Ads</strong>設置。
                <ul>
                    <li>
                        <strong translate="No">On load</strong> -播放器加載後立即請求廣告（這通常是DFP / VPAID的最佳體驗）。
                    </li>
                    <li><strong translate="No">On play</strong> -第一個廣告請求被延遲，直到開始播放。</li>
                    <li>
                        <strong translate="No">On demand</strong> -所有廣告請求都將使用<code translate="No">player.ima3.adrequest()</code>方法。此模式不支援預先播放或後續廣告。
                    </li>
                    <li>
                        <strong translate="No">On cue point</strong> -廣告請求將在已調度的廣告提示點上發起。見<a href="/advertising/displaying-ads-using-ad-cue-points.html">使用廣告提示點顯示廣告</a>有關完整詳細信息的文檔。
                    </li>
                </ul>
            </li>
            <li>
                選擇廣告<strong translate="No">VPAID Mode</strong>。VPAD 模式用於在 IMA 廣告中啟用 VPAD 2 支援。
                <ul>
                    <li><strong translate="No">Enabled</strong> -在具有不同域的iframe中播放VPAID廣告</li>
                    <li><strong translate="No">Insecure</strong> -在具有相同域的iframe中播放VPAID廣告</li>
                    <li><strong translate="No">Disabled</strong> -VPAID廣告拋出錯誤</li>
                </ul>
            </li>
            <li>
                設置<strong translate="No">Timeout</strong>值。這是廣告在播放之前等待初始化的最長時間（以毫秒為單位）。
            </li>
            <li>
                為...做出選擇<strong>硬超時</strong>。取消選中此選項可能會導致加載緩慢的廣告中斷視頻播放。
            </li>
            <li>
                設定<strong>重新導向的最大數目</strong>。這會指定後續重新導向會被拒絕，且廣告載入中止之前的重新導向數目上限。重新導向的次數會直接影響延遲，因此使用者體驗。
            </li>
            <li>為了<strong>插件版本</strong>，強烈建議您使用最新版本。</li>
            <li>
                查看示例，已完成的表格：
                <figure class="bcls-figure">
                    <img class="bcls-image" alt="Studio中的IMA3屬性" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/studio-ima-plugin-props.png"/>
                </figure>
            </li>
            <li>按一下「<strong>儲存</strong>」。</li>
            <li>要發布播放器，請點擊<strong>發布和嵌入&gt;發布更改</strong>。</li>
            <li>要關閉打開的對話框，請單擊<strong>關</strong>。</li>
        </ol>

        <p>
            保存對廣告屬性的更改後，IMA插件將配置為插件設置的一部分。由於您是通過以下方式添加的，因此JavaScript和CSS將被隱藏：<strong translate="No">Advertising</strong>部分。
        </p>

        <p>
            IMA插件確實支持UI的此部分中不提供的其他屬性。有關使用更多配置選項的方法，請參閱本文檔的下一部分。
        </p>

        <aside class="bcls-aside bcls-aside--tip">
            注意：您可能需要動態構建<code translate="No">serverUrl</code>在客戶端（這意味著IMA3插件已經初始化），例如在用戶登錄後。您可以通過將該值設置為<strong translate="No">options</strong><code translate="No">{ "serverUrl": "" }</code>，然後以編程方式分配值。
        </aside>
    </section>

    <section class="bcls-section">
        <h2 id="Implement_using_Players_module_plugins_section">使用Players模塊實施-插件部分</h2>

        <p>
            如果您希望配置IMA3插件，而超出了<strong>廣告</strong>部分，您可以使用<strong>外掛程式</strong>部分，提供了一種通過JSON提供選項的方法。
        </p>

        <p>要實現IMA3插件，您需要將插件的函數名稱以及URL添加到插件的JavaScript和CSS文件中：</p>

        <ol class="bcls-tasklist-restart">
            <li><strong>開啟 PLAYER 模組並建立新的播放器，或找到您想要新增外掛程式的播放程式。</strong></li>
            <li>按一下播放程式的連結以開啟播放程式的屬性。</li>
            <li>按一下左側導覽選單中的<strong>外掛程式</strong>。</li>
            <li>
                接下來從三個選項單擊<strong>插件</strong>。
                <figure class="bcls-figure">
                    <img class="bcls-image" alt="選擇外掛程式" src="//learning-services-media.brightcove.com/doc-assets/general/players-plugin-options.png"/>
                </figure>
            </li>
            <li>從<strong>添加插件中</strong>選擇<strong>自定義插件</strong>。</li>
            <li>在「<strong>外掛程式名稱</strong>」中輸入<code translate="No">ima3</code>。</li>
            <li>
                <strong>在</strong>這個網址中，輸入：
                <pre>
<code class="language-json" translate="No">https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js</code></pre>
            </li>
            <li>
                對於<strong> CSS </strong>網址，請輸入：
                <pre>
<code class="language-json" translate="No">https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css</code></pre>
            </li>
            <!-- ** choose one of the following two steps, delete the other ** -->
            <li>
                在 [選<strong>項 (JSON) </strong> ] 文字方塊中輸入組態選項。
                <pre class="line-numbers">
<code class="language-json" translate="No">{
  "serverUrl": "//pubads.g.doubleclick.net/gampad/ads?sz=400x300&amp;iu=%2F6062...",
  "timeout": 5000,
  "debug": true
}</code></pre>
            </li>
            <li>按一下「<strong>儲存</strong>」。</li>
            <li>要發布播放器，請點擊<strong>發布和嵌入&gt;發布更改</strong>。</li>
            <li>要關閉打開的對話框，請單擊<strong>關</strong>。</li>
        </ol>
    </section>

    <section class="bcls-section">
        <h2 id="JSON_vs_JavaScript_notation">JSON和JavaScript表示法</h2>

        <p>
            如果您檢查<strong translate="No">Options</strong>上面的部分，您會看到配置信息以JSON格式提供。如果您使用代碼來實現IMA3插件，則使用JavaScript設置選項的表示法會略有不同。
        </p>

        <p>在這裡，您會看到可以在Studio中使用的JSON格式的選項：</p>

        <pre class="line-numbers">
<code class="language-json" translate="No">{
  "requestMode": "onload",
  "serverUrl": "//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap.xml?cust_params={mediainfo.ad_keys}",
  "timeout": 5000
}</code></pre>

        <p>如果使用JavaScript來配置選項，則可以使用JSON格式，但也可以使用JavaScript語法，如下所示：</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">{
  requestMode: 'onload',
  serverUrl: '//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap',
  timeout: 5000
}</code></pre>
    </section>

    <section class="bcls-section">
        <h2 id="Options">選項</h2>

        <p>
            video.js IMA3插件建立在<a href="https://github.com/brightcove/videojs-ads">video.js廣告框架</a>並接受廣告框架提供的所有選項。看看廣告框架<a href="https://github.com/videojs/videojs-contrib-ads/blob/main/docs/index.md">自述文件</a>有關當前可覆蓋設置的詳細信息。IMA插件特定選項和廣告框架選項均在此處記錄。
        </p>
        <p>選項包括：</p>
        <ul>
            <li>clickTrackingElement<a href="#clickTrackingElement"></a></li>
            <li><a href="#debug">調試</a></li>
            <li>debugContribAds<a href="#debugContribAds"></a></li>
            <li>disableCustomPlaybackForIOS10Plus<a href="#disableCustomPlaybackForIOS10Plus"></a></li>
            <li>hardTimeouts<a href="#hardTimeouts"></a></li>
            <li>ima3SdkSettings<a href="#ima3SdkSettings"></a></li>
            <li>requestMode<a href="#requestMode"></a></li>
            <li>serverUrl<a href="#serverUrl"></a></li>
            <li>showVpaidControls<a href="#showVpaidControls"></a></li>
            <li><a href="#timeout">超時</a></li>
            <li>useMediaCuePoints<a href="#useMediaCuePoints"></a></li>
            <li>vpaidMode<a href="#vpaidMode"></a></li>
        </ul>

        <h3 id="clickTrackingElement">clickTrackingElement</h3>

        <p>類型：<code translate="No">HTMLElement</code>默認值：未定義</p>

        <p>
            如果正在使用HTML廣告技術<a href="https://developers.google.com/web/fundamentals/design-and-ux/input/touch">自定義廣告播放</a>模式，它指定了一個替代HTML元素，該元素將用於跟踪不支持視頻元素上的輸入事件的設備上的廣告點擊。有關更多詳細信息，請參見參數文檔。<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdDisplayContainer"> IMA AdDisplayContainer</a>。如果您提供點擊跟踪元素，則有責任在適當的時間在適當的平台上顯示和隱藏它。在大多數情況下，最好保留此設置的未定義狀態，並允許插件和IMA管理廣告互動。
        </p>

        <h3 id="debug">除錯</h3>

        <p>類型：<code translate="No">boolean</code>預設值：<code translate="No">false</code></p>

        <p>
            如果將debug設置為true，則廣告框架將在播放期間輸出有關其當前狀態的其他信息。這對於診斷廣告集成中的問題或意外行為很方便。
        </p>

        <p>此選項是廣告架構的一部分，設定如下：</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  debug: true
});</code></pre>

        <p>以下屏幕截圖顯示了通過打開調試顯示的詳細信息。</p>

        <figure class="bcls-figure">
            <img class="bcls-image" alt="控制台中的除錯輸出" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/console-debug.png"/>
        </figure>

        <h3 id="debugContribAds">debugContribAds</h3>

        <p>類型：<code translate="No">boolean</code>預設值：<code translate="No">false</code></p>
        <p>用於為videojs-contrib-ads啟用調試日誌記錄。對於ID3 <code translate="No">oncue</code>請求正常工作，收到的ID3 TXXX幀必須包含具有以下字段的JSON數據：</p>
        <ul>
            <li>廣告提示代碼格式：
                <ul>
                    <li>名稱：必需-必須為字符串<code translate="No">adCue</code> &gt;</li>
                    <li>識別碼：必填-鑑於直播中的時間是相對的，標識廣告的唯一值</li>
                    <li>serverUrl：可選-覆蓋<code translate="No">serverUrl</code>僅在此廣告的IMA3配置中</li>
                    <li>持續時間：可選-附加為<code translate="No">breaklength</code>服務器網址的參數</li>
                </ul>
                範例：<code translate="No">{"name": "adCue", "id": 123}</code>
            </li>
            <li>廣告取消代碼格式：
                <ul>
                    <li>名稱：必需-必須是字符串值<code translate="No">adCancel</code></li>
                    <li>識別碼：必填-鑑於直播中的時間是相對的，因此該值是唯一標識廣告取消的值</li>

                </ul>
                範例：<code translate="No">{"name": "adCancel", "id": 234}</code>
            </li>
        </ul>

        <h3 id="disableCustomPlaybackForIOS10Plus">disableCustomPlaybackForIOS10Plus</h3>

        <p>類型：<code translate="No">boolean</code>預設值：<code translate="No">false</code></p>

        <p>
            此屬性是<code translate="No">ima3SdkSettings</code>目的。它充當獲取器和設置器，以控制是否在iOS 10+瀏覽器上禁用自定義播放。行為如下：
        </p>

        <ul>
            <li>
                設置為true時，如果內容視頻是內聯的，則廣告將以內聯方式播放，從而啟用可跳過的廣告。但是，廣告將保持在線狀態，不支持iOS的本機全屏。
            </li>
            <li>設置為false時，廣告將與您的內容在同一播放器中播放。</li>
        </ul>

        <p>見<a href="#skippable-ads">iOS可跳過廣告</a>本文檔的“示例”部分提供了使用此設置的示例。</p>



        <h3 id="hardTimeouts">hardTimeouts</h3>

        <p>類型：<code translate="No">boolean</code>預設值：<code translate="No">true</code></p>

        <p>
            放棄超時後完成加載的廣告。這樣可以防止慢速預卷廣告在廣告投放後中斷<code translate="No">timeout</code>已過去，內容視頻已開始播放。
        </p>

        <p>此選項是廣告架構的一部分，設定如下：</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  hardTimeouts: true
});</code></pre>

        <p>將此選項設置為<code translate="No">false</code>會導致內容先於廣告先氾濫。</p>

        <h3 id="ima3SdkSettings">ima3SdkSettings</h3>

        <p>類型：<code translate="No">object</code>默認值：未定義</p>

        <p>
            如果提供，則此對象的屬性用於設置頁面級別<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.ImaSdkSettings">Ima3SdkSettings</a> IMA SDK完成加載後。該對象的屬性應該是駝峰式的setter方法的等效項。<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.ImaSdkSettings">開發包</a>設置對象，減去“設置”前綴。例如，如果您在初始化插件時提供了此對象：
        </p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  ima3SdkSettings: {
    'numRedirects': 3,
    'ppid': 'publisher-provided-id'
  }
}</code></pre>

        <p>然後，在IMA加載後，video.js IMA插件將運行類似於以下代碼的代碼：</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">window.google.ima.ImaSdkSettings.setNumRedirects(3);
window.google.ima.ImaSdkSettings.setPpid('publisher-provided-id');</code></pre>

        <h3 id="requestMode">requestMode</h3>

        <p>類型：<code translate="No">string</code>預設值：<code translate="No">onload</code></p>

        <p>這個選項是廣告框架的一部分配置如下：</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  requestMode: 'onplay'
});</code></pre>

        <p>此選項有四個可能的值：</p>

        <ul>
            <li>
                <code translate="No">onload</code>：播放器加載後立即請求廣告。通常，這是DFP / VPAID的最佳體驗。
            </li>
            <li>
                <code translate="No">onplay</code>：第一個廣告請求被延遲，直到開始播放。這對於將廣告請求視為正在播放的廣告網絡很重要，因此您不希望在播放請求之前出現廣告請求。這將導致投放的廣告最終掉落，或者客戶收到的展示廣告收益會減少。
            </li>
            <li>
                <code translate="No">ondemand</code>：廣告只有在使用<code translate="No">player.ima3.adrequest()</code>手動方法。此模式不支援預先播放或後續廣告。
            </li>
            <li>
                <code translate="No">oncue</code>：此選項的行為取決於是否與<code translate="No">useMediaCuePoints</code>選項。
                <h4>在Video Cloud中使用提示點</h4>

                <p>
                    您可以在Studio中為視頻創建廣告提示點，然後在觸發提示點時播放廣告。有關詳細信息，請參見<a href="/advertising/displaying-ads-using-ad-cue-points.html">使用廣告提示點顯示廣告</a>文件。
                </p>

                <h4>在直播中使用提示點</h4>

                <p>
                    根據直播中的ID3提示點請求廣告。為了使此類請求正常運行，收到的ID3 TXXX幀必須包含具有以下字段的JSON數據：
                </p>

                <ul>
                    <li><code translate="No">name</code>：需要;必須是字符串值<code translate="No">adCue</code></li>
                    <li><code translate="No">id</code>：需要;考慮到直播中的時間是相對的，該值可唯一標識廣告</li>
                    <li><code translate="No">serverUrl</code>：可選的;作為中斷長度參數附加到服務器URL</li>
                    <li><code translate="No">duration</code>：可選的;廣告時長</li>
                </ul>

                <p>範例：</p>

                <pre class="line-numbers">
<code class="language-json" translate="No">{"name": "adCue", "id": 123}</code></pre>

                <p>
                    您還可以在由以下用戶創建的實時流中取消ID3提示點：<code translate="No">adCue</code>通過使用<code translate="No">adCancel</code>。發送的對象必須使用以下格式：
                </p>

                <pre class="line-numbers">
<code class="language-json" translate="No">{"name": "adCancel", "id": 123}</code></pre>

                <p>這倆<code translate="No">name</code>和<code translate="No">id</code>是必須的。</p>

                <ul>
                    <li>Android不支持實時ID3廣告提示。</li>
                    <li>iOS不支持實時ID3廣告取消提示。</li>
                </ul>
            </li>
        </ul>

        <h3 id="serverUrl">serverUrl</h3>

        <p>類型：<code translate="No">string</code>要么<code translate="No">function</code></p>

        <p>默認值（Google的通用廣告）：</p>

        <pre class="line-numbers">
<code class="language-html" translate="No">//pubads.g.doubleclick.net/gampad/ads?sz=400x300&amp;iu=%2F6062%2Fiab_vast_samples&amp;ciu_szs=300x250%2C728x90&amp;gdfp_req=1&amp;env=vp&amp;output=xml_vast2&amp;unviewed_position_start=1&amp;url=[referrer_url]&amp;correlator=[timestamp]&amp;cust_params=iab_vast_samples%3Dlinear</code></pre>

        <p>
            您將在此處將URL提供給廣告服務器。如上所示，可以在Brightcove Studio中配置此選項。您也可以在代碼中設置值。接下來顯示兩個示例。（請記住，您應該<a href="#Testing_the_ad_server">測試廣告代碼</a>在服務器上嘗試在插件中使用它之前）。
        </p>

        <p>如果值為字符串，則表示從中請求廣告的廣告服務器URL，可以在代碼中進行如下設置：</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  serverUrl: 'your ad server'
});</code></pre>

        <p>
            如果值為函數，則函數參數為<code translate="No">callback</code>應該以您的服務器URL作為參數調用的函數。這提供了對異步過程（如標頭出價）的支持。在以下示例中，您會看到來自<code translate="No">mediainfo</code>對象，用於根據帳戶ID確定應使用哪個廣告網址：
        </p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">// Initialize IMA plugin
myPlayer.ima3({
  serverUrl: function(callback) {
    if (myPlayer.mediainfo.id === '4034552795001') {
      callback('https://pubads.g.doubleclick.net/.../url1');
    } else {
      callback('https://pubads.g.doubleclick.net/.../url2');
    }
  },
  requestMode: 'onload',
  debug: true,
  debugContribAds: true
});</code></pre>

        <h3 id="showVpaidControls">showVpaidControls</h3>

        <p>類型：<code translate="No">boolean</code>預設值：<code translate="No">false</code></p>

        <p>
            設置<code translate="No">true</code>以顯示VPAID廣告的自定義Brightcove控件。根據VPAID的實施，它們可能會起作用，也可能會不起作用，因此Brightcove建議您在廣告中啟用此功能之前，先對廣告進行測試。
        </p>



        <h3 id="timeout">超時</h3>

        <p>類型：<code translate="No">number</code>預設值：<code translate="No">4000</code></p>

        <p>在跳過廣告間隔之前，等待廣告播放的最長時間（以毫秒為單位）。</p>

        <p>這個選項是廣告框架的一部分配置如下：</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  timeout: 5000
});</code></pre>

        <p>
            在內部Brightcove測試中，發現在大多數情況下，四秒鐘似乎足以應付緩慢的初始化，但仍足夠短，以至於初始化失敗看起來不像播放器或內容視頻的失敗。
        </p>

        <aside class="bcls-aside bcls-aside--tip">
            注意：如果您使用Studio在Studio和HTML頁面的插件配置中都設置了超時，則JavaScript配置具有優先權。
        </aside>

        <h3 id="useMediaCuePoints">useMediaCuePoints</h3>

        <p>類型：<code translate="No">boolean</code>預設值：<code translate="No">false</code></p>

        <p>啟用<strong translate="No">ad</strong>提示點（在Studio中定義）以觸發廣告播放。</p>

        <p>對於要用於觸發廣告的Video Cloud廣告提示點，插件配置中需要以下內容：</p>

        <ul>
            <li><code translate="No">useMediaCuePoints</code>：真</li>
            <li><code translate="No">requestMode</code>：字符串<code translate="No">oncue</code></li>
            <li><code translate="No">serverUrl</code>：必須指向有效的VAST廣告</li>
        </ul>

        <p>
            如果您使用Studio設置廣告，則選擇<strong>提示點</strong>的<code translate="No">useMediaCuePoints</code>和<code translate="No">requestMode</code>選項將為您正確設置。
        </p>

        <h3 id="vpaidMode">vpaidMode</h3>

        <p>類型：<code translate="No">string</code>預設值：<code translate="No">ENABLED</code></p>

        <p>在IMA HTML5 SDK中指定VPAID 2模式。</p>

        <p>此選項有三個可能的值：</p>

        <ul>
            <li><code translate="No">ENABLED</code>：在具有其他域的iframe中播放VPAID廣告。</li>
            <li><code translate="No">INSECURE</code>：在具有相同域的iframe中播放VPAID廣告。</li>
            <li><code translate="No">DISABLED</code>：VPAID廣告會引發錯誤。</li>
        </ul>

        <p>此選項配置如下：</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  vpaidMode: 'DISABLED'
});</code></pre>
    </section>

    <section class="bcls-section">
        <h2 id="Properties">性質</h2>
        <p>插件只有一個屬性：</p>
        <ul>
            <li>html5：這是插件初始化時可以加載的唯一廣告技術。</li>
        </ul>
    </section>

    <section class="bcls-section">
        <h2 id="Ad_macros_and_the_serverUrl">廣告宏和serverUrl</h2>

        <p>
            創建廣告服務器網址時，可以使用廣告宏來簡化您的工作。這些宏使您可以使用服務器URL中的變量，IMA3插件將用這些變量替換適當的值。例如，以下服務器URL包含一些變量：
        </p>

        <pre class="line-numbers">
<code class="language-json" translate="No">{"serverUrl": "//myadserver.com/ad?video={mediainfo.id}&amp;duration={player.duration}"}</code></pre>

        <p>IMA3插件將替換為適當的值，並且實際使用的服務器URL如下所示：</p>

        <pre class="line-numbers">
<code class="language-json" translate="No">{"serverUrl": "//myadserver.com/ad?video=12340001&amp;duration=60"}</code></pre>

        <p>以下是將使用替代值的變量的完整列表：</p>

        <table class="bcls-table">
            <thead class="bcls-table__head">
                <tr>
                    <th style="width: 30%;">巨集</th>
                    <th style="width: 60%;">描述</th>
                </tr>
            </thead>
            <tbody class="bcls-table__body">
                <tr>
                    <td>{文件. 反向連結}</td>
                    <td>參照頁面網址</td>
                </tr>
                <tr>
                    <td>{中位鍵}</td>
                    <td>
                        可以在 Studio 的媒體模組中新增和編輯的任意格式文字字串；您應該使用表單中的查詢參數
                        <pre class="line-numbers">
<code class="language-javascript" translate="No">cust_params={mediainfo.ad_keys}</code></pre>
                    </td>
                </tr>
                <tr>
                    <td>{中介. 說明}</td>
                    <td>簡短說明 (最多 250 個字元)</td>
                </tr>
                <tr>
                    <td>{中位數持續時間}</td>
                    <td>視訊雲端報告的影片持續時間</td>
                </tr>
                <tr>
                    <td>{中間人 .id}</td>
                    <td>視訊 ID</td>
                </tr>
                <tr>
                    <td>{中間名稱}</td>
                    <td>影片標題</td>
                </tr>
                <tr>
                    <td>{中間參考 ID}</td>
                    <td>參考 ID</td>
                </tr>
                <tr>
                    <td>{中介標籤}</td>
                    <td>與視訊相關聯的標籤 (中繼資料)</td>
                </tr>
                <tr>
                    <td>{玩家。持續時間}</td>
                    <td>
                        由播放器衡量的視頻時長（可能與<code translate="No">mediainfo.duration</code>可能更準確）。請注意，如果未加載視頻，則返回0。請謹慎使用此宏安排廣告請求的時間。
                    </td>
                </tr>
                <tr>
                    <td>{player.height}</td>
                    <td>當前球員身高</td>
                </tr>
                <tr>
                    <td>{玩家 .id}</td>
                    <td>播放程式 ID</td>
                </tr>
                <tr>
                    <td>{player.pageUrl}</td>
                    <td>頁面URL：如果位於iframe中，則返回文檔引薦來源網址，否則返回窗口位置。</td>
                </tr>
                <tr>
                    <td>{player.width}</td>
                    <td>當前播放器寬度</td>
                </tr>
                <tr>
                    <td>{playlist.id}</td>
                    <td>從播放清單資訊物件中提取</td>
                </tr>
                <tr>
                    <td>{playlist.name}</td>
                    <td>從播放清單資訊物件中提取</td>
                </tr>
                <tr>
                    <td>{隨機}</td>
                    <td>
                        隨機數 0-1 萬億 (用來建立獨特的曝光。這樣可防止廣告快取在瀏覽器中，並防止曝光差異)。
                    </td>
                </tr>
                <tr>
                    <td>{時間戳記}</td>
                    <td>自 1/1/70 以來的目前本地時間 (以毫秒為單位)</td>
                </tr>
                <tr>
                    <td>{視窗 .href}</td>
                    <td>目前的網頁 URL</td>
                </tr>
            </tbody>
        </table>

        <aside class="bcls-aside bcls-aside--tip">
            注意：檢索iframe播放器或“畫廊頁內體驗”的父網址時，請使用<code translate="No">window.location.href</code>被推薦。這樣做的原因是，使用標準嵌入代碼的頁內體驗可在運行時動態構建iframe，以避免樣式和腳本問題。由於iframe是通過JavaScript生成的，因此具有相同的功能<code class="notransalate">window.location</code>父頁面，並遵循同源策略。瀏覽器不幸的是<code class="notransalate">document.referrer</code>對於這些生成的iframe，情況有所不同。Chrome，Safari和Opera已全部設置<code class="notransalate">document.referrer</code>到<code class="notransalate">window.location</code>父頁面的，但僅包含在http（非https）中。Firefox正確遵循規範並進行設置<code class="notransalate">document.referrer</code>到父頁面的引薦來源網址。所有瀏覽器設置正確<code class="notransalate">document.referrer</code>到https中父頁面的引薦來源網址。
        </aside>

        <h4>默認值和廣告宏</h4>

        <p>
            您可以為廣告巨集提供預設值。一個默認值可以在宏中提供，在這種情況下，將在變量未定義的地方使用此值。語法為：
        </p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">{macro=default}</code></pre>

        <p>例如，</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">http://example.com/ad/{pageVariable.adConf=1234}</code></pre>

        <p>將解析<code translate="No">window.adConf</code>為以下內容：</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">http://example.com/ad/1234</code></pre>
    </section>

    <section class="bcls-section">
        <h2 id="Dynamic_macros">動態宏</h2>

        <p>動態宏提供對以下值的訪問：</p>

        <ul>
            <li>影片的<code translate="No">customFields</code>通過對象<code translate="No">mediainfo.customFields</code>變量。</li>
            <li>DOM的<code translate="No">window</code>通過對象<code translate="No">pageVariable</code>變量。</li>
        </ul>

        <p>例如，您可以在廣告請求中使用以下內容：</p>

        <pre class="line-numbers">
<code class="language-html" translate="No">//myadserver.com/ad?l={<span class="bcls-highlight">pageVariable.navigator.language</span>}&amp;category={<span class="bcls-highlight">mediainfo.customFields.type</span>}</code></pre>

        <p>為了<code translate="No">pageVariable</code>值，僅允許使用某些值類型，如下表所示：</p>

        <table class="bcls-table">
            <thead class="bcls-table__head">
                <tr>
                    <th>類型</th>
                    <th>怎麼了</th>
                </tr>
            </thead>
            <tbody class="bcls-table__body">
                <tr>
                    <td>字串</td>
                    <td>不變使用</td>
                </tr>
                <tr>
                    <td>編號</td>
                    <td>自動轉換為字串</td>
                </tr>
                <tr>
                    <td>布林值</td>
                    <td>自動轉換為字串</td>
                </tr>
                <tr>
                    <td>空值</td>
                    <td>返回字符串<strong translate="No">null</strong></td>
                </tr>
                <tr>
                    <td>未定義</td>
                    <td>記錄警告並傳回空字串</td>
                </tr>
                <tr>
                    <td>其他</td>
                    <td>記錄警告並傳回空字串</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section class="bcls-section">
        <h2 id="Custom_ad_macros">自定義廣告宏</h2>

        <p>
            雖然<strong translate="No">Dynamic macros</strong>上面介紹的技術是通過宏訪問特定信息的首選方法，您可能已定義了自定義值，該自定義值是在您從廣告服務器請求廣告時無法通過動態宏訪問的。在這種情況下，您可以通過覆蓋<code translate="No">adMacroReplacement()</code>方法。當您覆蓋此方法時，它允許您傳遞廣告請求的專用值。
        </p>

        <p>
            以下是重寫<code translate="No">adMacroReplacement()</code>方法。在此示例中，自定義值被定義為頁面DOM的一部分，從而使廣告請求可以在每個頁面的基礎上進行自定義。在這個例子中<code translate="No">mySite.category</code>是廣告請求信息的存儲位置。
        </p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">brightcovePlayer.ima3.adMacroReplacement = function (url) {
  <span class="bcls-highlight">  var parameters = {
    '{category}': mySite.category
  };</span>
  for (var i in parameters) {
    url = url.split(i).join(encodeURIComponent(parameters[i]));
  }
  return url;
}</code></pre>

        <p>使用特定值將有助於弄清正在發生的情況。假設您對廣告服務器的請求網址如下：</p>

        <pre class="line-numbers">
<code class="language-html" translate="No">//myadserver.com/myads?adWord={category}</code></pre>

        <p>
            並假設將值動態分配給<code translate="No">mySite.category</code>在頁面中是字符串<strong translate="No">fishing-pole</strong>。然後在您的版本<code translate="No">adMacroReplacement()</code>方法稱為，您的廣告請求網址將顯示為：
        </p>

        <pre class="line-numbers">
<code class="language-html" translate="No">//myadserver.com/myads?adWord=fishing-pole</code></pre>

        <p>
            總而言之，當您覆蓋<code translate="No">adMacroReplacement()</code>方法，您可以將自定義值用作廣告宏，並為URL廣告請求動態分配值。
        </p>
    </section>

    <section class="bcls-section">
        <h2 id="Methods">方法</h2>

        <p>
            當您需要與IMA SDK互動時，您需要等待<code translate="No">ima3-ready</code>在成功使用SDK之前要調度的事件。這包括以下兩種方法。
        </p>

        <h3>player.ima3.adrequest（）</h3>

        <p>
            調用此方法將在收到廣告響應後立即創建按需廣告請求。調用此方法會創建一個新的IMA adManager，這意味著所有先前的廣告響應信息（例如，先前的VAST響應中返回的後置廣告都將丟失）。Brightcove建議您僅在不了解廣告時間安排的情況下才使用此方法，否則您將按需進行所有廣告呼叫。在所有其他情況下，將所有廣告數據放入插件初始化的初始VAST調用中是有意義的。
        </p>

        <p>以下是使用時要考慮的兩個重要點<code translate="No">player.ima3.adrequest( )</code>：</p>

        <ul>
            <li>該方法適用於<strong translate="No">ondemand</strong>僅請求模式。</li>
            <li>不建議將這種方法用於預卷，因為內容會在廣告請求完成之前播放，從而導致內容氾濫。</li>
        </ul>

        <h5>參數</h5>

        <ul>
            <li>
                <strong translate="No">adRequestUrl</strong><code translate="No">String</code> VAST廣告代碼的路徑。您可以並且應該傳遞相對URL。此參數是可選的，並且已配置<code translate="No">serverUrl</code>如果未傳遞任何參數，則使用。
            </li>
        </ul>

        <h5>傳回：</h5>

        <ul>
            <li>沒什麼</li>
        </ul>

        <p>範例</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3.adrequest('//pubads.g.doubleclick.net/gampad/ads?sz=640x360&amp;iu=/6062/iab_vast_samples/skippable&amp;ciu_szs=300x250,728x90&amp;impl=s&amp;gdfp_req=1&amp;env=vp&amp;output=xml_vast2&amp;unviewed_position_start=1&amp;url=[referrer_url]&amp;correlator=[timestamp]');</code></pre>

        <h3>player.ima3.setAdsRenderingSettings（）</h3>

        <p>通過此方法，您可以為HTML5的IMA SDK設置廣告呈現設置。</p>

        <p>
            如果還沒有Ads Manager，則此方法會保存您的設置，並且在創建Ads Manager時會使用您提供的設置。如果廣告管理器已經存在，則會對其進行更新以使用您的設置。無論哪種情況，將來創建的任何新的廣告管理器都將使用您提供的最新設置。您可以創建一個<code translate="No">AdsRenderingSettings</code>直接訪問IMA SDK來創建對象。<a href="https://developers.google.com/interactive-media-ads/docs/sdks/android/v3/api/reference/com/google/ads/interactivemedia/v3/api/AdsRenderingSettings">可以使用多種設置。</a>
        </p>

        <h5>參數</h5>

        <ul>
            <li><strong translate="No">google.ima.AdsRenderingSettings</strong>目的</li>
        </ul>

        <h5>傳回：</h5>

        <ul>
            <li>沒什麼</li>
        </ul>

        <p>範例：</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">var adsRenderingSettings = new google.ima.AdsRenderingSettings();
adsRenderingSettings.bitrate = 2500;
adsRenderingSettings.enablePreloading = true;
player.ima3.setAdsRenderingSettings(adsRenderingSettings);</code></pre>
    </section>

    <section class="bcls-section">
        <h2 id="Googles_AdsManager">谷歌的廣告經理</h2>

        <p>
            有一些方法和屬性可<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdsManager">以從谷歌的</a>谷歌。您可以使用接口的屬性/方法來檢索信息。不建議使用執行動作的方法，例如<code translate="No">destroy</code>，<code translate="No">setAutoPlayAdBreaks</code>和<code translate="No">stop</code>。例如，您可以使用的一種方法如下所示：
        </p>

        <h3>廣告管理員. 取得維護時間</h3>

        <p>類型：<code translate="No">google.ima.AdsManager.getRemainingTime</code></p>

        <p>用法：<code translate="No">myPlayer.ima3.adsManager.getRemainingTime()</code></p>

        <p>
            呼叫此方法會傳回目前廣告的剩餘時間量。如果廣告無法使用或播放完成，則會傳回-1。有關更多信息，請參見Google的<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdsManager#getRemainingTime">文件資料</a>在方法上。
        </p>
    </section>

    <section class="bcls-section">
        <h2 id="Accessing_the_IMA_SDK_directly">直接訪問IMA SDK</h2>

        <p>運行時插件對像上有許多IMA設置。例如，要確定廣告ID，您可以使用：</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">var adId = player.ima3.currentAd.getAdId();</code></pre>

        <p>
            小心直接與這些屬性進行交互。調用錯誤的方法可能會導致意外結果，並使廣告無法正常播放。
        </p>

        <h3>adsLoader</h3>

        <p>類型：<code translate="No">google.ima.AdsLoader</code></p>

        <p>
            用於創建廣告請求的對象。看到<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js#ima.AdsManager">ima.AdsLoader</a>。在以下情況下，廣告加載程序可能不可用<code translate="No">adsready</code>已被插件解僱。
        </p>

        <h3>adsManager</h3>

        <p>類型：<code translate="No">google.ima.AdsManager</code></p>

        <p>
            負責播放廣告的對象。看到<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js#ima.AdsManager">ima.AdsManager</a>。在以下情況下，廣告管理器不可用<code translate="No">adsready</code>已被插件解僱。
        </p>

        <h3>adDisplayContainer</h3>

        <p>類型：<code translate="No">google.ima.AdDisplayContainer</code></p>

        <p>
            負責管理廣告顯示元素的對象。看到<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js#ima.AdDisplayContainer">ima.AdDisplayContainer</a>。在以下情況下，廣告展示容器可能不可用<code translate="No">adsready</code>已被插件解僱。
        </p>

        <h3>currentAd</h3>

        <p>類型：<code translate="No">google.ima.Ad</code></p>

        <p>
            播放廣告時，將封裝有關當前廣告的信息的對象。看到<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js#ima.Ad">ima.Ad</a>。
        </p>
    </section>

    <section class="bcls-section">
        <h2 id="Events">活動</h2>

        <p>
            插件在加載，初始化和播放過程中發出一些自定義事件類型。您可以像監聽其他事件一樣監聽IMA3和廣告框架事件：
        </p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">player.on('ima3error', function(event) {
  console.log('event', event);
});</code></pre>

        <table class="bcls-table">
            <thead class="bcls-table__head">
                <tr>
                    <th style="width: 35%;">事件</th>
                    <th style="width: 65%;">傳送時間：</th>
                </tr>
            </thead>
            <tbody class="bcls-table__body">
                <tr>
                    <td>影像 3 就緒</td>
                    <td>ima3插件代碼已加載，並已準備好加載IMA SDK。</td>
                </tr>
                <tr>
                    <td>ima3error</td>
                    <td>從Google加載IMA3 SDK時出錯。如果發生這種情況，則不會顯示任何廣告。</td>
                </tr>
                <tr>
                    <td>圖像 3 廣告錯誤</td>
                    <td>
                        IMA3 SDK中發生錯誤。您應該驗證廣告配置和設置，以確保正確配置了DoubleClick帳戶。您可以在以下位置找到常見的故障排除任務<a href="https://support.google.com/dfp_premium/">DoubleClick支持網站</a>或與您的DoubleClick客戶代表聯繫。
                    </td>
                </tr>
                <tr>
                    <td>廣告-請求</td>
                    <td>根據要求提供廣告資料。</td>
                </tr>
                <tr>
                    <td>廣告載入</td>
                    <td>在廣告請求後有可用的廣告資料時。</td>
                </tr>
                <tr>
                    <td>廣告-廣告開始</td>
                    <td>廣告已開始播放。</td>
                </tr>
                <tr>
                    <td>廣告-廣告</td>
                    <td>廣告已經播放完畢。</td>
                </tr>
                <tr>
                    <td>廣告-暫停</td>
                    <td>廣告已暫停。</td>
                </tr>
                <tr>
                    <td>廣告播放</td>
                    <td>廣告會從暫停中繼續。</td>
                </tr>
                <tr>
                    <td>跳過廣告</td>
                    <td>廣告被跳過。</td>
                </tr>
                <tr>
                    <td>廣告-第一四分位</td>
                    <td>廣告播放了其總持續時間的 25%。</td>
                </tr>
                <tr>
                    <td>廣告-中點</td>
                    <td>廣告播放了其總持續時間的 50%。</td>
                </tr>
                <tr>
                    <td>廣告-第三四分位</td>
                    <td>廣告播放的總持續時間的 75%。</td>
                </tr>
                <tr>
                    <td>廣告-按一下</td>
                    <td>觀眾點擊播放廣告。</td>
                </tr>
                <tr>
                    <td>廣告-磁碟區變更</td>
                    <td>播放廣告的音量已變更。</td>
                </tr>
                <tr>
                    <td>廣告-網格已啟動</td>
                    <td>線性廣告網繭 (已排序的廣告群組) 中的第一個廣告已開始。</td>
                </tr>
                <tr>
                    <td>廣告-網格端</td>
                    <td>線性廣告網繭 (已排序的廣告群組) 中的最後一個廣告已完成。</td>
                </tr>
                <tr>
                    <td>廣告-完成</td>
                    <td>所有線性廣告都已完成播放。</td>
                </tr>
            </tbody>
        </table>

        <h3 id="Re-dispatched_events">重新派遣<code translate="No">ima3-</code>前綴事件</h3>

        <p>
            在HTML模式下使用IMA3插件時，所有<strong translate="No">AdErrorEvents</strong>，<strong translate="No">AdEvents</strong>和<strong translate="No">AdsManagerLoadedEvents</strong>被重新分配到播放器上。重新分派事件時，它們會帶有前綴<code translate="No">ima3-</code>。下表顯示了重新調度的事件：
        </p>

        <table class="bcls-table">
            <thead class="bcls-table__head">
                <tr>
                    <th>重新調度事件</th>
                </tr>
            </thead>
            <tbody class="bcls-table__body">
                <tr>
                    <td>圖像 3 廣告錯誤</td>
                </tr>
                <tr>
                    <td>ima3-ads-manager-loaded</td>
                </tr>
                <tr>
                    <td>ima3-all-ads已完成</td>
                </tr>
                <tr>
                    <td>ima3-click</td>
                </tr>
                <tr>
                    <td>ima3完成</td>
                </tr>
                <tr>
                    <td>要求ima3內容暫停</td>
                </tr>
                <tr>
                    <td>ima3-四分位數</td>
                </tr>
                <tr>
                    <td>ima3-hardtimeout</td>
                </tr>
                <tr>
                    <td>ima3已加載</td>
                </tr>
                <tr>
                    <td>ima3中點</td>
                </tr>
                <tr>
                    <td>ima3已暫停</td>
                </tr>
                <tr>
                    <td>影像 3 就緒</td>
                </tr>
                <tr>
                    <td>ima3恢復</td>
                </tr>
                <tr>
                    <td>ima3開始</td>
                </tr>
                <tr>
                    <td>ima3-四分之三</td>
                </tr>
                <tr>
                    <td>ima3音量已更改</td>
                </tr>
            </tbody>
        </table>
    </section>

    <section class="bcls-section">
        <h2 id="Live_video_and_IMA3">實況視頻和IMA3</h2>

        <p>
            如果您使用的是IMA3插件3.1.0+版本，則可以在現場直播中使用預貼片。當每個觀眾開始觀看直播活動時（而不是直播活動開始時），將播放預滾動。在實時模塊中配置事件時，如<a href="https://live.support.brightcove.com/live-module/creating-and-managing-live-events-using-live-module.html">使用實時模塊創建和管理實時事件</a>文檔，提示您選擇一個播放器。您將要為所選的播放器配置廣告，如<a href="/advertising/step-step-implementing-advertising.html">一步步：實施廣告</a>文件。
        </p>

        <p>請注意以下實現細節：</p>

        <ul>
            <li>只有預卷才能播放。不支持插播廣告和插播廣告。</li>
            <li>
                的<strong translate="No">Request Ads</strong>類型必須是<strong translate="No">On load</strong>要么<strong translate="No">On play</strong>。
            </li>
            <li>您必須使用版本<strong translate="No">3.1.0 or later</strong>如前所述，IMA3插件。</li>
        </ul>
    </section>

    <section class="bcls-section">
        <h2 id="Player_Ad_Libraries">播放器廣告庫</h2>

        <p>
            該視<a href="https://github.com/videojs/videojs-contrib-ads">頻/視頻的聯繫方式廣</a>告 GitHub 存儲庫包含一個插件，它提供了通過視頻廣告庫與布萊特灣播放器工作所需的共同功能。此外掛程式提供影片廣告整合所需的一般功能，並負責廣告整合商的許多問題，減少您為廣告整合所撰寫的程式碼。該插件已完整記錄，並帶有<a href="https://github.com/videojs/videojs-contrib-ads/blob/main/docs/index.md">索引頁</a>作為最佳起點。
        </p>

        <p>
            插件提供了一些方法，事件和屬性。有關詳細信息，請參見<a href="https://github.com/videojs/videojs-contrib-ads/blob/main/docs/integrator/api.md">videojs-contrib-ads API參考</a>。從方法開始，此處提供了可用工具的樣本：
        </p>

        <table class="bcls-table">
            <thead class="bcls-table__head">
                <tr>
                    <th>方法</th>
                    <th>描述</th>
                </tr>
            </thead>
            <tbody class="bcls-table__body">
                <tr>
                    <td>以下模式 ()</td>
                    <td>退貨<code translate="No">true</code>如果播放器處於廣告模式。</td>
                </tr>
                <tr>
                    <td>isWaitingForAdBreak（）</td>
                    <td>該方法返回<code translate="No">true</code>在廣告模式下，如果尚未開始廣告休息。</td>
                </tr>
                <tr>
                    <td>內容建立 ()</td>
                    <td>該方法返回<code translate="No">true</code>在廣告模式下，廣告間隔結束後，但內容恢復播放之前。</td>
                </tr>
            </tbody>
        </table>

        <p>該插件還分派了許多事件，此處列出了一些事件：</p>

        <table class="bcls-table">
            <thead class="bcls-table__head">
                <tr>
                    <th>事件</th>
                    <th>描述</th>
                </tr>
            </thead>
            <tbody class="bcls-table__body">
                <tr>
                    <td>Adstart</td>
                    <td>由於調用而直接觸發<code translate="No">startLinearAdMode()</code>。</td>
                </tr>
                <tr>
                    <td>堅持</td>
                    <td>由於調用而直接觸發<code translate="No">endLinearAdMode()</code>。</td>
                </tr>
                <tr>
                    <td>準備好預卷</td>
                    <td>表示您的廣告插件可能會通過調用來啟動預插廣告<code translate="No">startLinearAdMode()</code>。</td>
                </tr>
            </tbody>
        </table>

        <p>該插件還提供了許多屬性，此處列出了一些：</p>

        <table class="bcls-table">
            <thead class="bcls-table__head">
                <tr>
                    <th>名字</th>
                    <th>資料類型</th>
                    <th>描述</th>
                </tr>
            </thead>
            <tbody class="bcls-table__body">
                <tr>
                    <td>廣告</td>
                    <td>字串</td>
                    <td>播放廣告的唯一識別碼</td>
                </tr>
                <tr>
                    <td>廣告索引</td>
                    <td>編號</td>
                    <td>在指定時間播放的廣告索引；索引會識別廣告網繭中廣告的序數值</td>
                </tr>
                <tr>
                    <td>廣告持續時間</td>
                    <td>編號</td>
                    <td>以秒為單位的廣告持續時間</td>
                </tr>
                <tr>
                    <td>廣告類型</td>
                    <td>字串</td>
                    <td>
                        可以是<strong translate="No">PREROLL</strong>，<strong translate="No">MIDROLL</strong>或<strong translate="No">POSTROLL</strong>
                    </td>
                </tr>
                <!-- <tr>
      <td>ads.ad.currentTime</td>
      <td>function</td>
      <td>A function that returns the current time of ad playback</td>
      </tr> -->
            </tbody>
        </table>

        <p>下列程式碼會示範如何使用屬性：</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">var myPlayer,
  player = bc('myPlayerID');
player.ima3({
  serverUrl: '//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap.xml'
});
player.ready(function () {
  myPlayer = this;
  myPlayer.on('ads-ad-started', function (evt) {
    console.log('ads-ad-started event passed to event handler', evt);
    console.log('myPlayer.ads.ad.id', myPlayer.ads.ad.id);
    console.log('myPlayer.ads.ad.index', myPlayer.ads.ad.index);
    console.log('myPlayer.ads.ad.duration', myPlayer.ads.ad.duration);
    console.log('myPlayer.ads.ad.type', myPlayer.ads.ad.type);
  });
});</code></pre>

        <p>從上面的代碼控制台中的輸出如下所示：</p>

        <figure class="bcls-figure">
            <img class="bcls-image" alt="接觸式廣告屬性的控制台" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/contrib-ads-properties.png"/>
        </figure>
    </section>
    <!-- <section class="bcls-section">
      <h2 id="Ad_network_flow">Ad network flow</h2>
      <p>For those wishing to see a bit more "under the hood", a browser's development tools Network tab can reveal interesting details about the key files being downloaded as part of the ad process.</p>
      <p>In this example using the IMA3 plugin, you first see the plugin's SWF version being downloaded. Note that the screenshots are from a desktop, so the browser is getting the Flash version of the plugin.</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="network flow SWF" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/ads-learning-guide-network-plugin-swf.png" /></figure>
      <p>The next ads related file to download is the VMAP document.</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="network flow VMAP" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/ads-learning-guide-network-vmap.png" /></figure>
      <p>Last to load is a VAST document for a particular ad.</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="nework flow VAST" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/ads-learning-guide-network-vast.png" /></figure>
      </section> -->

    <section class="bcls-section">
        <h2 id="Implement_using_code">使用程式碼實作</h2>

        <p>
            要實現IMA3插件，播放器需要知道插件代碼的位置，樣式表，插件名稱和插件配置選項。插件代碼和樣式表的位置如下：
        </p>

        <pre class="line-numbers">
<code class="language-html" translate="No">https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js</code></pre>

        <pre class="line-numbers">
<code class="language-html" translate="No">https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css</code></pre>

        <p>插件的名稱是<code translate="No">ima3</code>，一組選項的示例是：</p>

        <pre class="line-numbers">
<code class="language-json" translate="No">{
  "serverUrl": "//pubads.g.doubleclick.net/gampad/ads?sz=400x300&amp;iu=%2F6062...",
  "timeout": 5000
}</code></pre>

        <p>以下示例使用播放器的頁內嵌入實現將IMA插件與播放器的單個實例相關聯。</p>

        <aside class="bcls-aside bcls-aside--information">
            在下面的代碼中，您會看到<code translate="No">bc()</code>調用方法初始化Brightcove Player，然後此後立即初始化IMA3插件。這是因為要使IMA3插件正常運行，需要在播放器初始化後立即將其加載，然後再初始化其他任何插件。在中初始化IMA3插件<code translate="No">videojs.getPlayer('myPlayerID').ready(...)</code>或當<code translate="No">loadedmetadata</code>調度事件，將導致插件無法按預期運行。
        </aside>

        <ul>
            <li>
                第十二行：使用<code translate="No">link</code>標籤在 HTML 頁面中包含外掛程式<code translate="No">head</code>的 CSS。
            </li>
            <li>
                第 15 行：在這種情況下，給<code translate="No">video</code>標籤一個<code translate="No">id</code>屬性，具有一定的值<strong translate="No">myPlayerID</strong>。
            </li>
            <li>
                第 23 行：使用<code translate="No">script</code>標籤將外掛程式的 JavaScript 包含在<code translate="No">body</code> HTML 網頁中。
            </li>
            <li>
                第26-29行：使用初始化播放器<code translate="No">bc()</code>方法，然後調用<code translate="No">ima3()</code>方法。
            </li>
            <li>
                第30-33行：在播放器上<code translate="No">ready</code>，將創建對播放器的引用。顯示的註釋表示您可以在哪裡放置代碼以添加除IMA3插件設置和配置以外的其他播放器行為。
            </li>
        </ul>

        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;IMA3 Plugin Code Example&lt;/title&gt;
  &lt;style&gt;
    .video-js {
      height: 344px;
      width: 610px;
    }
  &lt;/style&gt;
  &lt;link href="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.css" rel="stylesheet"&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;video-js id="myPlayerID"
    data-video-id="3851380732001"
    data-account="1752604059001"
    data-player="Hy3gDJHu"
    data-embed="default"
    class="video-js"
    controls&gt;&lt;/video-js&gt;
  &lt;script src="https://players.brightcove.net/1752604059001/Hy3gDJHu_default/index.min.js"&gt;&lt;/script&gt;
  &lt;script src="https://players.brightcove.net/videojs-ima3/3/videojs.ima3.min.js"&gt;&lt;/script&gt;
  &lt;script&gt;
    var myPlayer;
    var player = bc('myPlayerID');
    player.ima3({
      serverUrl: '//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap.xml'
    });
    player.ready(function() {
      myPlayer = this;
      //Do something
    });
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
    </section>
    <!-- <section class="bcls-section">
      <h2 id="Creating_an_ad_tag_based_on_media_info">Creating an ad tag based on media info</h2>
      <p>A common use-case for programmatic ads is to create an ad tag based on media info, retrieved from the <code translate="No">mediainfo</code> object. Because the ad tag can be passed in as an option during plugin initialization, it may seem appropriate to defer
      plugin initialization until media info is available. As seen in the <a href="#Implement_using_code"> previous section</a>, however, plugin initialization cannot be deferred. Instead, initialization can happen at the usual time, but the ad
      tag can be set later when the necessary media info becomes available.</p>
      <p>Here is an example of how this works. Note that the properties of the <code translate="No">mediainfo</code> object cannot be used until the <code translate="No">loadedmetadata</code> event has been dispatched, which is standard practice.</p>
      <aside class="bcls-aside bcls-aside--warning">This technique will NOT work if <code translate="No">autoplay</code> is true AND the ad request type is <code translate="No">onplay</code>. In this case you MUST set the <code translate="No">serverUrl</code> in the initial IMA3 plugin configuration.</aside>
      <pre class="line-numbers">
      <code class="language-javascript" translate="No">var myPlayer;
      // Initialize player
      var player = bc('myPlayerID');
      // Initialize IMA plugin
      // A blank serverUrl is used here because we want metadata from the video
      player.ima3({
      serverUrl: "",
      requestMode: 'onplay',
      debug: true
      });
      // When the player's ready, let's get started
      player.ready(function(){
      myPlayer = this;
      myPlayer.one("loadedmetadata", function(){
      // Now we have metadata, we can set up the ad with information from mediainfo
      if (<span class="bcls-highlight">myPlayer.mediainfo.id</span> === '4034552795001') {
      myPlayer.ima3.settings.serverUrl = "https://pubads.g.doubleclick.net/";
      } else {
      myPlayer.ima3.settings.serverUrl = "https://example.com/ads/";
      }
      });
      });</code></pre>
      </section> -->

    <section class="bcls-section">
        <h2 id="Hybrid_implementation">混合實施</h2>

        <p>
            到目前為止，您已經在Studio中看到了IMA插件，然後在代碼中實現了IMA插件。一些客戶喜歡執行混合實現，在Studio中添加了基本插件，但隨後在頁面的JavaScript中完成了配置。本節將討論這種混合實現。
        </p>

        <p>
            正如您在上一節中已經看到的那樣，當僅以代碼形式實現IMA3插件時，您將以函數格式操作該插件。在Studio中安裝插件，然後在頁面中進行配置時，必須將插件視為對象。例如，假設您使用Studio安裝了IMA3插件，如下所示，請注意，沒有<strong>廣告代碼</strong>提供：
        </p>

        <figure class="bcls-figure">
            <img class="bcls-image" alt="部分Studio安裝" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/partial-studio-install.png"/>
        </figure>

        <p>現在，在頁面的JavaScript中，您可以分配屬性值（請記住，現在將插件視為對象），如下所示：</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  myPlayer.ima3.settings.serverUrl = 'http://solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap.xml';
});</code></pre>

        <p>當然，可以通過這種方式為其他屬性分配值。</p>
    </section>

    <section class="bcls-section">
        <h2 id="Debugging_assistance">調試協助</h2>

        <p>
            調試廣告播放問題時，有兩個選項可提供幫助。如果您什麼也不做，則在控制台中，您只會看到有關廣告開始和結束時間的信息：
        </p>

        <figure class="bcls-figure">
            <img class="bcls-image" alt="控制台中的除錯輸出" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/default-console-debug.png"/>
        </figure>

        <p>
            第一個選項在本文檔的前面部分提到<a href="#debugOption">選件</a>部分。這將在插件級別打開調試。您將看到其他調試信息：
        </p>

        <figure class="bcls-figure">
            <img class="bcls-image" alt="控制台中的除錯輸出" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/console-debug.png"/>
        </figure>

        <p>
            第二種選擇是利用Google提供的工具。您指定一個<strong translate="No">sdkurl</strong>選項，其值指向Google提供的JavaScript文件。此處顯示示例配置：
        </p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">var myPlayer = bc('myPlayerID');
myPlayer.ima3({
  "serverUrl": "//solutions.brightcove.com/bcls/brightcove-player/vmap/simple-vmap.xml",
  "debug": true,
  <span class="bcls-highlight">"sdkurl": "//imasdk.googleapis.com/js/sdkloader/ima3_debug.js"</span>
});
myPlayer.ready(function() {
  myPlayer = this;
});</code></pre>

        <p>
            展開的調試信息將類似於以下內容。（黃色突出顯示的信息來自插件的調試，藍色突出顯示的信息由Google工俱生成。）
        </p>

        <figure class="bcls-figure">
            <img class="bcls-image" alt="控制台中的除錯輸出" src="//learning-services-media.brightcove.com/doc-assets/player-development/advertising/ima3-plugin/console-debug-google.png"/>
        </figure>

        <aside class="bcls-aside bcls-aside--information">
            注意：插件的調試信息和Google信息之間沒有依賴關係。它們可以單獨使用或一起使用。
        </aside>

        <p>
            有關Google IMA錯誤的更多詳細信息，請參見<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/v3/reference/js/ima.AdError">google.ima.AdError類</a> Google的部分<strong translate="No">Google IMA HTML5 SDK APIs</strong>文件。
        </p>
    </section>

    <section class="bcls-section">
        <h2 id="Known_issues">已知問題</h2>

        <h3>畫中畫功能已停用</h3>
        <p>
            的<a href="/general/player-configuration-guide.html#picture_in_picture_control">畫中畫控制</a>實施IMA3插件時禁用。這是一個故意的設計決定。
        </p>

        <h3>在Studio中設置自動播放</h3>

        <p>
            如果您使用IMA3插件顯示廣告，請不要在Studio中設置自動播放。在Studio中設置自動播放可能會導致廣告播放失敗。見<a href="/playback/autoplay-considerations.html">自動播放注意事項</a>文檔以獲取更多信息。
        </p>

        <h3><em>學到更多</em>和<em>廣告倒數計時器</em>默認不再顯示</h3>
        <p>解決方法是使用<code translate="No">useStyledLinearAds</code> Google IMA SDK的廣告資源。將此值設置為true，如下所示：</p>
        <pre class="line-numbers"><code class="language-javascript" translate="No">adsRenderingSettings.useStyledLinearAds=true;</code></pre>
        <p>有關更多詳細信息，請參見Google的<a href="https://developers.google.com/interactive-media-ads/docs/sdks/html5/client-side/reference/js/google.ima.AdsRenderingSettings#useStyledLinearAds">google.ima.AdsRenderingSettings</a>文檔。</p>

        <h3>Android上的Chrome：取消預貼片靜音，視頻將不會自動播放</h3>

        <p>
            如果在Android上使用Chrome（最新版本）並在播放前貼片時取消播放器靜音，則在前貼片結束後播放器不會自動開始播放視頻。如果取消靜音，Brightcove Player的音量持久功能也會取消靜音，因為觀眾的目的是聽到音頻。但是，在較新版本的Chrome Android上，無法自動播放未靜音的內容，並且已添加了開始播放的用戶手勢要求。這是操作系統/設備級別的設置，不是Brightcove可以覆蓋的設置。
        </p>

        <h3>預卷的當前時間顯示可能不正確</h3>

        <p>此問題與IMA SDK報告當前時間的方式有關。目前尚無解決方法。</p>

        <h3>未靜音的中片可能無法在Safari 11桌面上播放</h3>

        <p>
            由於Google IMA SDK的更改，未靜音的中片可能無法在Safari 11桌面上播放。引入了一種新的行為，當Safari 11（桌面以及可能的iOS）拒絕自動播放時，會觸發錯誤並取消廣告。以這種方式受到影響的Midroll會觸發廣告錯誤400，錯誤代碼1205表示阻止了自動播放。
        </p>

        <h3>受支持的環境</h3>

        <p>
            要檢查平台，廣告標準和視頻媒體的受支持組合，請參閱Google的<a href="https://developers.google.com/interactive-media-ads/video_features_and_sdk_versions">視頻功能和SDK兼容性</a>文件。該文件和<a href="https://developers.google.com/interactive-media-ads/docs/vastinspector_dual">視頻套件檢查器</a>可以幫助您診斷嘗試的IMA3廣告配置，而該配置將無法正常運行。
        </p>

        <aside class="bcls-aside bcls-aside--information">
            注意：要使用Video Suite檢查器，您需要VAST廣告代碼或VAST廣告響應。然後，您可以將其粘貼到給定的文本字段中，然後單擊<strong translate="No">Test Ad</strong>按鈕。
        </aside>

        <h3>疊加層和全屏過渡</h3>

        <p>
            video.js使用<a href="https://www.w3.org/TR/fullscreen/">全屏API</a>如果有的話。不同的瀏覽器以不同的方式實現到全屏的過渡，並且在過渡到全屏模式和從全屏模式過渡時，外觀可能會出現差異。在大多數實現中，將全屏顯示的元素從其原始尺寸到目標尺寸進行幾何縮放（即縮放）。但是，大多數重疊廣告都設計為以固定大小顯示，因此它們可能會失真，直到動畫完成為止。
        </p>
        <!-- <h3>Midrolls and live streams/VMAP live streams</h3>
      <p>Midrolls play immediately if they are configured for live streams. The reason this occurs is that in live video time is relative. If a midroll says 10 seconds, it's not clear what 10 seconds is relative to. Is it 10 seconds from the start of
      the stream, or 10 seconds from the start of the time the user started playback? A better solution for a live streams is using ID3 metadata that gives unambiguous cue points when an ad should be played.</p> -->

        <h3 id="skippable-ads">iOS設備上的可跳過廣告</h3>

        <p>使用IMA3插件，當滿足以下條件時，可以在iPhone上播放可跳過的廣告：</p>

        <ul>
            <li>的<code translate="No">playsinline</code>屬性存在於<code translate="No">video</code>元件</li>
            <li>
                的<code translate="No">disableCustomPlaybackForIOS10Plus</code>設置傳遞給插件，並設置為<code translate="No">true</code>
            </li>
        </ul>

        <p>為了<code translate="No">playsinline</code>屬性，只需將其作為屬性包含在<code translate="No">video</code>標籤：</p>

        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js id="player"
  width="640"
  height="360"
  data-video-id="4524585416001"
  data-account="4360108595001"
  data-player="r12ukws9l"
  data-embed="default"
  class="video-js"
  <span class="bcls-highlight">playsinline</span>
  controls&gt;&lt;/video-js&gt;
</code></pre>

        <aside class="bcls-aside bcls-aside--information">注意：的<code translate="No">playsinline</code>屬性僅適用於iOS 10+。</aside>

        <p>
            為了<code translate="No">disableCustomPlaybackForIOS10Plus</code>設置，將其分配為<code translate="No">ima3SdkSettings</code>：
        </p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">player.ima3({
  ima3SdkSettings: {
    "disableCustomPlaybackForIOS10Plus": true
  }
})
</code>
</pre>

        <p>如果您正在使用Studio，並且希望在那裡使用設置，請將其添加到IMA3插件配置中：</p>

        <pre class="line-numbers">
<code class="language-javascript" translate="No">{
  "ima3SdkSettings": {
    "disableCustomPlaybackForIOS10Plus": true
  }
}</code></pre>

        <p>
            有關此設置的完整詳細信息，請參見<a href="#disableCustomPlaybackForIOS10Plus">disableCustomPlaybackForIOS10Plus</a>進入<code translate="No">ima3SdkSettings</code>本文檔的第二部分。
        </p>

        <p><strong translate="No">Skippable ad limitations:</strong></p>

        <ul>
            <li>
                的<strong translate="No">Skip Ad</strong>鈕扣<em>可能會被廣告控制欄部分覆蓋</em>在某些移動設備上。這使最終用戶很難實際跳過廣告。用戶可以捏縮放以使<strong translate="No">Skip Ad</strong>在移動設備上更大的按鈕可以單擊它。
            </li>
            <li>
                <strong translate="No">iPhone</strong>沒有<code translate="No">playsinline</code>和<code translate="No">disableCustomPlaybackForIOS10Plus</code> -無法播放可跳過的廣告。
            </li>
            <li>
                <strong translate="No">iPhone</strong>與<code translate="No">playsinline</code>和<code translate="No">disableCustomPlaybackForIOS10Plus</code> -廣告是內聯播放的，但是如果使用全屏播放，則不會顯示廣告，但是會播放廣告的音頻。換句話說，可跳過的廣告在全屏模式下無法正常運行。
            </li>
            <li><strong translate="No">iPad</strong> -內聯播放廣告，但在全屏模式下無法跳過</li>
        </ul>

        <h3>iOS 10 iPad和iPhone：使用時預卷廣告不起作用<code translate="No">playsinline</code>和全屏</h3>

        <p>
            如果使用<code translate="No">playsinline</code>在iOS 10 iPad和iPhone上允許非全屏觀看視頻，則預卷廣告開始，然後單擊全屏按鈕，該廣告將無法繼續播放。這是Google IMA實施的限制，並且Google沒有計劃解決此問題。
        </p>

        <h3>與gpt_proxy.js衝突</h3>

        <p>
            如果對IMA3使用GPT代理腳本，並且<strong translate="No">adTechOder</strong>是<strong translate="No">HTML5</strong>首先，可能會出現播放問題。使用以下腳本時，IMA3插件將受到影響：<strong translate="No">window.google</strong>要么<strong translate="No">window.google.ima</strong>。建議您檢查是否正在使用Brightcove Player，並且在這種情況下不要加載代理。
        </p>

        <h3>調整大小<strong translate="No">Skip Ad</strong>鈕扣</h3>

        <p>
            無法調整<strong translate="No">Skip Ad</strong>按鈕。Brightcove Player API沒有指定大小的方法或屬性。<strong translate="No">Skip Ad</strong>按鈕。在開發人員級別，如果發布商正在使用VPAID廣告，則這些廣告可以實施自己的廣告<strong translate="No">Skip Ad</strong>按鈕和邏輯以適合Brightcove Player的UI和元素分佈。
        </p>

        <h3>廣告將無法在iOS上自動播放</h3>

        <p>
            儘管不特定於IMA3插件，但請注意<code translate="No">autoplay</code>僅限iOS，因此在做出用戶手勢之前廣告不會開始。
        </p>

        <h3 id="Ad_cue_point_issues">廣告提示點問題</h3>

        <p>
            有關使用廣告提示點的特定問題，請參見<strong translate="No">Known issues</strong>的部分<a href="/advertising/displaying-ads-using-ad-cue-points.html#Known_issues">使用廣告提示點顯示廣告</a>文件。
        </p>
    </section>

    <section class="bcls-section">
        <h2 id="Changelog">變更記錄檔</h2>

        <p><a href="/plugins/changelog/advertising-ima3-plugin-changelog.html">在這裡看到更改日誌</a>。</p>
    </section>
</article>
<!-- complete bootstrap layout -->
    </div>
    <div class="col-sm-2 right-side-bar">
      
      <nav class="right-side-nav" id="right_side_nav">
        <h6 class="toc">頁面內容</h6>
        <ul id="in_page_nav" class="list-none"></ul>
      </nav>
      
    </div>
  </div>
</div>

<hr>
<footer class="bcls-footer" role="contentinfo">  <div class="row">
    <div class="region region-footer-top-center col-md-12">
      <nav role="navigation" aria-labelledby="block-brightcovesupport-menu" id="block-brightcovesupport" class="footer-menu">

        <h2>布萊特灣支援</h2>

        <ul class="menu">
          <li>
            <a href="https://status.brightcove.com">系統狀態</a>
          </li>
          <li>
            <a href="https://supportportal.brightcove.com/s/login/?">聯絡支援</a>
          </li>
          <li>
            <a href="https://support.brightcove.com/">文獻資料</a>
          </li>
        </ul>

      </nav>
      <nav role="navigation" aria-labelledby="block-training-menu" id="block-training" class="footer-menu">

        <h2>訓練</h2>

        <ul class="menu">
          <li>
            <a href="https://studio.support.brightcove.com/training/online-training-courses.html">線上課程</a>
          </li>
          <li>
            <a href="https://studio.support.brightcove.com/training/register-training.html">註冊課程</a>
          </li>
          <li>
            <a href="https://university.brightcove.com/">布萊特灣大學</a>
          </li>
        </ul>

      </nav>
      <nav role="navigation" aria-labelledby="block-brightcove-menu" class="footer-menu">

        <h2>Brightcove</h2>

        <ul class="menu">
          <li>
            <a href="https://www.brightcove.com">亮麗</a>
          </li>
          <li>
            <a href="https://supportportal.brightcove.com/s/login/?">聯絡我們</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <div class="row">
    <div class="region region-footer-bottom-center col-md-12">
      <div class="bcls-copyright footer-menu">
        <table>
          <tr>
            <td>
              <div id="bc_copyright" class="field field--name-field-copyright-year field--type-string field--label-hidden field--item" style="float: left;"> 布萊特灣公司版權所有</div>
            </td>
            <td><a href="https://www.brightcove.com/en/legal/privacy">私隱</a> | 條<a href="https://www.brightcove.com/en/terms-and-conditions">款及細則</a></td>
            <td>
              <div class="gf-links-cols footer-menu">
                <div class="gf-social"><a href="https://www.linkedin.com/company/16439" title="LinkedIn" newtab="newtab" class="gf-social-linkedin"><i class="fab fa-linkedin-in" style="font-size: 1.5rem;"></i></a><a href="https://twitter.com/brightcove" title="Twitter" newtab="newtab" class="gf-social-twitter"><i class="fab fa-twitter" style="font-size: 1.5rem;"></i></a><a href="https://www.facebook.com/Brightcove" title="Facebook" newtab="newtab" class="gf-social-facebook"><i class="fab fa-facebook-f" style="font-size: 1.5rem;"></i></a>
                </div>
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</footer>

</div>
</div>
<script>
      
  var searchBox = sajari.init({
    mode: "search-box",
    project: "1588255093746585379", // Set this to your project.
    collection: "brightcove-documenation", // Set this to your collection.
    instantPipeline: "autocomplete", // Pipeline used as you type
    inputPlaceholder: "Search", // Input element placeholder
    maxSuggestions: 5, // Maximum number of suggestions to show
    attachSearchBox: document.getElementById("nav-search-box") // DOM element to attach to
  });
  
    searchBox("sub", "pipeline.search-sent", function (_, query) {
      window.location = "/search.html?q=" + encodeURIComponent(query.q);
    });
  

</script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/https-fix.js"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/setDate.js"></script>
  
  <script src="https://support.brightcove.com/site-assets/js/site/prism.js"></script>
  
  <script src="https://support.brightcove.com/site-assets/js/site/site.js"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/tabs.js"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/toc.js"></script>
  <script src="/assets/js/sites_nav.js"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/bcls-utils.js"></script>
  <script src="https://support.brightcove.com/site-assets/js/site/local-link-fix.js"></script>
  <script src="/assets/js/feedback.js"></script>
  
  <script src="/assets/js/sajari-search-foot.js"></script>
  
  <!-- <script src="/assets/js/sajari-index.js"></script> -->
  <style>
    a.sj-paginator__page-number.sj-paginator__page-number--current.css-so0ov7 {
      background-color: lightblue;
    }
    div.sj-tabs__tab {
      margin-top: 3rem;
      margin-left: .3rem;
      border-top-left-radius: .4rem;
      border-top-right-radius: .4rem;
      background-color:#e8e8e8;
    }

    div.sj-tabs__tab.sj-tabs__tab--selected {
      border-bottom-color: crimson;
      background-color: #f8f8f8;
    }

    p.sj-results__result__description.css-p9jvyt {
      font-size: 1rem;
    }

    .sj-result__text.css-31l7gp h3 {
      color: navy;
      font-size: 1.4rem;
    }
    </style>

</body>

</html>
