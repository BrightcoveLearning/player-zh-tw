---
title:播放器/插件版本測試
description: '在本主題中，您將學習如何創建指定版本的播放器，然後使用插件測試該版本的播放器。'
parent: Plugins
---
 <h1>{{ page.title }}</h1>
<article class="bcls-article">
    <summary>{{ page.description }}</summary>

    <section class="bcls-section">
      <h2 id="Introduction">介紹</h2>
      <p>Brightcove Player 插件可以是您自己的作品，也可以是 Brightcove 提供的插件。您將獲得三個測試選項：</p>
      <ul>
        <li>使用Studio創建播放器並添加插件和配置。</li>
        <li>使用Studio創建播放器，然後以HTML編程方式添加插件。</li>
        <li>使用播放器管理API和<strong>捲曲</strong>。這<strong>捲曲</strong>命令行使用此工具來利用Player Management API。有關使用curl的介紹，請參見<a href="https://apis.support.brightcove.com/player-management/getting-started/step-step-player-management.html">快速開始：球員管理</a>文檔。如果您熟悉HTTP客戶端工具，例如<a href="//www.postman.com/">郵差</a>，它們也可以使用。這種方法的優勢在於，您可以選擇所需的任何版本的播放器，而不僅限於Studio中可用的那些版本。</li>
      </ul>
    </section>
  <section class="bcls-section">
    <h2 id="Testing_Brightcove_plugin_pre_releases">測試Brightcove插件預發行版</h2>
    <p>有時Brightcove會提供某些插件的預發布版本。您可以使用本文檔中的說明來確保Brightcove Player和其他插件可以與預發行版一起使用。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Using_Studio">使用工作室</h2>
    <p>在以下步驟中，將指導您完成使用Studio創建播放器並將插件添加到播放器進行測試的過程。</p>
    <aside class="bcls-aside bcls-aside--warning">您可以在現有的 Brightcove 播放器上進行測試，但是對製作玩家的測試應該非常小心謹慎地進行測試。</aside> 
    <ol class="bcls-tasklist">
      <li>打開<strong>球員</strong>模塊並創建一個新播放器或找到您希望添加插件的播放器。</li>
      <li>單擊播放器的鏈接以打開播放器的屬性。</li>
      <li>點擊<strong>插件</strong>在左側導航菜單中。</li>
      <li>點擊<strong>添加插件</strong>並選擇<strong>自定義插件</strong> .
        <figure class="bcls-figure"><img class="bcls-image" alt="Custom Plugin" src="/assets/images/plugins/plugin-version/custom-plugin.png" /></figure>
      </li>
      <li>為了<strong>插件名稱</strong>輸入所需插件的名稱。</li>
      <li>
        <aside class="bcls-aside bcls-aside--information">如果您正在測試 Brightcove 預發布插件，則會提供 JavaScript 和 CSS 的 URL。</aside>輸入所需的插件<strong>的JavaScript</strong>網址。</li>
      <li>輸入所需的插件<strong>的CSS</strong>網址。</li>
      <li>輸入所需插件的配置選項（如果有）。</li>
      <li>點擊<strong>保存</strong>。</li>
      <li>若要發佈播放程式，請按一下「<strong>發佈與內嵌」&gt;「發佈變更」</strong>。</li>
      <li>若要關閉開啟對話方塊，請按一下「<strong>關閉」</strong>。</li>
    </ol>
    <p>現在，您可以使用新配置的播放器發布視頻並測試插件了。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Programmatically_add_the_plugin">以編程方式添加插件</h2>
    <p>在文檔的此部分中，您將在Studio中創建播放器，然後使用HTML頁面中的代碼添加插件。</p>
    <aside class="bcls-aside bcls-aside--warning">您可以在現有的 Brightcove 播放器上進行測試，但是對製作玩家的測試應該非常小心謹慎地進行測試。</aside> 
    <ol class="bcls-tasklist">
      <li>在Studio中，選擇<strong>選手們</strong>模塊。</li>
      <li>使用下拉菜單中的所需版本創建一個新播放器。</li>
      <li>轉到<strong>媒體</strong>模塊並發布視頻。</li>
      <li>複製<strong>先進的</strong>（頁內嵌入）實施代碼。</li>
      <li>將播放器代碼粘貼到HTML頁面中。</li>
      <li>使用HTML將路徑添加到CSS文件<code translate="No">&lt;link&gt;</code>標籤。</li>
      <li>使用HTML將路徑添加到JavaScript文件<code translate="No">&lt;script&gt;</code>標籤。</li>
      <li>播放器準備就緒後，調用插件並傳遞任何選項。</li>
      <li>下面顯示了所需代碼的一般概述：
        <pre class="line-numbers">
<code class="language-javascript" translate="No">&lt;!doctype html&gt;
  &lt;html&gt;

  &lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Testing a plugin&lt;/title&gt;
    &lt;link href="//url_to_my_css/my.css" rel="stylesheet"&gt;
  &lt;/head&gt;

  &lt;body&gt;

    &lt;video-js id="myPlayerID"
      data-video-id="5350958927001"
      data-account="1507807800001"
      data-player="rJeuIHdbmW"
      data-embed="default"
      data-application-id
      class="video-js"
      controls&gt;&lt;/video-js&gt;
    &lt;script src="https://players.brightcove.net/1507807800001/rJeuIHdbmW_default/index.min.js"&gt;&lt;/script&gt;

    &lt;script src="//url_to_my_js/my.js"&gt;&lt;/script&gt;

    &lt;script type="text/javascript"&gt;
      videojs.getPlayer('myPlayerID').ready(function() {
        var myPlayer = this,
        options = {};
        options.prop1 = "value1";
        options.prop2 = "value2";

        myPlayer.pluginName(options);
      });
    &lt;/script&gt;

  &lt;/body&gt;

  &lt;/html&gt;</code></pre>
      </li>
    </ol>
    <aside class="bcls-aside bcls-aside--information">如果您正在測試 Brightcove 預發布插件，則會提供 URL。</aside>
    <p>您現在可以瀏覽此頁面以測試您的插件。</p>
  </section>
  <section class="bcls-section">
    <h2 id="Using_curl_and_the_Player_Management_API">使用curl和Player Management API</h2>
    <p>在本文檔的此部分中，您將看到如何使用curl並利用Player Management API測試帶有播放器的插件。這種方法的優勢在於，您可以選擇所需的任何版本的播放器，而不僅限於Studio中可用的那些版本。</p>
    <h3>創建一個球員</h3>
    <p>現在，您已經成功創建了指定版本的播放器。</p>
    <h3>創建一個測試頁面</h3>
    <p>現在，您的播放器已創建，您將要使用它測試您的插件。本節中的步驟將指導您獲取高級播放器代碼實現，並使用您的插件進行測試。</p>
    <ol class="bcls-tasklist">
      <li>
        <p>正如在<a href="https://apis.support.brightcove.com/player-management/getting-started/step-step-player-management.html">一步步：球員管理</a>文檔中，您將需要為以下內容設置環境變量：</p>
        <ul>
          <li>你的郵件
            <pre class="line-numbers">
<code class="language-bash" translate="No">export EMAIL=YourEmailAddress</code></pre>
          </li>
          <li>您的帳號
            <pre class="line-numbers">
<code class="language-bash" translate="No">export ACCOUNT_ID=YourAccountID</code></pre>
          </li>
          <li>創建播放器後，您的播放器ID
            <pre class="line-numbers">
<code class="language-bash" translate="No">export PLAYER_ID=MyPlayerID</code></pre>
          </li>
        </ul>
        <p>在curl中，您將使用前面帶有變量的變量<strong>$</strong>，就像這樣：<code translate="No">$EMAIL</code></p>
      </li>
      <li>創建一個名為的播放器<strong>六人遊戲</strong>使用版本<strong>6.0.0</strong>您可以將以下curl語句粘貼到終端中（在下面的屏幕截圖中以黃色突出顯示）：
        <pre class="line-numbers">
<code class="language-bash" translate="No">curl \
  --header "Content-Type: application/json" \
  --user $EMAIL \
  --request POST \
  --data '{
      "name": "six-oh player",
      "configuration": {
        "player": {
          "template": {
            "name": "single-video-template",
            "version": "6.0.0"
          }
        }
      }
    }' \
    https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players</code></pre>
      </li>
      <li>按下後<strong>進入</strong>，系統將提示您輸入您的Brightcove密碼（在下面的屏幕截圖中以紅色突出顯示）。</li>
      <li>最後，Player Management API將以JSON格式返回有關您剛剛創建的播放器的播放器信息（在下面的屏幕截圖中以綠色突出顯示）。
        <figure class="bcls-figure"><img class="bcls-image" alt="Creating a player in terminal" src="/assets/images/plugins/plugin-version/terminal-create-player.png" /></figure>
        <p>播放器JSON（格式更好）顯示在此處：</p>
        <pre class="line-numbers">
<code class="language-json" translate="No">{
  "id": "B1JOH9o0e",
  "url": "https://players.brightcove.net/1507807800001/B1JOH9o0e_default/index.html",
  "embed_code": "&lt;iframe src='//players.brightcove.net/1507807800001/B1JOH9o0e_default/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;",
  "embed_in_page": "https://players.brightcove.net/1507807800001/B1JOH9o0e_default/in_page.embed",
  "preview_url": "https://preview-players.brightcove.net/v1/accounts/1507807800001/players/B1JOH9o0e/preview/embeds/default/master/index.html",
  "preview_embed_code": "&lt;iframe src='//preview-players.brightcove.net/v1/accounts/1507807800001/players/B1JOH9o0e/preview/embeds/default/master/index.html' allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;"
}</code></pre>
      </li>
      <li>現在已經創建了播放器，您可以進入Studio並使用播放器發布視頻。例如，<strong>先進的</strong>播放器代碼如下所示，但當然會使用您的帳戶信息。
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;video-js data-video-id="5350958927001"
  data-account="1507807800001"
  data-player="B1JOH9o0e"
  data-embed="default"
  data-application-id
  class="video-js"
  controls
  width="640"
  height="360"&gt;&lt;/video-js&gt;
&lt;script src="https://players.brightcove.net/1507807800001/B1JOH9o0e_default/index.min.js"&gt;&lt;/script&gt;</code></pre>
      </li>
      <li>現在，將播放器代碼放入HTML頁面。請注意<code translate="No">id</code>屬性已添加到<code translate="No">video</code>標籤的賦值為<code translate="No">myPlayerID</code>。
        <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Testing Player and Plugin Versions&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;

  &lt;video-js id="myPlayerID"
    data-video-id="5350958927001"
    data-account="1507807800001"
    data-player="B1JOH9o0e"
    data-embed="default"
    data-application-id
    class="video-js"
    controls
    width="640"
    height="360"&gt;&lt;/video-js&gt;
  &lt;script src="https://players.brightcove.net/1507807800001/B1JOH9o0e_default/index.min.js"&gt;&lt;/script&gt;

&lt;/body&gt;

&lt;/html&gt;</code></pre>
      </li>
      <li>現在您要測試您的插件（假設您已經命名了插件<code translate="No">myPluginName</code>）。最簡單的過程是將您的代碼保存在本地，然後只需在插件中加載<code translate="No">script</code>標籤。然後，您調用要加載的插件。這兩個步驟的代碼都在下面突出顯示。這裡顯示一個示例：
        <pre class="line-numbers">
<code class="language-html" translate="No">...
  &lt;video-js data-video-id="5350958927001"
    data-account="1507807800001"
    data-player="B1JOH9o0e"
    data-embed="default"
    data-application-id
    class="video-js"
    controls
    width="640"
    height="360"&gt;&lt;/video-js&gt;
  &lt;script src="https://players.brightcove.net/1507807800001/B1JOH9o0e_default/index.min.js"&gt;&lt;/script&gt;

  //Load my plugin source JavaScript
  <span class="bcls-highlight">&lt;script src="my_plugin_source.js"&gt;&lt;/script&gt;</span>

  //Load my plugin into the player
  &lt;script type="text/javascript"&gt;
    videojs.getPlayer('myPlayerID').ready(function() {
      var myPlayer = this;
      <span class="bcls-highlight">myPlayer.myPluginName();</span>
    });
  &lt;/script&gt;
...</code></pre>
      </li>
      <li>現在，您可以測試播放器，並在需要時進行交互式調試。</li>
    </ol>
    <h3>永久將插件添加到播放器</h3>
    <p>一旦一切正常，並且您希望在使用播放器時將其包含在播放器中，則可以使用curl和播放器管理API將插件分配給播放器。以下curl語句是一個示例，您將需要添加特定的配置選項和插件名稱。</p>
    <pre class="line-numbers">
<code class="language-bash" translate="No">curl \
  --header "Content-Type: application/json" \
	 --user $EMAIL \
	 --request PATCH \
	 --data '{
      "plugins": [{
          "name": "myPluginName",
          "options": {
            "param1": "1",
            "param2": "2"
          }
        }
      ],
      "scripts": [
        "http://domain.com/wherever/myplugin.js"
      ],
      "stylesheets": [
        "http://domain.com/wherever/myplugin.css"
      ]
    }' \
https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players/$PLAYER_ID/configuration
</code></pre>
    <p>添加插件後，您要么要進入Studio並發布播放器（它將被標記為需要發布），要么可以使用以下curl語句來發布播放器：</p>
    <pre class="line-numbers">
<code class="language-bash" translate="No">curl \
  --header "Content-Type: application/json" \
  --user $EMAIL  \
  --request POST \
  https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players/$PLAYER_ID/publish</code></pre>
  </section>
</article>