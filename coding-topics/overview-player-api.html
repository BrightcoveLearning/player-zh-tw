---
title: '概述：播放器接口
parent: Coding Topics
description: The Brightcove Player API allows you to interact with the video through JavaScript, whether the browser is playing the video through HTML5 video, Flash, or any other supported playback technologies.
---

<article class="bcls-article">
  <h1>概述：播放器API</h1>
  <summary>{{ page.description }}</summary>
  <section id="Referencing_the_player" class="bcls-section">
    <h2>引用播放器</h2>
    <p>要使用API函數，您需要訪問播放器對象。這很容易做到。您只需要確保您的視頻標籤具有ID即可。該示例嵌入代碼的ID為<code translate="No">myPlayerID</code>，並且播放器對象將保留在<code translate="No">myPlayer</code>多變的。如果一頁上有多個視頻，請確保每個視頻標籤都有唯一的ID。</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">var myPlayer = videojs.getPlayer('myPlayerID');</code></pre>
  </section>
  <section class="bcls-section" id="waittilready">
    <h2>播放器準備方法</h2>
    <p>Video.js設置視頻和API所花費的時間取決於多種因素，例如連接速度。因此，我們要使用播放器的<code translate="No">ready()</code>觸發需要播放器API的任何代碼的方法。</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').<span class="bcls-highlight">ready(function() {</span>
  var myPlayer = this;

  // EXAMPLE: Handle an event
  myPlayer.on('loadstart',doLoadstart);

});</code></pre>
    <aside class="bcls-aside bcls-aside--information">上面的代碼實際上結合了<code translate="No">getPlayer()</code>和<code translate="No">ready()</code>方法進入第一行代碼。然後，您分配<code translate="No">myPlayer</code>可變值<code translate="No">this</code>，這是玩家實例。如果選擇，也可以使用此處顯示的替代方法，但是上面的代碼更為常見。
      <pre class="line-numbers">
<code class="language-javascript" translate="No">var myPlayer = videojs.getPlayer('myPlayerID');
<span class="bcls-highlight">myPlayer.ready</span>(function(){

  // EXAMPLE: Handle an event
  myPlayer.on('loadstart',doLoadstart);

});</code></pre>
    </aside>
    <h3>播放器準備就緒與播放器準備就緒中的視頻</h3>
    <p>從本文檔中相關的內容中，您可能會認為這是對API的安全使用：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  // Play the video in the player
  myPlayer.play()
});</code></pre>
    <p>在此示例中，僅僅因為播放器準備好進行交互的問題並不能保證播放器中的視頻已加載並準備播放。因此，您必須使用<code translate="No">loadedmetadata</code>保證視頻可以播放的事件。該代碼將如下所示：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').ready(function() {
  var myPlayer = this;
  // Play the video in the player
  myPlayer.on('loadedmetadata',function(){
    myPlayer.play();
  })
});</code></pre>
    <p>如果打電話給<code translate="No">play()</code>方法是該功能中唯一要執行的任務，並且您不會以其他方式與播放器進行交互，因此可以將此代碼簡化為該代碼（無需使用<code translate="No">ready()</code>方法）：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.getPlayer('myPlayerID').on('loadedmetadata',function(){
  var myPlayer = this;
  myPlayer.play();
});</code></pre>
  </section>
  <section class="bcls-section" id="methods">
    <h2>API方法</h2>
    <p>現在，您可以使用準備就緒的播放器，可以控制視頻，獲取值或響應視頻事件了。Video.js API函數名稱遵循<a href="https://html.spec.whatwg.org/#the-video-element">HTML5媒體API</a>。主要區別在於，getter / setter函數用於視頻屬性。</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">// setting a property on a bare HTML5 video element
myVideoElement.currentTime = "120";

// setting a property on a Video.js player
myPlayer.currentTime(120);</code></pre>
    <p>播放器API方法和事件的完整列表可以在<a href="https://docs.brightcove.com/brightcove-player/current-release/Player.html">播放器API文檔</a>。</p>
  </section>
</article>