---
title:本地化插件
parent: Coding Topics
description: 'In this topic you will learn how a plugin developer can localize a Brightcove Player plugin. Note that this is NOT the same as using the built-in localization for the player itself. As is suggested in the <a href="/coding-topics/step-step-plugin-development.html">插件開發快速入門</a>，應用程序將在本地開發，然後轉換為插件。---
<article class="bcls-article">
  <h1>本地化插件</h1>
  <summary>{{ page.description }}</summary>
  <section id="addlanguage" class="bcls-section">
    <h2>添加語言</h2>
    <p>您可以選擇插件中要支持的語言。對於您希望支持的每種語言，您必須具有一組鍵-值對，其中英語為鍵，而相應的本地化語言為值。您可以通過使用 Videojs 來做到這一點<code translate="No">addLanguage()</code>方法。以下代碼顯示瞭如何向頁面添加德語翻譯：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.addLanguage('de', {
  "Hello": "Guten Tag",
  "Goodbye": "Auf Wiedersehen",
});</code></pre>
  </section>
  <section id="localizecontent" class="bcls-section">
    <h2>本地化內容</h2>
    <p>添加了要在本地化過程中使用的語言和詞彙後，您可以使用播放器的<code translate="No">localize()</code>方法來執行實際的本地化。下面顯示了被注入HTML的字符串<code translate="No">&lt;span&gt;</code>，然後附加到視頻代碼的末尾：</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">  textSpan = document.createElement('span');
  textSpan.className = "localizeStyle"
  <span class="bcls-highlight">textSpan.innerHTML = myPlayer.localize("Hello") + "/" + myPlayer.localize("Goodbye");</span>
  myPlayer.el().appendChild(textSpan);</code></pre>
    <p>這<code translate="No">localize()</code>方法將英語關鍵字作為字符串參數，<code translate="No">myPlayer.localize("Hello")</code>，並顯示該字符串，除非可以使用瀏覽器的首選語言，在這種情況下，將替換本地化的單詞。</p>
  </section>
  <section id="setdisplaylanguage" class="bcls-section">
    <h2>設定顯示語言</h2>
    <p>要顯示本地化的文本，用戶必須在瀏覽器中設置首選語言。確切步驟因瀏覽器和操作系統而異。</p>
    <p>如果瀏覽器的首選語言是英語或不可用的語言，您將看到默認的文本或英語。</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="localize english" src="/assets/images/coding-topics/localize-plugin-english.png" /></figure>
    <p>如果將瀏覽器的首選語言設置為可用語言，則將看到本地化版本，如下所示：</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="localize german" src="/assets/images/coding-topics/localize-plugin-deutsch.png" /></figure>
  </section>
  <section id="plugincode" class="bcls-section">
    <h2>插件代碼</h2>
    <p>如文件中所述<a href="/coding-topics/step-step-plugin-development.html">一步步：插件開發</a>，將代碼放入包含插件的文件中。</p>
    <ul>
      <li>第27,37行：定義Brightcove Player插件的標準語法。請注意，插件名稱為<strong>pluginLocalize</strong>。</li>
      <li>第28-31行：添加德語本地化。</li>
      <li>第32-36行：動態創建HTML <code translate="No">span</code>元素，將其填充並將其附加到播放器代碼。</li>
    </ul>
    <pre class="line-numbers" data-start="27">
<code class="language-javascript" translate="No">videojs.registerPlugin('pluginLocalize', function() {
  videojs.addLanguage('de', {
      "Hello": "Guten Tag",
      "Goodbye": "Auf Wiedersehen",
  });
  var myPlayer = this,
  textSpan = document.createElement('span');
  textSpan.className = "localizeStyle"
  textSpan.innerHTML = myPlayer.localize("Hello") + "/" + myPlayer.localize("Goodbye");
  myPlayer.el().appendChild(textSpan);
});</code></pre>
    <p>出於測試目的，請在利用embed_in_page播放器實現的頁面中本地使用該插件。</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Localize Plugin Example&lt;/title&gt;
  <span class="bcls-highlight">&lt;link href="localize-plugin.css" rel="stylesheet"&gt;</span>
&lt;/head&gt;

&lt;body&gt;
  &lt;video-js id="myPlayerID"
    data-account="1752604059001"
    data-player="9a2e3f23-d63b-43c3-aae9-21f11548e812"
    data-embed="default"
    data-video-id="3851389913001"
    class="video-js" controls&gt;&lt;/video-js&gt;
  &lt;script src="https://players.brightcove.net/1752604059001/9a2e3f23-d63b-43c3-aae9-21f11548e812_default/index.min.js"&gt;&lt;/script&gt;

<span class="bcls-highlight">  &lt;script type="text/javascript" src="localize-plugin.js"&gt;&lt;/script&gt;
  &lt;script&gt;videojs.getPlayer('myPlayerID').pluginLocalize();&lt;/script&gt;</span>
&lt;/body&gt;

&lt;/html&gt;</code></pre>
  </section>
  <section id="addplugintoplayer" class="bcls-section">
    <h2>將插件添加到播放器</h2>
    <p>確認插件正常運行後，您將需要將插件添加到播放器中。為此，請按照下列步驟操作：</p>
    <ol class="bcls-tasklist">
      <li>打開<strong>球員</strong>模塊並創建一個新播放器或找到您希望添加插件的播放器。</li>
      <li>單擊播放器的鏈接以打開播放器的屬性。</li>
      <li>點擊<strong>插件</strong>在左側導航菜單中。</li>
      <li>接下來，點擊<strong>添加插件&gt;自定義插件</strong> .</li>
      <li>為了<strong>插件名稱</strong>進入<code translate="No">pluginLocalize</code>。</li>
      <li><strong>在這個</strong>網址中，輸入：
        <pre>
<code class="language-json" translate="No">http://solutions.brightcove.com/bcls/brightcove-player/localization/localize-plugin.js</code></pre>
      </li>
      <li>為了<strong>的CSS</strong> URL，輸入：
        <pre>
<code class="language-json" translate="No">http://solutions.brightcove.com/bcls/brightcove-player/localization/localize-plugin.css</code></pre>
      </li>
      <li>您不必為此插件輸入任何選項。</li>
      <li>檢查以確保您的表單看起來類似於以下內容：
        <figure class="bcls-figure"><img class="bcls-image" alt="add localize plugin" src="/assets/images/coding-topics/localize-add-plugin.png" /></figure>
      </li>
      <li>點擊<strong>保存</strong>。</li>
      <li>若要發佈播放程式，請按一下「<strong>發佈與內嵌」&gt;「發佈變更」</strong>。</li>
      <li>若要關閉開啟對話方塊，請按一下「<strong>關閉」</strong>。</li>
    </ol>
    <p>保存並發布後，您可以通過點擊<strong>外掛程式</strong>列表。</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="add localize plugin done" src="/assets/images/coding-topics/localize-add-plugin-done.png" /></figure>
    <p>現在，該插件已成為播放器的一部分。這樣一來，您就可以在沒有其他支持代碼的情況下使用iframe播放器實現，並可以使用插件的功能。</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">&lt;!doctype html&gt;
&lt;html&gt;

&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Localize Plugin - iframe&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;

  &lt;iframe src='https://players.brightcove.net/1752604059001/9a2e3f23-d63b-43c3-aae9-21f11548e812_default/index.html'
    allowfullscreen webkitallowfullscreen mozallowfullscreen&gt;&lt;/iframe&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre>
  </section>
</article>