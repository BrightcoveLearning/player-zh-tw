---
title:以編程方式本地化 Brightcove Player
parent: Coding Topics
description: In this topic you will learn how to localize Brightcove Player. The names of the control elements do not appear as you hover over them. More importantly, the localized names of the control elements would be used by a screen reader. In this document you will use the player's HTML structure to confirm the elements' names have be localized.
---

<article class="bcls-article">
  <h1>以編程方式本地化 Brightcove Player</h1>
  <summary>{{ page.description }}</summary>
  <aside class="bcls-aside bcls-aside--tip">您可以使用 Studio 配置本地化，如<a href="https://studio.support.brightcove.com/players/configuring-player-localization.html">配置播放器本地化</a>文檔。該文檔使用 UI 來配置本地化，而本文檔採用編程方法。
  <section id="Document_structure" class="bcls-section">
    <h2>文件結構</h2>
    <p>首先顯示了對頁內嵌入實現進行本地化的過程，然後顯示了iframe實現。本文檔的結尾部分演示瞭如果您希望本地化播放器周圍頁面上的內容，則應如何編輯或添加到本地化詞彙表中。</p>
  </section>
  <section id="includelanguage" class="bcls-section">
    <h2>包括語言</h2>
    <p>本地化的首要任務是包括您希望用於本地化的語言。您可以在上看到可用的語言<a href="//github.com/videojs/video.js/tree/master/lang">Video.js語言頁面</a>，顯示在這裡。</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="language localization" src="/assets/images/coding-topics/localization-languages.png" /></figure>
    <p>德語（de）文件的內容如下所示。該文件顯示將自動翻譯的單詞/短語。</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="german github file" src="/assets/images/coding-topics/localization-deutsch-github-file.png" /></figure>
    <p>一旦確定了支持本地化的語言，就必須配置播放器以包括它們。您可以使用<a href="https://apis.support.brightcove.com/player-management/">播放器管理API</a>。您可以在以下curl語句上使用模式化的代碼來在創建播放器時添加語言支持：</p>
    <aside class="bcls-aside bcls-aside--information">注意：如果您沒有使用Player Management API的curl語句的經驗，建議您從<a href="https://apis.support.brightcove.com/player-management/getting-started/step-step-player-management.html">一步步：球員管理。
    <pre class="line-numbers">
<code class="language-json" translate="No">curl \
  --header "Content-Type: application/json" \
  --user $EMAIL \
  --request POST \
  --data '{
      "name": "Localization Example",
      "configuration": {
<span class="bcls-highlight">        "languages": [
          "de",
          "es"
        ],
</span>        "media": {
          "sources": [{
            "src":"http://solutions.brightcove.com/bcls/assets/videos/Tiger.mp4",
            "type":"video/mp4"
          }]
        }
      }
    }' \
    https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players</code></pre>
    <p>如果播放器已經存在，並且您希望添加語言支持，則可以使用以下curl語句上的模式代碼來更新播放器：</p>
    <pre class="line-numbers">
<code class="language-json" translate="No">curl \
  --header "Content-Type: application/json" \
  --user $EMAIL \
  --request PATCH \
  --data '{
<span class="bcls-highlight">      "languages": [
        "de",
        "es"
      ]</span>
    }' \
  https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players/$PLAYER_ID/configuration</code></pre>
    現在，您將發布播放器以對已發布的播放器進行更改。輸入以下命令：
    <pre class="line-numbers">
<code class="language-bash" translate="No">curl \
--header "Content-Type: application/json" \
--user $EMAIL \
--request POST \
https://players.api.brightcove.com/v2/accounts/$ACCOUNT_ID/players/$PLAYER_ID/publish</code></pre>
    <p>設置了語言的示例播放器配置如下所示：</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="player configuration" src="/assets/images/coding-topics/localization-player-config.png" /></figure>
  </section>
  <section id="setlanguage" class="bcls-section">
    <h2>設定語言</h2>
    <p>要使用本地化的控件名稱，用戶可以在瀏覽器中設置首選語言。確切的步驟因瀏覽器和OS而異（下一段給出了廣泛的指導）。如果瀏覽器的首選語言是英語或不可用的語言，您將看到默認的文本或英語。</p>
    <p>瀏覽器沒有完全標準化的語言環境檢測，因此可能有點複雜。大致來說，瀏覽器會按照以下順序確定所需的語言：</p>
    <ol>
      <li>檢查嵌入頁面上是否有<code translate="No">lang</code>的屬性<code translate="No">&lt;html&gt;</code>元素。</li>
      <li>檢查特定於瀏覽器的語言環境配置。</li>
      <li>退回到英語。</li>
    </ol>
    <h4>iframe查詢參數</h4>
    <p>如果您使用播放器的iframe實現，則可以通過在播放器中包含查詢參數來設置該播放器的語言<code translate="No">src</code>屬性。例如，添加到具有視頻ID的現有查詢參數中<code translate="No">?videoId=4607746980001</code>，您可以使用<code translate="No">&amp;language=</code>然後是語言代碼。例如，這是一個iframe播放器實現，將語言設置為德語：</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="iframe localization parameter" src="/assets/images/coding-topics/iframe-language-parameter.png" /></figure>
  </section>
  <section id="results" class="bcls-section">
    <h2>結果</h2>
    <p>如本文檔開頭所述，本地化參與者的結果不容易看到。要檢查本地化是否成功，您可以檢查大播放按鈕。使用瀏覽器的調試工具檢查按鈕。</p>
    <aside class="bcls-aside bcls-aside--information">
      <p>注意：如果您熟悉jQuery，則可以使用瀏覽器的控制台和表達式快速查看本地化的文本<code translate="No">$(".vjs-big-play-button").firstChild</code>。你會看見<strong>播放視頻</strong>已本地化，如控制台中的此屏幕截圖所示：</p>
      <figure class="bcls-figure"><img class="bcls-image" alt="inspect play button" src="/assets/images/coding-topics/console-video-abspielen.png" /></figure>
    </aside>
    <figure class="bcls-figure"><img class="bcls-image" alt="inspect play button" src="/assets/images/coding-topics/localization-inspect-play-button.png" /></figure>
    <p>向下鑽取HTML，直到看到按鈕的文本，在非本地化版本中為<strong>播放視頻</strong>。</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="english localization" src="/assets/images/coding-topics/localization-english.png" /></figure>
    <p>按照上述步驟操作後，播放器將被本地化。在以下屏幕截圖中，該按鈕已本地化為德語。</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="german localization" src="/assets/images/coding-topics/localization-deutsch.png" /></figure>
  </section>
  <section id="iframeimplementation" class="bcls-section">
    <h2>iframe實施</h2>
    <p>本地化Brightcove Player的iframe實現與本地化頁內嵌入版本相同。您需要做的就是包括所需的語言並在瀏覽器中設置首選語言。這兩個過程在本文檔的前面都有詳細介紹。沒有要修改的代碼。</p>
  </section>
  <section id="alteraddlanguage" class="bcls-section">
    <h2>更改/添加到語言</h2>
    <p>如果您希望更改或添加在上找到的給定本地化版本<a href="//github.com/videojs/video.js/tree/master/lang">Video.js語言頁面</a>這很容易做到。您可以復制給定的翻譯，然後根據需要進行修改。例如，以下是帶有以下內容的德語翻譯：<strong>你好</strong>和<strong>再見</strong>添加到列表中。(For brevity's sake, not all the control elements translations are included.)</p>
    <pre class="line-numbers">
<code class="language-javascript" translate="No">videojs.addLanguage("de", {
  "Play": "Wiedergabe",
  "Pause": "Pause",
  "Current Time": "Aktueller Zeitpunkt",
  "Hello": "Guten Tag",
  "Goodbye": "Auf Wiedersehen"
});  </code></pre>
    <p>此JavaScript可能在HTML頁面本身中，作為源包含在<code translate="No">&lt;script&gt;</code>標籤，或使用Studio將腳本添加到播放器的配置中。該文件的網址已添加到<strong>外掛程式</strong>播放器屬性部分。使用<strong>新增檔案</strong>按鈕以添加JavaScript文件，如下所示：</p>
    <figure class="bcls-figure"><img class="bcls-image" alt="add script in Studio" src="/assets/images/coding-topics/localization-studio-add-script.png" /></figure>
    <aside class="bcls-aside bcls-aside--tip">無論是哪種方法，調用<code>添加語言（）</code>方法必須在播放器初始化之前完成。例如，如果代碼在HTML頁面中，則可以執行以下操作：
      <pre class="line-numbers"><code class="language-javascript" translate="No">videojs.addLanguage("de", {
  "Play": "Wiedergabe",
  "Pause": "Pause",
  "Current Time": "Aktueller Zeitpunkt",
  "Hello": "Guten Tag",
  "Goodbye": "Auf Wiedersehen"
});

<span class="bcls-highlight">var myPlayer = bc("myPlayerID");</span></code></pre>
    </aside>
    <p>在語言文件中添加詞彙後，您就可以使用播放器的<code translate="No">localize()</code>訪問它的方法。以下代碼段顯示了的本地化單詞<strong>你好</strong>在HTML頁面中使用，然後是結果的屏幕截圖。</p>
    <pre class="line-numbers">
<code class="language-html" translate="No">  &lt;p id="textTarget"&gt;In here: &lt;/p&gt;

  &lt;script type="text/javascript"&gt;
    videojs.getPlayer('myPlayerID').ready(function() {
      var myPlayer = this;
      <span class="bcls-highlight">document.getElementById("textTarget").innerHTML += myPlayer.localize("Hello");</span>
    });
  &lt;/script&gt;</code></pre>
    <figure class="bcls-figure"><img class="bcls-image" alt="page text localization" src="/assets/images/coding-topics/localization-page-text.png" /></figure>
  </section>
</article>